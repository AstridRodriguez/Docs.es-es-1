---
uid: mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs
title: Cree una aplicación de base de datos de la película en 15 minutos con ASP.NET MVC (C#) | Documentos de Microsoft
author: StephenWalther
description: Stephen Walther compila una todo controlada por la base de datos ASP.NET MVC la aplicación desde el principio para finalizar. Este tutorial se muestra una introducción excelente para las personas que son t nuevo...
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/27/2009
ms.topic: article
ms.assetid: dd1be137-91c5-47a8-8137-fecf0789c7f5
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs
msc.type: authoredcontent
ms.openlocfilehash: 81e0ae42bc3e7656c933ba70920eaeeffa4c4bd6
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/06/2018
---
<a name="create-a-movie-database-application-in-15-minutes-with-aspnet-mvc-c"></a><span data-ttu-id="3b1db-104">Cree una aplicación de base de datos de la película en 15 minutos con ASP.NET MVC (C#)</span><span class="sxs-lookup"><span data-stu-id="3b1db-104">Create a Movie Database Application in 15 Minutes with ASP.NET MVC (C#)</span></span>
====================
<span data-ttu-id="3b1db-105">por [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="3b1db-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="3b1db-106">Descargar código</span><span class="sxs-lookup"><span data-stu-id="3b1db-106">Download Code</span></span>](http://download.microsoft.com/download/7/2/8/728F8794-E59A-4D18-9A56-7AD2DB05BD9D/MovieApp_CS.zip)

> <span data-ttu-id="3b1db-107">Stephen Walther compila una todo controlada por la base de datos ASP.NET MVC la aplicación desde el principio para finalizar.</span><span class="sxs-lookup"><span data-stu-id="3b1db-107">Stephen Walther builds an entire database-driven ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="3b1db-108">Este tutorial se muestra una introducción excelente para las personas que son nuevas en el marco de MVC de ASP.NET y que desean para hacerse una idea del proceso de creación de una aplicación de ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3b1db-108">This tutorial is a great introduction for people who are new to the ASP.NET MVC Framework and who want to get a sense of the process of building an ASP.NET MVC application.</span></span>


<span data-ttu-id="3b1db-109">El propósito de este tutorial es para proporcionarle una idea de "¿Qué es como" para crear una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3b1db-109">The purpose of this tutorial is to give you a sense of "what it is like" to build an ASP.NET MVC application.</span></span> <span data-ttu-id="3b1db-110">En este tutorial, poner en funcionamiento mediante la creación de una aplicación de ASP.NET MVC toda desde el principio para finalizar.</span><span class="sxs-lookup"><span data-stu-id="3b1db-110">In this tutorial, I blast through building an entire ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="3b1db-111">Mostrarle cómo compilar una aplicación sencilla de bases de datos que se muestra cómo enumerar, crear y editar registros de base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-111">I show you how to build a simple database-driven application that illustrates how you can list, create, and edit database records.</span></span>

<span data-ttu-id="3b1db-112">Para simplificar el proceso de creación de nuestra aplicación, se podrá sacar partido de las características de scaffolding de Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="3b1db-112">To simplify the process of building our application, we'll take advantage of the scaffolding features of Visual Studio 2008.</span></span> <span data-ttu-id="3b1db-113">Dejaremos que Visual Studio genera el código inicial y el contenido de nuestro controladores, modelos y vistas.</span><span class="sxs-lookup"><span data-stu-id="3b1db-113">We'll let Visual Studio generate the initial code and content for our controllers, models, and views.</span></span>

<span data-ttu-id="3b1db-114">Si ha trabajado con páginas ASP o ASP.NET, a continuación, encontrará ASP.NET MVC muy familiar.</span><span class="sxs-lookup"><span data-stu-id="3b1db-114">If you have worked with Active Server Pages or ASP.NET, then you should find ASP.NET MVC very familiar.</span></span> <span data-ttu-id="3b1db-115">Las vistas de MVC de ASP.NET son muy similares a las páginas en una aplicación de páginas Active Server.</span><span class="sxs-lookup"><span data-stu-id="3b1db-115">ASP.NET MVC views are very much like the pages in an Active Server Pages application.</span></span> <span data-ttu-id="3b1db-116">Y, al igual que una aplicación de formularios Web Forms de ASP.NET tradicional, ASP.NET MVC proporciona acceso completo al conjunto enriquecido de idiomas y las clases proporcionadas por .NET framework.</span><span class="sxs-lookup"><span data-stu-id="3b1db-116">And, just like a traditional ASP.NET Web Forms application, ASP.NET MVC provides you with full access to the rich set of languages and classes provided by the .NET framework.</span></span>

<span data-ttu-id="3b1db-117">Mi esperanza es que este tutorial le proporcionará una idea de cómo la experiencia de creación de una aplicación ASP.NET MVC es diferente de la experiencia de creación de una aplicación de páginas Active Server o de formularios Web Forms de ASP.NET y similares.</span><span class="sxs-lookup"><span data-stu-id="3b1db-117">My hope is that this tutorial will give you a sense of how the experience of building an ASP.NET MVC application is both similar and different than the experience of building an Active Server Pages or ASP.NET Web Forms application.</span></span>

## <a name="overview-of-the-movie-database-application"></a><span data-ttu-id="3b1db-118">Información general de la aplicación de base de datos de la película</span><span class="sxs-lookup"><span data-stu-id="3b1db-118">Overview of the Movie Database Application</span></span>

<span data-ttu-id="3b1db-119">Dado que nuestro objetivo es no complicar las cosas, vamos a crear una aplicación de base de datos de película muy sencilla.</span><span class="sxs-lookup"><span data-stu-id="3b1db-119">Because our goal is to keep things simple, we'll build a very simple Movie Database application.</span></span> <span data-ttu-id="3b1db-120">Nuestra aplicación de base de datos de película simple nos permitirá hacer tres cosas:</span><span class="sxs-lookup"><span data-stu-id="3b1db-120">Our simple Movie Database application will allow us to do three things:</span></span>

1. <span data-ttu-id="3b1db-121">Enumerar un conjunto de registros de base de datos de la película</span><span class="sxs-lookup"><span data-stu-id="3b1db-121">List a set of movie database records</span></span>
2. <span data-ttu-id="3b1db-122">Crear un nuevo registro de base de datos de película</span><span class="sxs-lookup"><span data-stu-id="3b1db-122">Create a new movie database record</span></span>
3. <span data-ttu-id="3b1db-123">Editar un registro de base de datos existente de película</span><span class="sxs-lookup"><span data-stu-id="3b1db-123">Edit an existing movie database record</span></span>

<span data-ttu-id="3b1db-124">Nuevo, puesto que deseamos no complicar las cosas, se podrá aprovechar el número mínimo de características del marco de ASP.NET MVC necesarios para compilar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3b1db-124">Again, because we want to keep things simple, we'll take advantage of the minimum number of features of the ASP.NET MVC framework needed to build our application.</span></span> <span data-ttu-id="3b1db-125">Por ejemplo, se no pueden sacar partido de desarrollo controlado por pruebas.</span><span class="sxs-lookup"><span data-stu-id="3b1db-125">For example, we won't be taking advantage of Test-Driven Development.</span></span>

<span data-ttu-id="3b1db-126">Para crear nuestra aplicación, es necesario completar cada uno de los siguientes pasos:</span><span class="sxs-lookup"><span data-stu-id="3b1db-126">In order to create our application, we need to complete each of the following steps:</span></span>

1. <span data-ttu-id="3b1db-127">Crear el proyecto de aplicación Web de ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="3b1db-127">Create the ASP.NET MVC Web Application Project</span></span>
2. <span data-ttu-id="3b1db-128">Creación de la base de datos</span><span class="sxs-lookup"><span data-stu-id="3b1db-128">Create the database</span></span>
3. <span data-ttu-id="3b1db-129">Crear el modelo de base de datos</span><span class="sxs-lookup"><span data-stu-id="3b1db-129">Create the database model</span></span>
4. <span data-ttu-id="3b1db-130">Crear el controlador de MVC de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3b1db-130">Create the ASP.NET MVC controller</span></span>
5. <span data-ttu-id="3b1db-131">Crear vistas de ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="3b1db-131">Create the ASP.NET MVC views</span></span>

## <a name="preliminaries"></a><span data-ttu-id="3b1db-132">Pasos preliminares</span><span class="sxs-lookup"><span data-stu-id="3b1db-132">Preliminaries</span></span>

<span data-ttu-id="3b1db-133">Necesitará Visual Studio 2008 o Visual Web Developer 2008 Express para compilar una aplicación de ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3b1db-133">You'll need either Visual Studio 2008 or Visual Web Developer 2008 Express to build an ASP.NET MVC application.</span></span> <span data-ttu-id="3b1db-134">También debe descargar el marco de MVC de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3b1db-134">You also need to download the ASP.NET MVC framework.</span></span>

<span data-ttu-id="3b1db-135">Si no tiene Visual Studio 2008, puede descargar una versión de prueba de 90 días de Visual Studio 2008 desde este sitio Web:</span><span class="sxs-lookup"><span data-stu-id="3b1db-135">If you don't own Visual Studio 2008, then you can download a 90 day trial version of Visual Studio 2008 from this website:</span></span>

[https://msdn.microsoft.com/vs2008/products/cc268305.aspx](https://msdn.microsoft.com/vs2008/products/cc268305.aspx)

<span data-ttu-id="3b1db-136">Como alternativa, puede crear ASP.NET MVC aplicaciones con Visual Web Developer Express 2008.</span><span class="sxs-lookup"><span data-stu-id="3b1db-136">Alternatively, you can create ASP.NET MVC applications with Visual Web Developer Express 2008.</span></span> <span data-ttu-id="3b1db-137">Si opta por utilizar Visual Web Developer Express, a continuación, debe tener instalado Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="3b1db-137">If you decide to use Visual Web Developer Express then you must have Service Pack 1 installed.</span></span> <span data-ttu-id="3b1db-138">Puede descargar Visual Web Developer 2008 Express con Service Pack 1 desde este sitio Web:</span><span class="sxs-lookup"><span data-stu-id="3b1db-138">You can download Visual Web Developer 2008 Express with Service Pack 1 from this website:</span></span>

[<span data-ttu-id="3b1db-139">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en</span><span class="sxs-lookup"><span data-stu-id="3b1db-139">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en)

<span data-ttu-id="3b1db-140">Después de instalar Visual Studio 2008 o Visual Web Developer 2008, debe instalar el marco de MVC de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3b1db-140">After you install either Visual Studio 2008 or Visual Web Developer 2008, you need to install the ASP.NET MVC framework.</span></span> <span data-ttu-id="3b1db-141">Puede descargar el marco de MVC de ASP.NET desde el siguiente sitio Web:</span><span class="sxs-lookup"><span data-stu-id="3b1db-141">You can download the ASP.NET MVC framework from the following website:</span></span>

[https://www.asp.net/mvc/](../../../index.md)

> [!NOTE] 
> 
> <span data-ttu-id="3b1db-142">En lugar de descargar el marco ASP.NET y el marco de MVC de ASP.NET de forma individual, puede aprovechar las ventajas del instalador de plataforma Web.</span><span class="sxs-lookup"><span data-stu-id="3b1db-142">Instead of downloading the ASP.NET framework and the ASP.NET MVC framework individually, you can take advantage of the Web Platform Installer.</span></span> <span data-ttu-id="3b1db-143">El instalador de plataforma Web es una aplicación que le permite administrar fácilmente las aplicaciones instaladas son el equipo:</span><span class="sxs-lookup"><span data-stu-id="3b1db-143">The Web Platform Installer is an application that enables you to easily manage the installed applications are your computer:</span></span>
> 
> [https://www.microsoft.com/web/gallery/Install.aspx](https://www.microsoft.com/web/gallery/Install.aspx)


## <a name="creating-an-aspnet-mvc-web-application-project"></a><span data-ttu-id="3b1db-144">Crear un proyecto de aplicación Web de ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="3b1db-144">Creating an ASP.NET MVC Web Application Project</span></span>

<span data-ttu-id="3b1db-145">Empecemos creando un nuevo proyecto de aplicación Web ASP.NET MVC en Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="3b1db-145">Let's start by creating a new ASP.NET MVC Web Application project in Visual Studio 2008.</span></span> <span data-ttu-id="3b1db-146">Seleccione la opción de menú **archivo, nuevo proyecto** y verá el cuadro de diálogo nuevo proyecto en la figura 1.</span><span class="sxs-lookup"><span data-stu-id="3b1db-146">Select the menu option **File, New Project** and you will see the New Project dialog box in Figure 1.</span></span> <span data-ttu-id="3b1db-147">Seleccione C# como lenguaje de programación y seleccione la plantilla de proyecto de aplicación Web ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3b1db-147">Select C# as the programming language and select the ASP.NET MVC Web Application project template.</span></span> <span data-ttu-id="3b1db-148">Asigne al proyecto el nombre MovieApp y haga clic en el botón Aceptar.</span><span class="sxs-lookup"><span data-stu-id="3b1db-148">Give your project the name MovieApp and click the OK button.</span></span>


<span data-ttu-id="3b1db-149">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-149">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.png)</span></span>

<span data-ttu-id="3b1db-150">**Figura 01**: cuadro de diálogo de nuevo el proyecto ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-150">**Figure 01**: The New Project dialog box ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.png))</span></span>


<span data-ttu-id="3b1db-151">Asegúrese de que selecciona .NET Framework 3.5 en la lista desplegable en la parte superior del cuadro de diálogo nuevo proyecto o la plantilla de proyecto de aplicación Web ASP.NET MVC no aparecerá.</span><span class="sxs-lookup"><span data-stu-id="3b1db-151">Make sure that you select .NET Framework 3.5 from the dropdown list at the top of the New Project dialog or the ASP.NET MVC Web Application project template won't appear.</span></span>


<span data-ttu-id="3b1db-152">Siempre que cree un nuevo proyecto de aplicación Web de MVC, Visual Studio le pedirá que cree un proyecto de prueba de unidad independiente.</span><span class="sxs-lookup"><span data-stu-id="3b1db-152">Whenever you create a new MVC Web Application project, Visual Studio prompts you to create a separate unit test project.</span></span> <span data-ttu-id="3b1db-153">Aparece el cuadro de diálogo en la figura 2.</span><span class="sxs-lookup"><span data-stu-id="3b1db-153">The dialog in Figure 2 appears.</span></span> <span data-ttu-id="3b1db-154">Dado que se no puede crear pruebas en este tutorial debido a las restricciones de tiempo (y Sí, debemos sentirnos culpables un poco acerca de este) seleccione la **No** opción y haga clic en el **Aceptar** botón.</span><span class="sxs-lookup"><span data-stu-id="3b1db-154">Because we won't be creating tests in this tutorial because of time constraints (and, yes, we should feel a little guilty about this) select the **No** option and click the **OK** button.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="3b1db-155">Visual Web Developer no admite proyectos de prueba.</span><span class="sxs-lookup"><span data-stu-id="3b1db-155">Visual Web Developer does not support test projects.</span></span>


<span data-ttu-id="3b1db-156">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-156">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.png)</span></span>

<span data-ttu-id="3b1db-157">**Figura 02**: cuadro de diálogo el proyecto de prueba unitaria crear ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-157">**Figure 02**: The Create Unit Test Project dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.png))</span></span>


<span data-ttu-id="3b1db-158">Una aplicación de MVC de ASP.NET tiene un conjunto estándar de carpetas: una carpeta de modelos, vistas y controladores.</span><span class="sxs-lookup"><span data-stu-id="3b1db-158">An ASP.NET MVC application has a standard set of folders: a Models, Views, and Controllers folder.</span></span> <span data-ttu-id="3b1db-159">Puede ver este conjunto estándar de carpetas en la ventana Explorador de soluciones.</span><span class="sxs-lookup"><span data-stu-id="3b1db-159">You can see this standard set of folders in the Solution Explorer window.</span></span> <span data-ttu-id="3b1db-160">Necesitamos agregar archivos a cada una de las carpetas de modelos, vistas y controladores para crear nuestra aplicación de base de datos de película.</span><span class="sxs-lookup"><span data-stu-id="3b1db-160">We'll need to add files to each of the Models, Views, and Controllers folders in order to build our Movie Database application.</span></span>

<span data-ttu-id="3b1db-161">Cuando se crea una nueva aplicación MVC con Visual Studio, obtendrá una aplicación de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="3b1db-161">When you create a new MVC application with Visual Studio, you get a sample application.</span></span> <span data-ttu-id="3b1db-162">Puesto que deseamos empezar desde cero, es necesario eliminar el contenido de esta aplicación de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="3b1db-162">Because we want to start from scratch, we need to delete the content for this sample application.</span></span> <span data-ttu-id="3b1db-163">Debe eliminar el siguiente archivo y la carpeta siguiente:</span><span class="sxs-lookup"><span data-stu-id="3b1db-163">You need to delete the following file and the following folder:</span></span>

- <span data-ttu-id="3b1db-164">Controllers\HomeController.cs</span><span class="sxs-lookup"><span data-stu-id="3b1db-164">Controllers\HomeController.cs</span></span>
- <span data-ttu-id="3b1db-165">Views\Home</span><span class="sxs-lookup"><span data-stu-id="3b1db-165">Views\Home</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="3b1db-166">Crear la base de datos</span><span class="sxs-lookup"><span data-stu-id="3b1db-166">Creating the Database</span></span>

<span data-ttu-id="3b1db-167">Es necesario crear una base de datos para albergar nuestros registros de base de datos de la película.</span><span class="sxs-lookup"><span data-stu-id="3b1db-167">We need to create a database to hold our movie database records.</span></span> <span data-ttu-id="3b1db-168">Afortunadamente, Visual Studio incluye una base de datos gratuita denominado SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="3b1db-168">Luckily, Visual Studio includes a free database named SQL Server Express.</span></span> <span data-ttu-id="3b1db-169">Siga estos pasos para crear la base de datos:</span><span class="sxs-lookup"><span data-stu-id="3b1db-169">Follow these steps to create the database:</span></span>

1. <span data-ttu-id="3b1db-170">Haga clic en la aplicación\_carpeta de datos en la ventana Explorador de soluciones y seleccione la opción de menú **agregar, nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="3b1db-170">Right-click the App\_Data folder in the Solution Explorer window and select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="3b1db-171">Seleccione el **datos** categoría y seleccione la **base de datos de SQL Server** plantilla (consulte la figura 3).</span><span class="sxs-lookup"><span data-stu-id="3b1db-171">Select the **Data** category and select the **SQL Server Database** template (see Figure 3).</span></span>
3. <span data-ttu-id="3b1db-172">Nombre de la base de datos nueva *MoviesDB.mdf* y haga clic en el **agregar** botón.</span><span class="sxs-lookup"><span data-stu-id="3b1db-172">Name your new database *MoviesDB.mdf* and click the **Add** button.</span></span>

<span data-ttu-id="3b1db-173">Después de crear la base de datos, puede conectarse a la base de datos haciendo doble clic en el archivo MoviesDB.mdf ubicado en la aplicación\_carpeta de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-173">After you create your database, you can connect to the database by double-clicking the MoviesDB.mdf file located in the App\_Data folder.</span></span> <span data-ttu-id="3b1db-174">Haga doble clic en el archivo MoviesDB.mdf, se abre la ventana Explorador de servidores.</span><span class="sxs-lookup"><span data-stu-id="3b1db-174">Double-clicking the MoviesDB.mdf file opens the Server Explorer window.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="3b1db-175">La ventana Explorador de servidores con el nombre de la ventana del explorador de base de datos en el caso de Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="3b1db-175">The Server Explorer window is named the Database Explorer window in the case of Visual Web Developer.</span></span>


<span data-ttu-id="3b1db-176">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-176">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.png)</span></span>

<span data-ttu-id="3b1db-177">**Figura 03**: crear una base de datos de Microsoft SQL Server ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-177">**Figure 03**: Creating a Microsoft SQL Server Database ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.png))</span></span>


<span data-ttu-id="3b1db-178">A continuación, necesitamos crear una nueva tabla de base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-178">Next, we need to create a new database table.</span></span> <span data-ttu-id="3b1db-179">Desde dentro de la ventana Explorador de servidores, haga clic en la carpeta de tablas y seleccione la opción de menú **agregar nueva tabla**.</span><span class="sxs-lookup"><span data-stu-id="3b1db-179">From within the Sever Explorer window, right-click the Tables folder and select the menu option **Add New Table**.</span></span> <span data-ttu-id="3b1db-180">Al seleccionar esta opción de menú, abre el Diseñador de tablas de base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-180">Selecting this menu option opens the database table designer.</span></span> <span data-ttu-id="3b1db-181">Cree las columnas de base de datos siguientes:</span><span class="sxs-lookup"><span data-stu-id="3b1db-181">Create the following database columns:</span></span>

<a id="0.1_table01"></a>


| <span data-ttu-id="3b1db-182">**Nombre de columna**</span><span class="sxs-lookup"><span data-stu-id="3b1db-182">**Column Name**</span></span> | <span data-ttu-id="3b1db-183">**Tipo de datos**</span><span class="sxs-lookup"><span data-stu-id="3b1db-183">**Data Type**</span></span> | <span data-ttu-id="3b1db-184">**Permitir valores null**</span><span class="sxs-lookup"><span data-stu-id="3b1db-184">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3b1db-185">Id.</span><span class="sxs-lookup"><span data-stu-id="3b1db-185">Id</span></span> | <span data-ttu-id="3b1db-186">Valor int.</span><span class="sxs-lookup"><span data-stu-id="3b1db-186">Int</span></span> | <span data-ttu-id="3b1db-187">False</span><span class="sxs-lookup"><span data-stu-id="3b1db-187">False</span></span> |
| <span data-ttu-id="3b1db-188">Title</span><span class="sxs-lookup"><span data-stu-id="3b1db-188">Title</span></span> | <span data-ttu-id="3b1db-189">Nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="3b1db-189">Nvarchar(100)</span></span> | <span data-ttu-id="3b1db-190">False</span><span class="sxs-lookup"><span data-stu-id="3b1db-190">False</span></span> |
| <span data-ttu-id="3b1db-191">Director de</span><span class="sxs-lookup"><span data-stu-id="3b1db-191">Director</span></span> | <span data-ttu-id="3b1db-192">Nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="3b1db-192">Nvarchar(100)</span></span> | <span data-ttu-id="3b1db-193">False</span><span class="sxs-lookup"><span data-stu-id="3b1db-193">False</span></span> |
| <span data-ttu-id="3b1db-194">DateReleased</span><span class="sxs-lookup"><span data-stu-id="3b1db-194">DateReleased</span></span> | <span data-ttu-id="3b1db-195">DateTime</span><span class="sxs-lookup"><span data-stu-id="3b1db-195">DateTime</span></span> | <span data-ttu-id="3b1db-196">False</span><span class="sxs-lookup"><span data-stu-id="3b1db-196">False</span></span> |


<span data-ttu-id="3b1db-197">La primera columna, la columna Id., tiene dos propiedades especiales.</span><span class="sxs-lookup"><span data-stu-id="3b1db-197">The first column, the Id column, has two special properties.</span></span> <span data-ttu-id="3b1db-198">En primer lugar, debe marcar la columna de identificador como columna de clave principal.</span><span class="sxs-lookup"><span data-stu-id="3b1db-198">First, you need to mark the Id column as the primary key column.</span></span> <span data-ttu-id="3b1db-199">Después de seleccionar la columna Id., haga clic en el **establecer clave principal** botón (será el icono que es similar a una clave).</span><span class="sxs-lookup"><span data-stu-id="3b1db-199">After selecting the Id column, click the **Set Primary Key** button (it is the icon that looks like a key).</span></span> <span data-ttu-id="3b1db-200">En segundo lugar, debe marcar la columna de identificador como una columna de identidad.</span><span class="sxs-lookup"><span data-stu-id="3b1db-200">Second, you need to mark the Id column as an Identity column.</span></span> <span data-ttu-id="3b1db-201">En la ventana Propiedades de columna, desplácese hasta la sección de la especificación de identidad y expándalo.</span><span class="sxs-lookup"><span data-stu-id="3b1db-201">In the Column Properties window, scroll down to the Identity Specification section and expand it.</span></span> <span data-ttu-id="3b1db-202">Cambiar el **identidad** valor para la propiedad **Sí**.</span><span class="sxs-lookup"><span data-stu-id="3b1db-202">Change the **Is Identity** property to the value **Yes**.</span></span> <span data-ttu-id="3b1db-203">Cuando haya terminado, la tabla debería parecerse a la figura 4.</span><span class="sxs-lookup"><span data-stu-id="3b1db-203">When you are finished, the table should look like Figure 4.</span></span>


<span data-ttu-id="3b1db-204">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-204">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.png)</span></span>

<span data-ttu-id="3b1db-205">**Figura 04**: tabla de base de datos de las películas ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-205">**Figure 04**: The Movies database table ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.png))</span></span>


<span data-ttu-id="3b1db-206">Es el último paso guardar la nueva tabla.</span><span class="sxs-lookup"><span data-stu-id="3b1db-206">The final step is to save the new table.</span></span> <span data-ttu-id="3b1db-207">Haga clic en el botón Guardar (el icono del disquete) y a las películas de nombre de la tabla nueva.</span><span class="sxs-lookup"><span data-stu-id="3b1db-207">Click the Save button (the icon of the floppy) and give the new table the name Movies.</span></span>

<span data-ttu-id="3b1db-208">Cuando termine de crear la tabla, agregar algunos registros de la película a la tabla.</span><span class="sxs-lookup"><span data-stu-id="3b1db-208">After you finish creating the table, add some movie records to the table.</span></span> <span data-ttu-id="3b1db-209">Haga clic en la tabla de películas en la ventana Explorador de servidores y seleccione la opción de menú **mostrar datos de tabla**.</span><span class="sxs-lookup"><span data-stu-id="3b1db-209">Right-click the Movies table in the Server Explorer window and select the menu option **Show Table Data**.</span></span> <span data-ttu-id="3b1db-210">Escriba una lista de las películas favoritos (Véase la figura 5).</span><span class="sxs-lookup"><span data-stu-id="3b1db-210">Enter a list of your favorite movies (see Figure 5).</span></span>


<span data-ttu-id="3b1db-211">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-211">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.png)</span></span>

<span data-ttu-id="3b1db-212">**Figura 05**: escribir registros de películas ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-212">**Figure 05**: Entering movie records ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.png))</span></span>


## <a name="creating-the-model"></a><span data-ttu-id="3b1db-213">Crear el modelo</span><span class="sxs-lookup"><span data-stu-id="3b1db-213">Creating the Model</span></span>

<span data-ttu-id="3b1db-214">A continuación, necesitamos crear un conjunto de clases para representar nuestra base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-214">We next need to create a set of classes to represent our database.</span></span> <span data-ttu-id="3b1db-215">Es necesario crear un modelo de base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-215">We need to create a database model.</span></span> <span data-ttu-id="3b1db-216">Se podrá aprovechar las ventajas de Microsoft Entity Framework para generar las clases de nuestro modelo de base de datos automáticamente.</span><span class="sxs-lookup"><span data-stu-id="3b1db-216">We'll take advantage of the Microsoft Entity Framework to generate the classes for our database model automatically.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="3b1db-217">El marco de MVC de ASP.NET no está vinculado a Microsoft Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="3b1db-217">The ASP.NET MVC framework is not tied to the Microsoft Entity Framework.</span></span> <span data-ttu-id="3b1db-218">Puede crear la base de datos modelo clases aprovechando las ventajas de una serie de asignación relacional de objeto (o / M) además de LINQ to SQL, Subsonic y NHibernate de herramientas.</span><span class="sxs-lookup"><span data-stu-id="3b1db-218">You can create your database model classes by taking advantage of a variety of Object Relational Mapping (OR/M) tools including LINQ to SQL, Subsonic, and NHibernate.</span></span>


<span data-ttu-id="3b1db-219">Siga estos pasos para iniciar al Asistente para Entity Data Model:</span><span class="sxs-lookup"><span data-stu-id="3b1db-219">Follow these steps to launch the Entity Data Model Wizard:</span></span>

1. <span data-ttu-id="3b1db-220">Haga clic en la carpeta de modelos en la ventana Explorador de soluciones y seleccione la opción de menú **agregar, nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="3b1db-220">Right-click the Models folder in the Solution Explorer window and the select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="3b1db-221">Seleccione el **datos** categoría y seleccione la **ADO.NET Entity Data Model** plantilla.</span><span class="sxs-lookup"><span data-stu-id="3b1db-221">Select the **Data** category and select the **ADO.NET Entity Data Model** template.</span></span>
3. <span data-ttu-id="3b1db-222">Asigne el nombre de su modelo de datos *MoviesDBModel.edmx* y haga clic en el **agregar** botón.</span><span class="sxs-lookup"><span data-stu-id="3b1db-222">Give your data model the name *MoviesDBModel.edmx* and click the **Add** button.</span></span>

<span data-ttu-id="3b1db-223">Tras hacer clic en el botón Agregar, el Asistente para Entity Data Model aparece (consulte la figura 6).</span><span class="sxs-lookup"><span data-stu-id="3b1db-223">After you click the Add button, the Entity Data Model Wizard appears (see Figure 6).</span></span> <span data-ttu-id="3b1db-224">Siga estos pasos para completar al asistente:</span><span class="sxs-lookup"><span data-stu-id="3b1db-224">Follow these steps to complete the wizard:</span></span>

1. <span data-ttu-id="3b1db-225">En el **Elegir contenido del modelo** paso, seleccione la **generar desde la base de datos** opción.</span><span class="sxs-lookup"><span data-stu-id="3b1db-225">In the **Choose Model Contents** step, select the **Generate from database** option.</span></span>
2. <span data-ttu-id="3b1db-226">En el **elegir la conexión de datos** paso a paso, use la *MoviesDB.mdf* conexión de datos y el nombre *MoviesDBEntities* para la configuración de conexión.</span><span class="sxs-lookup"><span data-stu-id="3b1db-226">In the **Choose Your Data Connection** step, use the *MoviesDB.mdf* data connection and the name *MoviesDBEntities* for the connection settings.</span></span> <span data-ttu-id="3b1db-227">Haga clic en el **siguiente** botón.</span><span class="sxs-lookup"><span data-stu-id="3b1db-227">Click the **Next** button.</span></span>
3. <span data-ttu-id="3b1db-228">En el **elija los objetos de base de datos** paso a paso, expanda el nodo tablas, seleccione la tabla de películas.</span><span class="sxs-lookup"><span data-stu-id="3b1db-228">In the **Choose Your Database Objects** step, expand the Tables node, select the Movies table.</span></span> <span data-ttu-id="3b1db-229">Escriba el espacio de nombres *MovieApp.Models* y haga clic en el **finalizar** botón.</span><span class="sxs-lookup"><span data-stu-id="3b1db-229">Enter the namespace *MovieApp.Models* and click the **Finish** button.</span></span>


<span data-ttu-id="3b1db-230">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-230">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.png)</span></span>

<span data-ttu-id="3b1db-231">**Figura 06**: generar un modelo de base de datos con el Asistente para Entity Data Model ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-231">**Figure 06**: Generating a database model with the Entity Data Model Wizard ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.png))</span></span>


<span data-ttu-id="3b1db-232">Después de completar al Asistente para Entity Data Model, se abre el Entity Data Model Designer.</span><span class="sxs-lookup"><span data-stu-id="3b1db-232">After you complete the Entity Data Model Wizard, the Entity Data Model Designer opens.</span></span> <span data-ttu-id="3b1db-233">El diseñador debe mostrar la tabla de base de datos de películas (consulte la figura 7).</span><span class="sxs-lookup"><span data-stu-id="3b1db-233">The Designer should display the Movies database table (see Figure 7).</span></span>


<span data-ttu-id="3b1db-234">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-234">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.png)</span></span>

<span data-ttu-id="3b1db-235">**Figura 07**: el Entity Data Model Designer ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-235">**Figure 07**: The Entity Data Model Designer ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.png))</span></span>


<span data-ttu-id="3b1db-236">Es preciso realizar un cambio antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="3b1db-236">We need to make one change before we continue.</span></span> <span data-ttu-id="3b1db-237">El Asistente para Entity Data genera una clase de modelo denominada *películas* que representa la tabla de base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="3b1db-237">The Entity Data Wizard generates a model class named *Movies* that represents the Movies database table.</span></span> <span data-ttu-id="3b1db-238">Dado que vamos a usar la clase de películas para representar una película determinada, es necesario modificar el nombre de la clase es *película* en lugar de *películas* (singular en lugar de plural).</span><span class="sxs-lookup"><span data-stu-id="3b1db-238">Because we'll use the Movies class to represent a particular movie, we need to modify the name of the class to be *Movie* instead of *Movies* (singular rather than plural).</span></span>

<span data-ttu-id="3b1db-239">Haga doble clic en el nombre de la clase en la superficie del diseñador y cambiar el nombre de la clase de películas a película.</span><span class="sxs-lookup"><span data-stu-id="3b1db-239">Double-click the name of the class on the designer surface and change the name of the class from Movies to Movie.</span></span> <span data-ttu-id="3b1db-240">Después de realizar este cambio, haga clic en el **guardar** botón (el icono del disquete) para generar la clase de la película.</span><span class="sxs-lookup"><span data-stu-id="3b1db-240">After making this change, click the **Save** button (the icon of the floppy disk) to generate the Movie class.</span></span>

## <a name="creating-the-aspnet-mvc-controller"></a><span data-ttu-id="3b1db-241">Crear el controlador de MVC de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3b1db-241">Creating the ASP.NET MVC Controller</span></span>

<span data-ttu-id="3b1db-242">El siguiente paso es crear el controlador de MVC de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3b1db-242">The next step is to create the ASP.NET MVC controller.</span></span> <span data-ttu-id="3b1db-243">Un controlador es responsable de controlar la forma en que un usuario interactúa con una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3b1db-243">A controller is responsible for controlling how a user interacts with an ASP.NET MVC application.</span></span>

<span data-ttu-id="3b1db-244">Siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="3b1db-244">Follow these steps:</span></span>

1. <span data-ttu-id="3b1db-245">En la ventana Explorador de soluciones, haga clic en la carpeta Controllers y seleccione la opción de menú **agregar, controlador**.</span><span class="sxs-lookup"><span data-stu-id="3b1db-245">In the Solution Explorer window, right-click the Controllers folder and select the menu option **Add, Controller**.</span></span>
2. <span data-ttu-id="3b1db-246">En el cuadro de diálogo Agregar controlador, escriba el nombre *HomeController* y Active la casilla etiquetada **agregar métodos de acción para los escenarios de creación, actualización y detalles** (consulte la figura 8).</span><span class="sxs-lookup"><span data-stu-id="3b1db-246">In the Add Controller dialog, enter the name *HomeController* and check the checkbox labeled **Add action methods for Create, Update, and Details scenarios** (see Figure 8).</span></span>
3. <span data-ttu-id="3b1db-247">Haga clic en el **agregar** botón para agregar el nuevo controlador a su proyecto.</span><span class="sxs-lookup"><span data-stu-id="3b1db-247">Click the **Add** button to add the new controller to your project.</span></span>

<span data-ttu-id="3b1db-248">Después de completar estos pasos, se crea el controlador en la lista 1.</span><span class="sxs-lookup"><span data-stu-id="3b1db-248">After you complete these steps, the controller in Listing 1 is created.</span></span> <span data-ttu-id="3b1db-249">Tenga en cuenta que contiene métodos con el nombre de índice, obtener información detallada, crear y editar.</span><span class="sxs-lookup"><span data-stu-id="3b1db-249">Notice that it contains methods named Index, Details, Create, and Edit.</span></span> <span data-ttu-id="3b1db-250">En las secciones siguientes, se agregará el código necesario para obtener estos métodos funcionen.</span><span class="sxs-lookup"><span data-stu-id="3b1db-250">In the following sections, we'll add the necessary code to get these methods to work.</span></span>


<span data-ttu-id="3b1db-251">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-251">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image15.png)</span></span>

<span data-ttu-id="3b1db-252">**Figura 08**: agregar un nuevo controlador de MVC de ASP.NET ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-252">**Figure 08**: Adding a new ASP.NET MVC Controller ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image16.png))</span></span>


<span data-ttu-id="3b1db-253">**Lista 1 – controllers\homecontroller**</span><span class="sxs-lookup"><span data-stu-id="3b1db-253">**Listing 1 – Controllers\HomeController.cs**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample1.cs)]

## <a name="listing-database-records"></a><span data-ttu-id="3b1db-254">Registros de base de datos de lista</span><span class="sxs-lookup"><span data-stu-id="3b1db-254">Listing Database Records</span></span>

<span data-ttu-id="3b1db-255">El método Index() del controlador Home es el método predeterminado para una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3b1db-255">The Index() method of the Home controller is the default method for an ASP.NET MVC application.</span></span> <span data-ttu-id="3b1db-256">Cuando se ejecuta una aplicación de ASP.NET MVC, el método Index() es el primer método de controlador que se llama.</span><span class="sxs-lookup"><span data-stu-id="3b1db-256">When you run an ASP.NET MVC application, the Index() method is the first controller method that is called.</span></span>

<span data-ttu-id="3b1db-257">Vamos a usar el método Index() para mostrar la lista de registros de la tabla de base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="3b1db-257">We'll use the Index() method to display the list of records from the Movies database table.</span></span> <span data-ttu-id="3b1db-258">Se podrá sacar partido de la base de datos las clases de modelo que hemos creado con anterioridad para recuperar los registros de base de datos de la película con el método Index().</span><span class="sxs-lookup"><span data-stu-id="3b1db-258">We'll take advantage of the database model classes that we created earlier to retrieve the movie database records with the Index() method.</span></span>

<span data-ttu-id="3b1db-259">Modifiqué la clase HomeController en el listado 2 para que contenga un nuevo campo privado denominado \_base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-259">I've modified the HomeController class in Listing 2 so that it contains a new private field named \_db.</span></span> <span data-ttu-id="3b1db-260">La clase MoviesDBEntities representa nuestro modelo de base de datos y vamos a usar esta clase para comunicarse con nuestra base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-260">The MoviesDBEntities class represents our database model and we'll use this class to communicate with our database.</span></span>

<span data-ttu-id="3b1db-261">También modifiqué el método Index() en el listado 2.</span><span class="sxs-lookup"><span data-stu-id="3b1db-261">I've also modified the Index() method in Listing 2.</span></span> <span data-ttu-id="3b1db-262">El método Index() utiliza la clase MoviesDBEntities para recuperar todos los registros de la película de la tabla de base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="3b1db-262">The Index() method uses the MoviesDBEntities class to retrieve all of the movie records from the Movies database table.</span></span> <span data-ttu-id="3b1db-263">La expresión  *\_base de datos. MovieSet.ToList()* devuelve una lista de todos los registros de la película de la tabla de base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="3b1db-263">The expression *\_db.MovieSet.ToList()* returns a list of all of the movie records from the Movies database table.</span></span>

<span data-ttu-id="3b1db-264">La lista de películas se pasa a la vista.</span><span class="sxs-lookup"><span data-stu-id="3b1db-264">The list of movies is passed to the view.</span></span> <span data-ttu-id="3b1db-265">Todo lo que se pasa al método View() se pasa a la vista como datos de la vista.</span><span class="sxs-lookup"><span data-stu-id="3b1db-265">Anything that gets passed to the View() method gets passed to the view as view data.</span></span>

<span data-ttu-id="3b1db-266">**La lista 2 – Controllers/HomeController.cs (método de índice modificado)**</span><span class="sxs-lookup"><span data-stu-id="3b1db-266">**Listing 2 – Controllers/HomeController.cs (modified Index method)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample2.cs)]

<span data-ttu-id="3b1db-267">El método Index() devuelve una vista con el nombre de índice.</span><span class="sxs-lookup"><span data-stu-id="3b1db-267">The Index() method returns a view named Index.</span></span> <span data-ttu-id="3b1db-268">Es necesario crear esta vista para ver una lista de entradas de base de datos de la película.</span><span class="sxs-lookup"><span data-stu-id="3b1db-268">We need to create this view to display the list of movie database records.</span></span> <span data-ttu-id="3b1db-269">Siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="3b1db-269">Follow these steps:</span></span>


<span data-ttu-id="3b1db-270">Debe compilar el proyecto (seleccione la opción de menú **compilar, compilar solución**) antes de abrir el **agregar vista** cuadro de diálogo o ninguna clase aparecerá en el **Ver clase de datos** lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="3b1db-270">You should build your project (select the menu option **Build, Build Solution**) before opening the **Add View** dialog or no classes will appear in the **View data class** dropdown list.</span></span>


1. <span data-ttu-id="3b1db-271">Haga clic en el método Index() en el editor de código y seleccione la opción de menú **agregar vista** (consulte la figura 9).</span><span class="sxs-lookup"><span data-stu-id="3b1db-271">Right-click the Index() method in the code editor and select the menu option **Add View** (see Figure 9).</span></span>
2. <span data-ttu-id="3b1db-272">En el cuadro de diálogo Agregar vista, compruebe que la casilla de verificación con la etiqueta **crear una vista fuertemente tipada** está activada.</span><span class="sxs-lookup"><span data-stu-id="3b1db-272">In the Add View dialog, verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="3b1db-273">Desde el **ver contenido** lista desplegable, seleccione el valor *lista*.</span><span class="sxs-lookup"><span data-stu-id="3b1db-273">From the **View content** dropdown list, select the value *List*.</span></span>
4. <span data-ttu-id="3b1db-274">Desde el **Ver clase de datos** lista desplegable, seleccione el valor *MovieApp.Models.Movie*.</span><span class="sxs-lookup"><span data-stu-id="3b1db-274">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="3b1db-275">Haga clic en el botón Agregar para crear una nueva vista (consulte la figura 10).</span><span class="sxs-lookup"><span data-stu-id="3b1db-275">Click the Add button to create the new view (see Figure 10).</span></span>

<span data-ttu-id="3b1db-276">Después de completar estos pasos, se agrega una nueva vista denominada Index.aspx a la carpeta Views\Home.</span><span class="sxs-lookup"><span data-stu-id="3b1db-276">After you complete these steps, a new view named Index.aspx is added to the Views\Home folder.</span></span> <span data-ttu-id="3b1db-277">El contenido de la vista de índice se incluye en la lista 3.</span><span class="sxs-lookup"><span data-stu-id="3b1db-277">The contents of the Index view are included in Listing 3.</span></span>


<span data-ttu-id="3b1db-278">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-278">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image17.png)</span></span>

<span data-ttu-id="3b1db-279">**Figura 09**: agregar una vista de una acción de controlador ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-279">**Figure 09**: Adding a view from a controller action ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image18.png))</span></span>


<span data-ttu-id="3b1db-280">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-280">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image19.png)</span></span>

<span data-ttu-id="3b1db-281">**Figura 10**: crear una nueva vista con el cuadro de diálogo Agregar vista ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-281">**Figure 10**: Creating a new view with the Add View dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image20.png))</span></span>


<span data-ttu-id="3b1db-282">**El listado 3 – Views\Home\Index.aspx**</span><span class="sxs-lookup"><span data-stu-id="3b1db-282">**Listing 3 – Views\Home\Index.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample3.aspx)]

<span data-ttu-id="3b1db-283">La vista de índice muestra todos los registros de la película de la tabla de base de datos de películas dentro de una tabla HTML.</span><span class="sxs-lookup"><span data-stu-id="3b1db-283">The Index view displays all of the movie records from the Movies database table within an HTML table.</span></span> <span data-ttu-id="3b1db-284">La vista contiene un bucle foreach que recorre en iteración cada película representada por la propiedad ViewData.Model.</span><span class="sxs-lookup"><span data-stu-id="3b1db-284">The view contains a foreach loop that iterates through each movie represented by the ViewData.Model property.</span></span> <span data-ttu-id="3b1db-285">Si ejecuta la aplicación pulsando la tecla F5, verá la página web en la figura 11.</span><span class="sxs-lookup"><span data-stu-id="3b1db-285">If you run your application by hitting the F5 key, then you'll see the web page in Figure 11.</span></span>


<span data-ttu-id="3b1db-286">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-286">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image21.png)</span></span>

<span data-ttu-id="3b1db-287">**Figura 11**: vista del índice ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-287">**Figure 11**: The Index view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image22.png))</span></span>


## <a name="creating-new-database-records"></a><span data-ttu-id="3b1db-288">Creación de nuevos registros de base de datos</span><span class="sxs-lookup"><span data-stu-id="3b1db-288">Creating New Database Records</span></span>

<span data-ttu-id="3b1db-289">La vista de índice que hemos creado en la sección anterior incluye un vínculo para la creación de nuevos registros de base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-289">The Index view that we created in the previous section includes a link for creating new database records.</span></span> <span data-ttu-id="3b1db-290">Sigamos adelante e implementan la lógica y crear la vista necesaria para la creación de nuevos registros de base de datos de la película.</span><span class="sxs-lookup"><span data-stu-id="3b1db-290">Let's go ahead and implement the logic and create the view necessary for creating new movie database records.</span></span>

<span data-ttu-id="3b1db-291">El controlador Home contiene dos métodos denominados Create().</span><span class="sxs-lookup"><span data-stu-id="3b1db-291">The Home controller contains two methods named Create().</span></span> <span data-ttu-id="3b1db-292">El primer método Create() no tiene parámetros.</span><span class="sxs-lookup"><span data-stu-id="3b1db-292">The first Create() method has no parameters.</span></span> <span data-ttu-id="3b1db-293">Esta sobrecarga del método Create() se utiliza para mostrar el formulario HTML para crear un nuevo registro de base de datos de la película.</span><span class="sxs-lookup"><span data-stu-id="3b1db-293">This overload of the Create() method is used to display the HTML form for creating a new movie database record.</span></span>

<span data-ttu-id="3b1db-294">El segundo método Create() tiene un parámetro de ColecciónFormulario.</span><span class="sxs-lookup"><span data-stu-id="3b1db-294">The second Create() method has a FormCollection parameter.</span></span> <span data-ttu-id="3b1db-295">Esta sobrecarga del método Create() se llama cuando se envía el formulario HTML para crear una película nuevo al servidor.</span><span class="sxs-lookup"><span data-stu-id="3b1db-295">This overload of the Create() method is called when the HTML form for creating a new movie is posted to the server.</span></span> <span data-ttu-id="3b1db-296">Observe que este segundo método Create() tiene un atributo AcceptVerbs que impide que el método que se llama a menos que se realiza una operación HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="3b1db-296">Notice that this second Create() method has an AcceptVerbs attribute that prevents the method from being called unless an HTTP POST operation is performed.</span></span>

<span data-ttu-id="3b1db-297">Este segundo método Create() se ha modificado en la clase HomeController actualizada en el listado 4.</span><span class="sxs-lookup"><span data-stu-id="3b1db-297">This second Create() method has been modified in the updated HomeController class in Listing 4.</span></span> <span data-ttu-id="3b1db-298">La nueva versión del método Create() acepta un parámetro de película y contiene la lógica para insertar una película nueva en la tabla de base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="3b1db-298">The new version of the Create() method accepts a Movie parameter and contains the logic for inserting a new movie into the Movies database table.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="3b1db-299">Observe que el atributo de enlace.</span><span class="sxs-lookup"><span data-stu-id="3b1db-299">Notice the Bind attribute.</span></span> <span data-ttu-id="3b1db-300">Dado que no desea actualizar la propiedad de Id. de la película de formulario HTML, es necesario excluir explícitamente esta propiedad.</span><span class="sxs-lookup"><span data-stu-id="3b1db-300">Because we don't want to update the Movie Id property from HTML form, we need to explicitly exclude this property.</span></span>


<span data-ttu-id="3b1db-301">**Listado 4 – controllers\homecontroller (método de crear modificado)**</span><span class="sxs-lookup"><span data-stu-id="3b1db-301">**Listing 4 – Controllers\HomeController.cs (modified Create method)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample4.cs)]

<span data-ttu-id="3b1db-302">Visual Studio resulta muy sencillo crear el formulario para crear una nueva base de datos de la película grabar (consulte la figura 12).</span><span class="sxs-lookup"><span data-stu-id="3b1db-302">Visual Studio makes it easy to create the form for creating a new movie database record (see Figure 12).</span></span> <span data-ttu-id="3b1db-303">Siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="3b1db-303">Follow these steps:</span></span>

1. <span data-ttu-id="3b1db-304">Haga clic en el método Create() en el editor de código y seleccione la opción de menú **agregar vista**.</span><span class="sxs-lookup"><span data-stu-id="3b1db-304">Right-click the Create() method in the code editor and select the menu option **Add View**.</span></span>
2. <span data-ttu-id="3b1db-305">Compruebe que la casilla de verificación con la etiqueta **crear una vista fuertemente tipada** está activada.</span><span class="sxs-lookup"><span data-stu-id="3b1db-305">Verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="3b1db-306">Desde el **ver contenido** lista desplegable, seleccione el valor *crear*.</span><span class="sxs-lookup"><span data-stu-id="3b1db-306">From the **View content** dropdown list, select the value *Create*.</span></span>
4. <span data-ttu-id="3b1db-307">Desde el **Ver clase de datos** lista desplegable, seleccione el valor *MovieApp.Models.Movie*.</span><span class="sxs-lookup"><span data-stu-id="3b1db-307">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="3b1db-308">Haga clic en el **agregar** botón para crear la nueva vista.</span><span class="sxs-lookup"><span data-stu-id="3b1db-308">Click the **Add** button to create the new view.</span></span>


<span data-ttu-id="3b1db-309">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-309">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image23.png)</span></span>

<span data-ttu-id="3b1db-310">**Figura 12**: agregar la vista de creación ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-310">**Figure 12**: Adding the Create view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image24.png))</span></span>


<span data-ttu-id="3b1db-311">Visual Studio genera la vista en el listado 5 automáticamente.</span><span class="sxs-lookup"><span data-stu-id="3b1db-311">Visual Studio generates the view in Listing 5 automatically.</span></span> <span data-ttu-id="3b1db-312">Esta vista contiene un formulario HTML que incluye los campos que corresponden a cada una de las propiedades de la clase de la película.</span><span class="sxs-lookup"><span data-stu-id="3b1db-312">This view contains an HTML form that includes fields that correspond to each of the properties of the Movie class.</span></span>

<span data-ttu-id="3b1db-313">**Listado 5 – Views\Home\Create.aspx**</span><span class="sxs-lookup"><span data-stu-id="3b1db-313">**Listing 5 – Views\Home\Create.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample5.aspx)]

> [!NOTE] 
> 
> <span data-ttu-id="3b1db-314">El formulario HTML generado por el cuadro de diálogo Agregar vista genera un campo de formulario de Id.</span><span class="sxs-lookup"><span data-stu-id="3b1db-314">The HTML form generated by the Add View dialog generates an Id form field.</span></span> <span data-ttu-id="3b1db-315">Dado que la columna Id. es una columna de identidad, no necesitamos este campo de formulario y puede quitar de forma segura.</span><span class="sxs-lookup"><span data-stu-id="3b1db-315">Because the Id column is an Identity column, we don't need this form field and you can safely remove it.</span></span>


<span data-ttu-id="3b1db-316">Después de agregar la vista de creación, puede agregar nuevos registros de película a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-316">After you add the Create view, you can add new Movie records to the database.</span></span> <span data-ttu-id="3b1db-317">Ejecute la aplicación presionando la tecla F5 y haga clic en el vínculo Crear nuevo para ver el formulario en la figura 13.</span><span class="sxs-lookup"><span data-stu-id="3b1db-317">Run your application by pressing the F5 key and click the Create New link to see the form in Figure 13.</span></span> <span data-ttu-id="3b1db-318">Si completa y enviar el formulario, se crea un nuevo registro de base de datos de la película.</span><span class="sxs-lookup"><span data-stu-id="3b1db-318">If you complete and submit the form, a new movie database record is created.</span></span>

<span data-ttu-id="3b1db-319">Tenga en cuenta que se obtiene automáticamente validación del formulario.</span><span class="sxs-lookup"><span data-stu-id="3b1db-319">Notice that you get form validation automatically.</span></span> <span data-ttu-id="3b1db-320">Si no especifica una fecha de lanzamiento para una película, o escriba una fecha de lanzamiento no válido, se vuelve a mostrar el formulario y se resalta el campo de fecha de lanzamiento.</span><span class="sxs-lookup"><span data-stu-id="3b1db-320">If you neglect to enter a release date for a movie, or you enter an invalid release date, then the form is redisplayed and the release date field is highlighted.</span></span>


<span data-ttu-id="3b1db-321">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-321">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image25.png)</span></span>

<span data-ttu-id="3b1db-322">**Figura 13**: crear un nuevo registro de base de datos de la película ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-322">**Figure 13**: Creating a new movie database record ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image26.png))</span></span>


## <a name="editing-existing-database-records"></a><span data-ttu-id="3b1db-323">Editar registros de base de datos existente</span><span class="sxs-lookup"><span data-stu-id="3b1db-323">Editing Existing Database Records</span></span>

<span data-ttu-id="3b1db-324">En las secciones anteriores, se explicó cómo puede enumerar y crear nuevos registros de base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-324">In the previous sections, we discussed how you can list and create new database records.</span></span> <span data-ttu-id="3b1db-325">En esta sección final, se describe cómo puede modificar los registros de base de datos existentes.</span><span class="sxs-lookup"><span data-stu-id="3b1db-325">In this final section, we discuss how you can edit existing database records.</span></span>

<span data-ttu-id="3b1db-326">En primer lugar, es necesario generar el formulario de edición.</span><span class="sxs-lookup"><span data-stu-id="3b1db-326">First, we need to generate the Edit form.</span></span> <span data-ttu-id="3b1db-327">Este paso es fácil, ya que Visual Studio generará el formulario de edición para que podamos automáticamente.</span><span class="sxs-lookup"><span data-stu-id="3b1db-327">This step is easy since Visual Studio will generate the Edit form for us automatically.</span></span> <span data-ttu-id="3b1db-328">Abra la clase HomeController.cs en el editor de código de Visual Studio y siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="3b1db-328">Open the HomeController.cs class in the Visual Studio code editor and follow these steps:</span></span>

1. <span data-ttu-id="3b1db-329">Haga clic en el método Edit() en el editor de código y seleccione la opción de menú **agregar vista** (Véase la figura 14).</span><span class="sxs-lookup"><span data-stu-id="3b1db-329">Right-click the Edit() method in the code editor and select the menu option **Add View** (see Figure 14).</span></span>
2. <span data-ttu-id="3b1db-330">Active la casilla etiquetada **crear una vista fuertemente tipada**.</span><span class="sxs-lookup"><span data-stu-id="3b1db-330">Check the checkbox labeled **Create a strongly-typed view**.</span></span>
3. <span data-ttu-id="3b1db-331">Desde el **ver contenido** lista desplegable, seleccione el valor *editar*.</span><span class="sxs-lookup"><span data-stu-id="3b1db-331">From the **View content** dropdown list, select the value *Edit*.</span></span>
4. <span data-ttu-id="3b1db-332">Desde el **Ver clase de datos** lista desplegable, seleccione el valor *MovieApp.Models.Movie*.</span><span class="sxs-lookup"><span data-stu-id="3b1db-332">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="3b1db-333">Haga clic en el **agregar** botón para crear la nueva vista.</span><span class="sxs-lookup"><span data-stu-id="3b1db-333">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="3b1db-334">Completar estos pasos, agrega una nueva vista denominada Edit.aspx a la carpeta Views\Home.</span><span class="sxs-lookup"><span data-stu-id="3b1db-334">Completing these steps adds a new view named Edit.aspx to the Views\Home folder.</span></span> <span data-ttu-id="3b1db-335">Esta vista contiene un formulario HTML para editar un registro de la película.</span><span class="sxs-lookup"><span data-stu-id="3b1db-335">This view contains an HTML form for editing a movie record.</span></span>


<span data-ttu-id="3b1db-336">[![El cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="3b1db-336">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image27.png)</span></span>

<span data-ttu-id="3b1db-337">**Figura 14**: agregar la vista de edición ([haga clic aquí para ver la imagen a tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="3b1db-337">**Figure 14**: Adding the Edit view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image28.png))</span></span>


> [!NOTE] 
> 
> <span data-ttu-id="3b1db-338">La vista de edición contiene un campo de formulario HTML que se corresponde con la propiedad de Id. de la película.</span><span class="sxs-lookup"><span data-stu-id="3b1db-338">The Edit view contains an HTML form field that corresponds to the Movie Id property.</span></span> <span data-ttu-id="3b1db-339">Dado que no desea editar el valor de la propiedad Id de personas, debe quitar este campo de formulario.</span><span class="sxs-lookup"><span data-stu-id="3b1db-339">Because you don't want people editing the value of the Id property, you should remove this form field.</span></span>


<span data-ttu-id="3b1db-340">Por último, es necesario modificar el controlador Home para que admita la edición de un registro de base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-340">Finally, we need to modify the Home controller so that it supports editing a database record.</span></span> <span data-ttu-id="3b1db-341">La clase HomeController actualizada se encuentra en el listado 6.</span><span class="sxs-lookup"><span data-stu-id="3b1db-341">The updated HomeController class is contained in Listing 6.</span></span>

<span data-ttu-id="3b1db-342">**Enumerar 6: controllers\homecontroller (métodos de edición)**</span><span class="sxs-lookup"><span data-stu-id="3b1db-342">**Listing 6 – Controllers\HomeController.cs (Edit methods)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample6.cs)]

<span data-ttu-id="3b1db-343">En el listado 6, he agregado lógica adicional para ambas sobrecargas del método Edit().</span><span class="sxs-lookup"><span data-stu-id="3b1db-343">In Listing 6, I've added additional logic to both overloads of the Edit() method.</span></span> <span data-ttu-id="3b1db-344">El primer método Edit() devuelve el registro de base de datos de la película que corresponde al parámetro de identificador pasado al método.</span><span class="sxs-lookup"><span data-stu-id="3b1db-344">The first Edit() method returns the movie database record that corresponds to the Id parameter passed to the method.</span></span> <span data-ttu-id="3b1db-345">La segunda sobrecarga realiza las actualizaciones a un registro de la película en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-345">The second overload performs the updates to a movie record in the database.</span></span>

<span data-ttu-id="3b1db-346">Tenga en cuenta que debe recuperar la película original y, a continuación, llame a ApplyPropertyChanges() para actualizar la película existente en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3b1db-346">Notice that you must retrieve the original movie, and then call ApplyPropertyChanges(), to update the existing movie in the database.</span></span>

## <a name="summary"></a><span data-ttu-id="3b1db-347">Resumen</span><span class="sxs-lookup"><span data-stu-id="3b1db-347">Summary</span></span>

<span data-ttu-id="3b1db-348">El objetivo de este tutorial era para proporcionarle una idea de la experiencia de creación de una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3b1db-348">The purpose of this tutorial was to give you a sense of the experience of building an ASP.NET MVC application.</span></span> <span data-ttu-id="3b1db-349">Espero que detecta que generar un ASP.NET MVC de aplicación web es muy similar a la experiencia de creación de una aplicación ASP.NET o de páginas Active Server.</span><span class="sxs-lookup"><span data-stu-id="3b1db-349">I hope that you discovered that building an ASP.NET MVC web application is very similar to the experience of building an Active Server Pages or ASP.NET application.</span></span>

<span data-ttu-id="3b1db-350">En este tutorial, se examinan solo las características más básicas del marco de MVC de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3b1db-350">In this tutorial, we examined only the most basic features of the ASP.NET MVC framework.</span></span> <span data-ttu-id="3b1db-351">En tutoriales futuros, hemos profundizar más en temas tales como controladores, las acciones de controlador, vistas, ver datos y aplicaciones auxiliares HTML.</span><span class="sxs-lookup"><span data-stu-id="3b1db-351">In future tutorials, we dive deeper into topics such as controllers, controller actions, views, view data, and HTML helpers.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="3b1db-352">Siguiente</span><span class="sxs-lookup"><span data-stu-id="3b1db-352">Next</span></span>](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb.md)
