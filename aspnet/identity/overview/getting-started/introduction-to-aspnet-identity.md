---
uid: identity/overview/getting-started/introduction-to-aspnet-identity
title: Introducción a la identidad de ASP.NET | Documentos de Microsoft
author: jongalloway
description: El sistema de pertenencia ASP.NET se introdujo con ASP.NET 2.0 back en 2005 y, puesto que, a continuación, ha habido muchos cambios en el normalmente de las aplicaciones web de formas...
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/17/2013
ms.topic: article
ms.assetid: 38717fc1-5989-43cf-952d-4007cc1dd923
ms.technology: ''
ms.prod: .net-framework
msc.legacyurl: /identity/overview/getting-started/introduction-to-aspnet-identity
msc.type: authoredcontent
ms.openlocfilehash: 59272f4659256e108ee99b22eb3bd3e2583a617c
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/06/2018
ms.locfileid: "30874101"
---
<a name="introduction-to-aspnet-identity"></a><span data-ttu-id="905c7-103">Introducción a la identidad de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="905c7-103">Introduction to ASP.NET Identity</span></span>
====================
<span data-ttu-id="905c7-104">por [Jon Galloway](https://github.com/jongalloway), [Pranav Rastogi](https://github.com/rustd), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="905c7-104">by [Jon Galloway](https://github.com/jongalloway), [Pranav Rastogi](https://github.com/rustd), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="905c7-105">El sistema de pertenencia ASP.NET se introdujo con ASP.NET 2.0 back en 2005 y, puesto que, a continuación, ha habido muchos cambios en las formas de las aplicaciones web normalmente controlan la autenticación y autorización.</span><span class="sxs-lookup"><span data-stu-id="905c7-105">The ASP.NET membership system was introduced with ASP.NET 2.0 back in 2005, and since then there have been many changes in the ways web applications typically handle authentication and authorization.</span></span> <span data-ttu-id="905c7-106">ASP.NET Identity es un vistazo actualizado a cuál debe ser el sistema de pertenencia cuando se crean aplicaciones modernas de web, teléfono o tableta.</span><span class="sxs-lookup"><span data-stu-id="905c7-106">ASP.NET Identity is a fresh look at what the membership system should be when you are building modern applications for the web, phone, or tablet.</span></span>
> 
> <span data-ttu-id="905c7-107">En este artículo se escribió por Pranav Rastogi ([@rustd](https://twitter.com/rustd)), Jon Galloway ([@jongalloway](https://twitter.com/jongalloway)), Tom Dykstra y Rick Anderson ([ @RickAndMSFT ](https://twitter.com/#!/RickAndMSFT) ).</span><span class="sxs-lookup"><span data-stu-id="905c7-107">This article was written by Pranav Rastogi ([@rustd](https://twitter.com/rustd)), Jon Galloway ([@jongalloway](https://twitter.com/jongalloway)), Tom Dykstra, and Rick Anderson ([@RickAndMSFT](https://twitter.com/#!/RickAndMSFT) ).</span></span>


## <a name="background-membership-in-aspnet"></a><span data-ttu-id="905c7-108">En segundo plano: Pertenencia a ASP.NET</span><span class="sxs-lookup"><span data-stu-id="905c7-108">Background: Membership in ASP.NET</span></span>

### <a name="aspnet-membership"></a><span data-ttu-id="905c7-109">Pertenencia a ASP.NET</span><span class="sxs-lookup"><span data-stu-id="905c7-109">ASP.NET Membership</span></span>

<span data-ttu-id="905c7-110">[Pertenencia a ASP.NET](https://msdn.microsoft.com/library/yh26yfzy(v=VS.100).aspx) se ha diseñado para resolver los requisitos de pertenencia de sitio que son comunes en 2005, que se invirtió en la autenticación de formularios y una base de datos de SQL Server para nombres de usuario, contraseñas y datos de perfil.</span><span class="sxs-lookup"><span data-stu-id="905c7-110">[ASP.NET Membership](https://msdn.microsoft.com/library/yh26yfzy(v=VS.100).aspx) was designed to solve site membership requirements that were common in 2005, which involved Forms Authentication, and a SQL Server database for user names, passwords, and profile data.</span></span> <span data-ttu-id="905c7-111">Actualmente hay una variedad mucho más amplia de opciones de almacenamiento de datos para aplicaciones web, y la mayoría de los desarrolladores desean habilitar sus sitios usar proveedores de identidades sociales para la funcionalidad de autenticación y autorización.</span><span class="sxs-lookup"><span data-stu-id="905c7-111">Today there is a much broader array of data storage options for web applications, and most developers want to enable their sites to use social identity providers for authentication and authorization functionality.</span></span> <span data-ttu-id="905c7-112">Las limitaciones de diseño de la pertenencia de ASP.NET dificultan esta transición:</span><span class="sxs-lookup"><span data-stu-id="905c7-112">The limitations of ASP.NET Membership's design make this transition difficult:</span></span>

- <span data-ttu-id="905c7-113">El esquema de base de datos se diseñó para SQL Server y no podrá cambiarlo.</span><span class="sxs-lookup"><span data-stu-id="905c7-113">The database schema was designed for SQL Server and you can't change it.</span></span> <span data-ttu-id="905c7-114">Puede agregar información de perfil, pero los datos adicionales se empaquetan en una tabla diferente, lo que dificulta a access por ningún medio, excepto a través de la API de proveedor de perfil.</span><span class="sxs-lookup"><span data-stu-id="905c7-114">You can add profile information, but the additional data is packed into a different table, which makes it difficult to access by any means except through the Profile Provider API.</span></span>
- <span data-ttu-id="905c7-115">El sistema del proveedor le permite cambiar el almacén de datos de copia de seguridad, pero el sistema se ha diseñado basándose suposiciones adecuados para una base de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="905c7-115">The provider system enables you to change the backing data store, but the system is designed around assumptions appropriate for a relational database.</span></span> <span data-ttu-id="905c7-116">Puede escribir un proveedor para almacenar información de pertenencia en un mecanismo de almacenamiento no relacionales, como las tablas de almacenamiento de Azure, pero se deben evitar el diseño relacional escribiendo una gran cantidad de código y una gran cantidad de `System.NotImplementedException` excepciones para los métodos que no se aplica a las bases de datos NoSQL.</span><span class="sxs-lookup"><span data-stu-id="905c7-116">You can write a provider to store membership information in a non-relational storage mechanism, such as Azure Storage Tables, but then you have to work around the relational design by writing a lot of code and a lot of `System.NotImplementedException` exceptions for methods that don't apply to NoSQL databases.</span></span>
- <span data-ttu-id="905c7-117">Puesto que la funcionalidad de registro/desconecte se basa en la autenticación de formularios, no se puede usar el sistema de pertenencia [OWIN](../../../aspnet/overview/owin-and-katana/an-overview-of-project-katana.md).</span><span class="sxs-lookup"><span data-stu-id="905c7-117">Since the log-in/log-out functionality is based on Forms Authentication, the membership system can't use [OWIN](../../../aspnet/overview/owin-and-katana/an-overview-of-project-katana.md).</span></span> <span data-ttu-id="905c7-118">OWIN incluye componentes de middleware para la autenticación, incluida la compatibilidad con inicios de sesión con proveedores de identidad externa (por ejemplo, Accounts de Microsoft, Facebook, Google, Twitter) y los inicios de sesión con cuentas organizativas de Active Directory local o Active Directory de Azure.</span><span class="sxs-lookup"><span data-stu-id="905c7-118">OWIN includes middleware components for authentication, including support for log-ins using external identity providers (like Microsoft Accounts, Facebook, Google, Twitter), and log-ins using organizational accounts from on-premises Active Directory or Azure Active Directory.</span></span> <span data-ttu-id="905c7-119">OWIN también incluye compatibilidad con OAuth 2.0, JWT y CORS.</span><span class="sxs-lookup"><span data-stu-id="905c7-119">OWIN also includes support for OAuth 2.0, JWT and CORS.</span></span>

### <a name="aspnet-simple-membership"></a><span data-ttu-id="905c7-120">Pertenencia a ASP.NET Simple</span><span class="sxs-lookup"><span data-stu-id="905c7-120">ASP.NET Simple Membership</span></span>

<span data-ttu-id="905c7-121">[Pertenencia sencillo de ASP.NET](../../../web-pages/overview/security/16-adding-security-and-membership.md) se desarrolló como un sistema de pertenencia de ASP.NET Web Pages.</span><span class="sxs-lookup"><span data-stu-id="905c7-121">[ASP.NET simple membership](../../../web-pages/overview/security/16-adding-security-and-membership.md) was developed as a membership system for ASP.NET Web Pages.</span></span> <span data-ttu-id="905c7-122">Se publicó con WebMatrix y Visual Studio 2010 SP1.</span><span class="sxs-lookup"><span data-stu-id="905c7-122">It was released with WebMatrix and Visual Studio 2010 SP1.</span></span> <span data-ttu-id="905c7-123">El objetivo de pertenencia sencillo fue que resulte sencillo agregar la funcionalidad de pertenencia a una aplicación de páginas Web.</span><span class="sxs-lookup"><span data-stu-id="905c7-123">The goal of Simple Membership was to make it easy to add membership functionality to a Web Pages application.</span></span>

<span data-ttu-id="905c7-124">Pertenencia sencillo hizo fáciles de personalizar la información de perfil de usuario, pero todavía comparte los demás problemas con pertenencia a ASP.NET y tiene algunas limitaciones:</span><span class="sxs-lookup"><span data-stu-id="905c7-124">Simple Membership did make it easier to customize user profile information, but it still shares the other problems with ASP.NET Membership, and it has some limitations:</span></span>

- <span data-ttu-id="905c7-125">Era difícil conservar los datos de sistema de pertenencia en un almacén no relacionales.</span><span class="sxs-lookup"><span data-stu-id="905c7-125">It was hard to persist membership system data in a non-relational store.</span></span>
- <span data-ttu-id="905c7-126">No puede utilizarla con OWIN.</span><span class="sxs-lookup"><span data-stu-id="905c7-126">You can't use it with OWIN.</span></span>
- <span data-ttu-id="905c7-127">No funciona bien con los proveedores de pertenencia de ASP.NET existentes y no es extensible.</span><span class="sxs-lookup"><span data-stu-id="905c7-127">It doesn't work well with existing ASP.NET Membership providers, and it's not extensible.</span></span>

### <a name="aspnet-universal-providers"></a><span data-ttu-id="905c7-128">Proveedores universales de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="905c7-128">ASP.NET Universal Providers</span></span>

<span data-ttu-id="905c7-129">[ASP.NET Universal Providers](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx) se desarrollaron para que sea posible la persistencia de la información de pertenencia de Microsoft la base de datos SQL Azure y también funcionan con SQL Server Compact.</span><span class="sxs-lookup"><span data-stu-id="905c7-129">[ASP.NET Universal Providers](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx) were developed to make it possible to persist membership information in Microsoft Azure SQL Database, and they also work with SQL Server Compact.</span></span> <span data-ttu-id="905c7-130">Se han generado los proveedores universales en Entity Framework Code First, lo que significa que los proveedores universales puede usarse para conservar los datos en cualquier almacén admitido EF.</span><span class="sxs-lookup"><span data-stu-id="905c7-130">The Universal Providers were built on Entity Framework Code First, which means that the Universal Providers can be used to persist data in any store supported by EF.</span></span> <span data-ttu-id="905c7-131">Con los proveedores universales, el esquema de base de datos se limpia una gran cantidad de así.</span><span class="sxs-lookup"><span data-stu-id="905c7-131">With the Universal Providers, the database schema was cleaned up quite a lot as well.</span></span>

<span data-ttu-id="905c7-132">Los proveedores universales se basan en la infraestructura de la pertenencia a ASP.NET, por lo que aún tienen las mismas limitaciones que el proveedor de SqlMembership.</span><span class="sxs-lookup"><span data-stu-id="905c7-132">The Universal Providers are built on the ASP.NET Membership infrastructure, so they still carry the same limitations as the SqlMembership Provider.</span></span> <span data-ttu-id="905c7-133">Es decir, se diseñaron para bases de datos relacionales y es difícil personalizar la información de usuario y perfiles.</span><span class="sxs-lookup"><span data-stu-id="905c7-133">That is, they were designed for relational databases and it's hard to customize profile and user information.</span></span> <span data-ttu-id="905c7-134">Sin embargo, estos proveedores usar autenticación por formularios para la funcionalidad de inicio de sesión y registro de salida.</span><span class="sxs-lookup"><span data-stu-id="905c7-134">These providers also still use Forms Authentication for log-in and log-out functionality.</span></span>

## <a name="aspnet-identity"></a><span data-ttu-id="905c7-135">ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="905c7-135">ASP.NET Identity</span></span>

<span data-ttu-id="905c7-136">Como la pertenencia al caso en ASP.NET ha evolucionado durante los años, el equipo de ASP.NET ha aprendido mucho de comentarios de los clientes.</span><span class="sxs-lookup"><span data-stu-id="905c7-136">As the membership story in ASP.NET has evolved over the years, the ASP.NET team has learned a lot from feedback from customers.</span></span>

<span data-ttu-id="905c7-137">La suposición de que los usuarios inician sesión, escriba un nombre de usuario y una contraseña que se haya registrado en su propia aplicación ya no es válida.</span><span class="sxs-lookup"><span data-stu-id="905c7-137">The assumption that users will log in by entering a user name and password that they have registered in your own application is no longer valid.</span></span> <span data-ttu-id="905c7-138">La web se ha vuelto más social.</span><span class="sxs-lookup"><span data-stu-id="905c7-138">The web has become more social.</span></span> <span data-ttu-id="905c7-139">Los usuarios interactúan entre sí en tiempo real a través de canales sociales como Facebook, Twitter y otros sitios web sociales.</span><span class="sxs-lookup"><span data-stu-id="905c7-139">Users are interacting with each other in real time through social channels such as Facebook, Twitter, and other social web sites.</span></span> <span data-ttu-id="905c7-140">Los desarrolladores desean que los usuarios puedan iniciar sesión con sus identidades sociales para que pueda tener una rica experiencia en sus sitios web.</span><span class="sxs-lookup"><span data-stu-id="905c7-140">Developers want users to be able to log in with their social identities so that they can have a rich experience on their web sites.</span></span> <span data-ttu-id="905c7-141">Un sistema de pertenencia moderna debe habilitar los inicios de sesión basada en redirección a los proveedores de autenticación como Facebook, Twitter y otros.</span><span class="sxs-lookup"><span data-stu-id="905c7-141">A modern membership system must enable redirection-based log-ins to authentication providers such as Facebook, Twitter, and others.</span></span>

<span data-ttu-id="905c7-142">Como ha evolucionado desarrollo web, también lo hacían los patrones de desarrollo web.</span><span class="sxs-lookup"><span data-stu-id="905c7-142">As web development evolved, so did the patterns of web development.</span></span> <span data-ttu-id="905c7-143">Unidad de pruebas de código de la aplicación pasó a ser un problema principal para los desarrolladores de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="905c7-143">Unit testing of application code became a core concern for application developers.</span></span> <span data-ttu-id="905c7-144">En 2008 ASP.NET agrega un nuevo marco basado en el modelo Model-View-Controller (MVC), en parte para ayudar a los desarrolladores crear unidad puede probar aplicaciones de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="905c7-144">In 2008 ASP.NET added a new framework based on the Model-View-Controller (MVC) pattern, in part to help developers build unit testable ASP.NET applications.</span></span> <span data-ttu-id="905c7-145">Los desarrolladores que desearan unidad probar su lógica de la aplicación también deseada poder hacerlo con el sistema de pertenencia.</span><span class="sxs-lookup"><span data-stu-id="905c7-145">Developers who wanted to unit test their application logic also wanted to be able to do that with the membership system.</span></span>

<span data-ttu-id="905c7-146">Teniendo en cuenta estos cambios de desarrollo de aplicaciones web, ASP.NET Identity se desarrolló con los siguientes objetivos:</span><span class="sxs-lookup"><span data-stu-id="905c7-146">Considering these changes in web application development, ASP.NET Identity was developed with the following goals:</span></span>

- <span data-ttu-id="905c7-147">**Un sistema de identidades de ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="905c7-147">**One ASP.NET Identity system**</span></span>

    - <span data-ttu-id="905c7-148">Identidad de ASP.NET se puede utilizar con todos los marcos de trabajo ASP.NET, como ASP.NET MVC, formularios Web Forms, páginas Web, Web API y SignalR.</span><span class="sxs-lookup"><span data-stu-id="905c7-148">ASP.NET Identity can be used with all of the ASP.NET frameworks, such as ASP.NET MVC, Web Forms, Web Pages, Web API, and SignalR.</span></span>
    - <span data-ttu-id="905c7-149">Identidad de ASP.NET se puede utilizar al crear aplicaciones web, teléfono, almacén o híbrida.</span><span class="sxs-lookup"><span data-stu-id="905c7-149">ASP.NET Identity can be used when you are building web, phone, store, or hybrid applications.</span></span>
- <span data-ttu-id="905c7-150">**Facilidad de conectarse a datos de perfil del usuario**</span><span class="sxs-lookup"><span data-stu-id="905c7-150">**Ease of plugging in profile data about the user**</span></span>

    - <span data-ttu-id="905c7-151">Tiene control sobre el esquema de usuario y la información de perfil.</span><span class="sxs-lookup"><span data-stu-id="905c7-151">You have control over the schema of user and profile information.</span></span> <span data-ttu-id="905c7-152">Por ejemplo, puede habilitar fácilmente el sistema almacenar las fechas de nacimiento especificadas por los usuarios cuando registra una cuenta en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="905c7-152">For example, you can easily enable the system to store birth dates entered by users when they register an account in your application.</span></span>

- <span data-ttu-id="905c7-153">**Control de persistencia**</span><span class="sxs-lookup"><span data-stu-id="905c7-153">**Persistence control**</span></span>

    - <span data-ttu-id="905c7-154">De forma predeterminada, el sistema de identidades de ASP.NET almacena toda la información de usuario en una base de datos.</span><span class="sxs-lookup"><span data-stu-id="905c7-154">By default, the ASP.NET Identity system stores all the user information in a database.</span></span> <span data-ttu-id="905c7-155">Identidad de ASP.NET usa Entity Framework Code First para implementar todo su mecanismo de persistencia.</span><span class="sxs-lookup"><span data-stu-id="905c7-155">ASP.NET Identity uses Entity Framework Code First to implement all of its persistence mechanism.</span></span>
    - <span data-ttu-id="905c7-156">Puesto que controlan el esquema de base de datos, tareas comunes, como cambiar los nombres de tabla o cambiar el tipo de datos de claves principales es fácil de hacer.</span><span class="sxs-lookup"><span data-stu-id="905c7-156">Since you control the database schema, common tasks such as changing table names or changing the data type of primary keys is simple to do.</span></span>
    - <span data-ttu-id="905c7-157">Es fácil agregar mecanismos de almacenamiento diferente, como SharePoint, servicio de tabla de almacenamiento de Azure, las bases de datos NoSQL, etc., sin tener que iniciar `System.NotImplementedExceptions` excepciones.</span><span class="sxs-lookup"><span data-stu-id="905c7-157">It's easy to plug in different storage mechanisms such as SharePoint, Azure Storage Table Service, NoSQL databases, etc., without having to throw `System.NotImplementedExceptions` exceptions.</span></span>
- <span data-ttu-id="905c7-158">**Capacidad para realizar pruebas unitarias**</span><span class="sxs-lookup"><span data-stu-id="905c7-158">**Unit testability**</span></span>

    - <span data-ttu-id="905c7-159">ASP.NET Identity hace que la aplicación web más unidad pueden someterse a prueba.</span><span class="sxs-lookup"><span data-stu-id="905c7-159">ASP.NET Identity makes the web application more unit testable.</span></span> <span data-ttu-id="905c7-160">Puede escribir pruebas unitarias para las partes de la aplicación que utilicen ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="905c7-160">You can write unit tests for the parts of your application that use ASP.NET Identity.</span></span>
- <span data-ttu-id="905c7-161">**Proveedor de funciones**</span><span class="sxs-lookup"><span data-stu-id="905c7-161">**Role provider**</span></span>

    - <span data-ttu-id="905c7-162">Hay un proveedor de funciones que le permite restringir el acceso a partes de la aplicación mediante roles.</span><span class="sxs-lookup"><span data-stu-id="905c7-162">There is a role provider which lets you restrict access to parts of your application by roles.</span></span> <span data-ttu-id="905c7-163">Fácilmente, puede crear roles, como "Admin" y agregar usuarios a roles.</span><span class="sxs-lookup"><span data-stu-id="905c7-163">You can easily create roles such as "Admin" and add users to roles.</span></span>
- <span data-ttu-id="905c7-164">**Basada en notificaciones**</span><span class="sxs-lookup"><span data-stu-id="905c7-164">**Claims Based**</span></span>

    - <span data-ttu-id="905c7-165">Identidad de ASP.NET admite la autenticación basada en notificaciones, que la identidad del usuario se representa como un conjunto de notificaciones.</span><span class="sxs-lookup"><span data-stu-id="905c7-165">ASP.NET Identity supports claims-based authentication, where the user's identity is represented as a set of claims.</span></span> <span data-ttu-id="905c7-166">Notificaciones permiten a los desarrolladores a ser mucho más expresivo en la descripción de una identidad de usuario de las funciones permiten.</span><span class="sxs-lookup"><span data-stu-id="905c7-166">Claims allow developers to be a lot more expressive in describing a user's identity than roles allow.</span></span> <span data-ttu-id="905c7-167">Mientras que los miembros del rol es simplemente un valor booleano (miembro o un miembro no), una notificación puede incluir información detallada acerca de la identidad y la pertenencia del usuario.</span><span class="sxs-lookup"><span data-stu-id="905c7-167">Whereas role membership is just a boolean (member or non-member), a claim can include rich information about the user's identity and membership.</span></span>
- <span data-ttu-id="905c7-168">**Proveedores de inicio de sesión social**</span><span class="sxs-lookup"><span data-stu-id="905c7-168">**Social Login Providers**</span></span>

    - <span data-ttu-id="905c7-169">Fácilmente, puede agregar inicios de sesión sociales como Account de Microsoft, Facebook, Twitter, Google y otros usuarios a la aplicación y almacenar los datos específicos del usuario en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="905c7-169">You can easily add social log-ins such as Microsoft Account, Facebook, Twitter, Google, and others to your application, and store the user-specific data in your application.</span></span>
- <span data-ttu-id="905c7-170">**Azure Active Directory**</span><span class="sxs-lookup"><span data-stu-id="905c7-170">**Azure Active Directory**</span></span>

    - <span data-ttu-id="905c7-171">También puede agregar funcionalidad de registro con Azure Active Directory y almacenar los datos específicos del usuario en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="905c7-171">You can also add log-in functionality using Azure Active Directory, and store the user-specific data in your application.</span></span> <span data-ttu-id="905c7-172">Para obtener más información, consulte [cuentas organizativas](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) en Creating ASP.NET Web Projects in Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="905c7-172">For more information, see [Organizational Accounts](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) in Creating ASP.NET Web Projects in Visual Studio 2013</span></span>
- <span data-ttu-id="905c7-173">**Integración de OWIN**</span><span class="sxs-lookup"><span data-stu-id="905c7-173">**OWIN Integration**</span></span>

    - <span data-ttu-id="905c7-174">Autenticación de ASP.NET se basa ahora en middleware OWIN que se puede usar en cualquier host basado en OWIN.</span><span class="sxs-lookup"><span data-stu-id="905c7-174">ASP.NET authentication is now based on OWIN middleware that can be used on any OWIN-based host.</span></span> <span data-ttu-id="905c7-175">Identidad de ASP.NET no tiene ninguna dependencia en System.Web.</span><span class="sxs-lookup"><span data-stu-id="905c7-175">ASP.NET Identity does not have any dependency on System.Web.</span></span> <span data-ttu-id="905c7-176">Es un marco OWIN totalmente compatible y puede usarse en cualquier aplicación OWIN hospedado.</span><span class="sxs-lookup"><span data-stu-id="905c7-176">It is a fully compliant OWIN framework and can be used in any OWIN hosted application.</span></span>
    - <span data-ttu-id="905c7-177">Identidad de ASP.NET usa la autenticación de OWIN para registro-en/registro-fuera de los usuarios en el sitio web.</span><span class="sxs-lookup"><span data-stu-id="905c7-177">ASP.NET Identity uses OWIN Authentication for log-in/log-out of users in the web site.</span></span> <span data-ttu-id="905c7-178">Esto significa que, en lugar de usar FormsAuthentication para generar la cookie, la aplicación usa CookieAuthentication de OWIN para hacerlo.</span><span class="sxs-lookup"><span data-stu-id="905c7-178">This means that instead of using FormsAuthentication to generate the cookie, the application uses OWIN CookieAuthentication to do that.</span></span>
- <span data-ttu-id="905c7-179">**Paquete de NuGet**</span><span class="sxs-lookup"><span data-stu-id="905c7-179">**NuGet package**</span></span>

    - <span data-ttu-id="905c7-180">ASP.NET Identity se redistribuye como un paquete de NuGet que se instala en las plantillas de ASP.NET MVC, formularios Web Forms y API Web que se suministran con Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="905c7-180">ASP.NET Identity is redistributed as a NuGet package which is installed in the ASP.NET MVC, Web Forms and Web API templates that ship with Visual Studio 2013.</span></span> <span data-ttu-id="905c7-181">Puede descargar este paquete de NuGet en la Galería de NuGet.</span><span class="sxs-lookup"><span data-stu-id="905c7-181">You can download this NuGet package from the NuGet gallery.</span></span>
    - <span data-ttu-id="905c7-182">Liberar ASP.NET Identity como un NuGet paquete resulta más fácil para el equipo ASP.NET iterar sobre nuevas características y correcciones de errores y ofrecer a los desarrolladores de una manera ágil.</span><span class="sxs-lookup"><span data-stu-id="905c7-182">Releasing ASP.NET Identity as a NuGet package makes it easier for the ASP.NET team to iterate on new features and bug fixes, and deliver these to developers in an agile manner.</span></span>

## <a name="getting-started-with-aspnet-identity"></a><span data-ttu-id="905c7-183">Introducción a ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="905c7-183">Getting started with ASP.NET Identity</span></span>

<span data-ttu-id="905c7-184">ASP.NET Identity se utiliza en las plantillas de proyecto de Visual Studio 2013 para ASP.NET MVC, formularios Web Forms, Web API y SPA.</span><span class="sxs-lookup"><span data-stu-id="905c7-184">ASP.NET Identity is used in the Visual Studio 2013 project templates for ASP.NET MVC, Web Forms, Web API and SPA.</span></span> <span data-ttu-id="905c7-185">En este tutorial, se ilustran cómo las plantillas de proyecto usan identidad de ASP.NET para agregar funcionalidad a registrar, inicie sesión e inicie sesión un usuario.</span><span class="sxs-lookup"><span data-stu-id="905c7-185">In this walkthrough, we'll illustrate how the project templates use ASP.NET Identity to add functionality to register, log in and log out a user.</span></span>

<span data-ttu-id="905c7-186">Identidad de ASP.NET se implementa mediante el procedimiento siguiente.</span><span class="sxs-lookup"><span data-stu-id="905c7-186">ASP.NET Identity is implemented using the following procedure.</span></span> <span data-ttu-id="905c7-187">El propósito de este artículo es para ofrecerle una visión general de alto nivel de ASP.NET Identity; puede seguir paso a paso o simplemente leer los detalles.</span><span class="sxs-lookup"><span data-stu-id="905c7-187">The purpose of this article is to give you a high level overview of ASP.NET Identity; you can follow it step by step or just read the details.</span></span> <span data-ttu-id="905c7-188">Para obtener instrucciones detalladas sobre cómo crear aplicaciones con ASP.NET Identity, incluido el uso de la nueva API para agregar usuarios, roles y la información de perfil, consulte la sección pasos siguientes al final de este artículo.</span><span class="sxs-lookup"><span data-stu-id="905c7-188">For more detailed instructions on creating apps using ASP.NET Identity, including using the new API to add users, roles and profile information, see the Next Steps section at the end of this article.</span></span>

1. <span data-ttu-id="905c7-189">Crear una aplicación ASP.NET MVC con cuentas individuales.</span><span class="sxs-lookup"><span data-stu-id="905c7-189">Create an ASP.NET MVC application with Individual Accounts.</span></span> <span data-ttu-id="905c7-190">Puede utilizar ASP.NET Identity en ASP.NET MVC, formularios Web Forms, Web API, etcetera de SignalR. En este artículo se iniciará con una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="905c7-190">You can use ASP.NET Identity in ASP.NET MVC, Web Forms, Web API, SignalR etc. In this article we will start with an ASP.NET MVC application.</span></span>  
  
    ![](introduction-to-aspnet-identity/_static/image1.png)
2. <span data-ttu-id="905c7-191">El proyecto creado contiene los siguientes tres paquetes para identidades de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="905c7-191">The created project contains the following three packages for ASP.NET Identity.</span></span>

    - [`Microsoft.AspNet.Identity.EntityFramework`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.EntityFramework/)  
   <span data-ttu-id="905c7-192">Este paquete incluye la implementación de Entity Framework de identidad de ASP.NET que se conservarán los datos de identidad de ASP.NET y el esquema para SQL Server.</span><span class="sxs-lookup"><span data-stu-id="905c7-192">This package has the Entity Framework implementation of ASP.NET Identity which will persist the ASP.NET Identity data and schema to SQL Server.</span></span>
    - [`Microsoft.AspNet.Identity.Core`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.Core/)  
   <span data-ttu-id="905c7-193">Este paquete tiene las interfaces principales para la identidad de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="905c7-193">This package has the core interfaces for ASP.NET Identity.</span></span> <span data-ttu-id="905c7-194">Este paquete se puede utilizar para escribir una implementación de ASP.NET Identity que persistencia diferentes destinos almacena como almacenamiento de tablas de Azure, NoSQL etcetera las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="905c7-194">This package can be used to write an implementation for ASP.NET Identity that targets different persistence stores such as Azure Table Storage, NoSQL databases etc.</span></span>
    - [`Microsoft.AspNet.Identity.OWIN`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.Owin/)  
   <span data-ttu-id="905c7-195">Este paquete contiene la funcionalidad que se usa para conectar la autenticación OWIN con la identidad de ASP.NET en aplicaciones de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="905c7-195">This package contains functionality that is used to plug in OWIN authentication with ASP.NET Identity in ASP.NET applications.</span></span> <span data-ttu-id="905c7-196">Se utiliza cuando se agrega un registro en la funcionalidad a la aplicación y llamar al middleware de autenticación con cookies OWIN para generar una cookie.</span><span class="sxs-lookup"><span data-stu-id="905c7-196">This is used when you add log in functionality to your application and call into OWIN Cookie Authentication middleware to generate a cookie.</span></span>
3. <span data-ttu-id="905c7-197">Crear un usuario.</span><span class="sxs-lookup"><span data-stu-id="905c7-197">Creating a user.</span></span>  
   <span data-ttu-id="905c7-198">Inicie la aplicación y, a continuación, haga clic en el **registrar** vínculo para crear un usuario.</span><span class="sxs-lookup"><span data-stu-id="905c7-198">Launch the application and then click on the **Register** link to create a user.</span></span> <span data-ttu-id="905c7-199">La siguiente imagen muestra la página de registro que recopila el nombre de usuario y la contraseña.</span><span class="sxs-lookup"><span data-stu-id="905c7-199">The following image shows the Register page which collects the user name and password.</span></span>  
  
    ![](introduction-to-aspnet-identity/_static/image2.png)  
  
   <span data-ttu-id="905c7-200">Cuando el usuario hace clic en el **registrar** botón, el `Register` de controlador de la cuenta se crea el usuario mediante una llamada a la API de identidad de ASP.NET, como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="905c7-200">When the user clicks the **Register** button, the `Register` action of the Account controller creates the user by calling the ASP.NET Identity API, as highlighted below:</span></span>

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample1.cs?highlight=8-9)]
4. <span data-ttu-id="905c7-201">Inicia sesión.</span><span class="sxs-lookup"><span data-stu-id="905c7-201">Log in.</span></span>  
   <span data-ttu-id="905c7-202">Si el usuario se creó correctamente, registra el `SignInAsync` método.</span><span class="sxs-lookup"><span data-stu-id="905c7-202">If the user was successfully created, she is logged in by the `SignInAsync` method.</span></span>  

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample2.cs?highlight=12)]

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample3.cs?highlight=5-6)]

   <span data-ttu-id="905c7-203">El código que aparece resaltado por encima de la `SignInAsync` método genera una [ClaimsIdentity](https://msdn.microsoft.com/library/system.security.claims.claimsidentity.aspx).</span><span class="sxs-lookup"><span data-stu-id="905c7-203">The highlighted code above in the `SignInAsync` method generates a [ClaimsIdentity](https://msdn.microsoft.com/library/system.security.claims.claimsidentity.aspx).</span></span> <span data-ttu-id="905c7-204">Puesto que ASP.NET Identity y autenticación con cookies OWIN son sistema basado en notificaciones, el marco de trabajo requiere la aplicación para generar un valor de ClaimsIdentity para el usuario.</span><span class="sxs-lookup"><span data-stu-id="905c7-204">Since ASP.NET Identity and OWIN Cookie Authentication are claims-based system, the framework requires the app to generate a ClaimsIdentity for the user.</span></span> <span data-ttu-id="905c7-205">Valor de ClaimsIdentity incluye información sobre todas las notificaciones para el usuario, como los roles que pertenece el usuario.</span><span class="sxs-lookup"><span data-stu-id="905c7-205">ClaimsIdentity has information about all the claims for the user, such as what roles the user belongs to.</span></span> <span data-ttu-id="905c7-206">También puede agregar más notificaciones para el usuario en esta fase.</span><span class="sxs-lookup"><span data-stu-id="905c7-206">You can also add more claims for the user at this stage.</span></span>  
  
   <span data-ttu-id="905c7-207">El código que aparece resaltado a continuación en el `SignInAsync` método inicia sesión el usuario mediante el uso de la clase AuthenticationManager de OWIN y llamar al método `SignIn` y pasar el valor de ClaimsIdentity.</span><span class="sxs-lookup"><span data-stu-id="905c7-207">The highlighted code below in the `SignInAsync` method signs in the user by using the AuthenticationManager from OWIN and calling `SignIn` and passing in the ClaimsIdentity.</span></span>  

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample4.cs?highlight=8-11)]
5. <span data-ttu-id="905c7-208">Cierre la sesión.</span><span class="sxs-lookup"><span data-stu-id="905c7-208">Log off.</span></span>  
   <span data-ttu-id="905c7-209">Al hacer clic en el **cerrar** vínculo llama a la acción de cierre de sesión en el controlador de la cuenta.</span><span class="sxs-lookup"><span data-stu-id="905c7-209">Clicking the **Log off** link calls the LogOff action in the account controller.</span></span> 

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample5.cs?highlight=6)]

   <span data-ttu-id="905c7-210">El resaltado de código anterior muestra OWIN `AuthenticationManager.SignOut` método.</span><span class="sxs-lookup"><span data-stu-id="905c7-210">The highlighted code above shows the OWIN `AuthenticationManager.SignOut` method.</span></span> <span data-ttu-id="905c7-211">Esto es análogo a [FormsAuthentication.SignOut](https://msdn.microsoft.com/library/system.web.security.formsauthentication.signout.aspx) método utilizado por el [FormsAuthentication](https://msdn.microsoft.com/library/system.web.security.formsauthenticationmodule.aspx) módulo en formularios Web Forms.</span><span class="sxs-lookup"><span data-stu-id="905c7-211">This is analogous to [FormsAuthentication.SignOut](https://msdn.microsoft.com/library/system.web.security.formsauthentication.signout.aspx) method used by the [FormsAuthentication](https://msdn.microsoft.com/library/system.web.security.formsauthenticationmodule.aspx) module in Web Forms.</span></span>

## <a name="components-of-aspnet-identity"></a><span data-ttu-id="905c7-212">Componentes de identidad de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="905c7-212">Components of ASP.NET Identity</span></span>

<span data-ttu-id="905c7-213">El diagrama siguiente muestra los componentes del sistema ASP.NET Identity (haga clic en [esto](introduction-to-aspnet-identity/_static/image3.png) o en el diagrama para aumentarlo).</span><span class="sxs-lookup"><span data-stu-id="905c7-213">The diagram below shows the components of the ASP.NET Identity system (click on [this](introduction-to-aspnet-identity/_static/image3.png) or on the diagram to enlarge it).</span></span> <span data-ttu-id="905c7-214">Los paquetes en verde constituyen el sistema de identidades de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="905c7-214">The packages in green make up the ASP.NET Identity system.</span></span> <span data-ttu-id="905c7-215">Todos los paquetes son dependencias que son necesarios cuando se usa el sistema de identidades de ASP.NET en aplicaciones de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="905c7-215">All the other packages are dependencies which are needed to use the ASP.NET Identity system in ASP.NET applications.</span></span>

[![](introduction-to-aspnet-identity/_static/image5.png)](introduction-to-aspnet-identity/_static/image4.png)

<span data-ttu-id="905c7-216">La siguiente es una breve descripción de los paquetes de NuGet que no se ha mencionado anteriormente:</span><span class="sxs-lookup"><span data-stu-id="905c7-216">The following is a brief description of the NuGet packages not mentioned previously:</span></span>

- [<span data-ttu-id="905c7-217">Microsoft.Owin.Security.Cookies</span><span class="sxs-lookup"><span data-stu-id="905c7-217">Microsoft.Owin.Security.Cookies</span></span>](http://www.nuget.org/packages/Microsoft.Owin.Security.Cookies/)  
 <span data-ttu-id="905c7-218">Autenticación, similar a ASP basada en el middleware que permite a una aplicación usar la cookie. Autenticación de formularios de NET.</span><span class="sxs-lookup"><span data-stu-id="905c7-218">Middleware that enables an application to use cookie based authentication, similar to ASP.NET's Forms Authentication.</span></span>
- [<span data-ttu-id="905c7-219">EntityFramework</span><span class="sxs-lookup"><span data-stu-id="905c7-219">EntityFramework</span></span>](http://www.nuget.org/packages/EntityFramework/)  
 <span data-ttu-id="905c7-220">Entity Framework es la tecnología de acceso a datos recomendado de Microsoft para bases de datos relacionales.</span><span class="sxs-lookup"><span data-stu-id="905c7-220">Entity Framework is Microsoft's recommended data access technology for relational databases.</span></span>

## <a name="migrating-from-membership-to-aspnet-identity"></a><span data-ttu-id="905c7-221">Migración de pertenencia a ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="905c7-221">Migrating from Membership to ASP.NET Identity</span></span>

<span data-ttu-id="905c7-222">Esperamos que pronto se proporcionan instrucciones sobre cómo migrar las aplicaciones existentes que usan la pertenencia a ASP.NET o pertenencia sencillo para el nuevo sistema de identidades de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="905c7-222">We hope to soon provide guidance on migrating your existing apps that use ASP.NET Membership or Simple Membership to the new ASP.NET Identity system.</span></span>

## <a name="next-steps"></a><span data-ttu-id="905c7-223">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="905c7-223">Next Steps</span></span>

- [<span data-ttu-id="905c7-224">Crear una aplicación de ASP.NET MVC 5 con Facebook y Google OAuth2 y OpenID Sign-on</span><span class="sxs-lookup"><span data-stu-id="905c7-224">Create an ASP.NET MVC 5 App with Facebook and Google OAuth2 and OpenID Sign-on</span></span>](../../../mvc/overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md)  
 <span data-ttu-id="905c7-225">El tutorial utiliza la API de identidad de ASP.NET para agregar información de perfil para la base de datos de usuario y cómo autenticar con Google y Facebook.</span><span class="sxs-lookup"><span data-stu-id="905c7-225">The tutorial uses the ASP.NET Identity API to add profile information to the user database, and how to authenticate with Google and Facebook.</span></span>
- [<span data-ttu-id="905c7-226">Crear una aplicación de MVC de ASP.NET con la autenticación y la base de datos SQL e implementar al servicio de aplicaciones de Azure</span><span class="sxs-lookup"><span data-stu-id="905c7-226">Create an ASP.NET MVC app with auth and SQL DB and deploy to Azure App Service</span></span>](https://docs.microsoft.com/aspnet/core/security/authorization/secure-data)  
 <span data-ttu-id="905c7-227">Este tutorial muestra cómo utilizar la API de identidad para agregar usuarios y roles.</span><span class="sxs-lookup"><span data-stu-id="905c7-227">This tutorial shows how to use the Identity API to add users and roles.</span></span>
- <span data-ttu-id="905c7-228">[Cuentas de usuario individuales](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#indauth) en la creación de proyectos Web ASP.NET en Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="905c7-228">[Individual User Accounts](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#indauth) in Creating ASP.NET Web Projects in Visual Studio 2013</span></span>
- <span data-ttu-id="905c7-229">[Las cuentas organizativas](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) en la creación de proyectos Web ASP.NET en Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="905c7-229">[Organizational Accounts](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) in Creating ASP.NET Web Projects in Visual Studio 2013</span></span>
- [<span data-ttu-id="905c7-230">Personalizar la información de perfil de ASP.NET Identity en las plantillas de VS 2013</span><span class="sxs-lookup"><span data-stu-id="905c7-230">Customizing profile information in ASP.NET Identity in VS 2013 templates</span></span>](https://blogs.msdn.com/b/webdev/archive/2013/10/16/customizing-profile-information-in-asp-net-identity-in-vs-2013-templates.aspx)
- [<span data-ttu-id="905c7-231">Obtener más información de proveedores sociales utilizados en las plantillas de proyecto de VS 2013</span><span class="sxs-lookup"><span data-stu-id="905c7-231">Get more information from Social providers used in the VS 2013 project templates</span></span>](https://blogs.msdn.com/b/webdev/archive/2013/10/16/get-more-information-from-social-providers-used-in-the-vs-2013-project-templates.aspx)
- [https://github.com/rustd/AspnetIdentitySample](https://github.com/rustd/AspnetIdentitySample)  
 <span data-ttu-id="905c7-232">Aplicación de ejemplo que muestra cómo agregar roles básicos y soporte técnico de usuario y cómo llevar a cabo la administración de usuarios y roles.</span><span class="sxs-lookup"><span data-stu-id="905c7-232">Sample application that shows how to add basic roles and user support and how to do roles and user management.</span></span>
