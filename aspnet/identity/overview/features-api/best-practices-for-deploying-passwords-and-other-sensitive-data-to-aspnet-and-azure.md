---
uid: identity/overview/features-api/best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure
title: Las prácticas recomendadas para implementar las contraseñas y otros datos confidenciales en ASP.NET y el servicio de aplicación de Azure | Documentos de Microsoft
author: Rick-Anderson
description: Este tutorial muestra cómo el código puede almacenar y tener acceso a información segura de forma segura. El punto más importante es que nunca debe almacenar contraseñas u otros Cone...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/21/2015
ms.topic: article
ms.assetid: 97902c66-cb61-4d11-be52-73f962f2db0a
ms.technology: ''
ms.prod: .net-framework
msc.legacyurl: /identity/overview/features-api/best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure
msc.type: authoredcontent
ms.openlocfilehash: 995d9a088e3095f36a01d2adb19ec08e6a6d1b3e
ms.sourcegitcommit: 6784510cfb589308c3875ccb5113eb31031766b4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/08/2018
ms.locfileid: "28033026"
---
<a name="best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure-app-service"></a><span data-ttu-id="c5ced-104">Prácticas recomendadas para implementar las contraseñas y otros datos confidenciales a ASP.NET y el servicio de aplicación de Azure</span><span class="sxs-lookup"><span data-stu-id="c5ced-104">Best practices for deploying passwords and other sensitive data to ASP.NET and Azure App Service</span></span>
====================
<span data-ttu-id="c5ced-105">por [Rick Anderson](https://github.com/Rick-Anderson)</span><span class="sxs-lookup"><span data-stu-id="c5ced-105">by [Rick Anderson](https://github.com/Rick-Anderson)</span></span>

> <span data-ttu-id="c5ced-106">Este tutorial muestra cómo el código puede almacenar y tener acceso a información segura de forma segura.</span><span class="sxs-lookup"><span data-stu-id="c5ced-106">This tutorial shows how your code can securely store and access secure information.</span></span> <span data-ttu-id="c5ced-107">El punto más importante es nunca debe almacenar las contraseñas u otros datos confidenciales en el código fuente y no utilice secretos de producción en modo de desarrollo y pruebas.</span><span class="sxs-lookup"><span data-stu-id="c5ced-107">The most important point is you should never store passwords or other sensitive data in source code, and you shouldn't use production secrets in development and test mode.</span></span>
> 
> <span data-ttu-id="c5ced-108">El código de ejemplo es una aplicación de consola sencilla de trabajo Web y una aplicación de ASP.NET MVC que necesita tener acceso a una base de datos conexión cadena contraseña, Twilio, Google y SendGrid las claves seguras.</span><span class="sxs-lookup"><span data-stu-id="c5ced-108">The sample code is a simple WebJob console app and a ASP.NET MVC app that needs access to a database connection string password, Twilio, Google and SendGrid secure keys.</span></span>
> 
> <span data-ttu-id="c5ced-109">Configuración y PHP también se menciona en local.</span><span class="sxs-lookup"><span data-stu-id="c5ced-109">On premise settings and PHP is also mentioned.</span></span>


- [<span data-ttu-id="c5ced-110">Trabajar con contraseñas en el entorno de desarrollo</span><span class="sxs-lookup"><span data-stu-id="c5ced-110">Working with passwords in the development environment</span></span>](#pwd)
- [<span data-ttu-id="c5ced-111">Trabajar con cadenas de conexión en el entorno de desarrollo</span><span class="sxs-lookup"><span data-stu-id="c5ced-111">Working with connection strings in the development environment</span></span>](#con)
- [<span data-ttu-id="c5ced-112">Aplicaciones de consola de trabajos Web</span><span class="sxs-lookup"><span data-stu-id="c5ced-112">WebJobs console apps</span></span>](#wj)
- [<span data-ttu-id="c5ced-113">Implementación de secretos en Azure</span><span class="sxs-lookup"><span data-stu-id="c5ced-113">Deploying secrets to Azure</span></span>](#da)
- [<span data-ttu-id="c5ced-114">Notas para local y PHP</span><span class="sxs-lookup"><span data-stu-id="c5ced-114">Notes for On-Premise and PHP</span></span>](#not)
- [<span data-ttu-id="c5ced-115">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="c5ced-115">Additional Resources</span></span>](#addRes)

<a id="pwd"></a>
## <a name="working-with-passwords-in-the-development-environment"></a><span data-ttu-id="c5ced-116">Trabajar con contraseñas en el entorno de desarrollo</span><span class="sxs-lookup"><span data-stu-id="c5ced-116">Working with passwords in the development environment</span></span>

<span data-ttu-id="c5ced-117">Los tutoriales muestra con frecuencia los datos confidenciales en el código fuente, es de esperar que con una salvedad que nunca debería almacenar datos confidenciales en el código fuente.</span><span class="sxs-lookup"><span data-stu-id="c5ced-117">Tutorials frequently show sensitive data in source code, hopefully with a caveat that you should never store sensitive data in source code.</span></span> <span data-ttu-id="c5ced-118">Por ejemplo, mi [aplicación de ASP.NET MVC 5 con correo electrónico y SMS 2FA](../../../mvc/overview/security/aspnet-mvc-5-app-with-sms-and-email-two-factor-authentication.md) tutorial le muestra lo siguiente en el *web.config* archivo:</span><span class="sxs-lookup"><span data-stu-id="c5ced-118">For example, my [ASP.NET MVC 5 app with SMS and email 2FA](../../../mvc/overview/security/aspnet-mvc-5-app-with-sms-and-email-two-factor-authentication.md) tutorial shows the following in the *web.config* file:</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample1.xml)]

<span data-ttu-id="c5ced-119">El *web.config* archivo es el código fuente, por lo que estos secretos nunca deben almacenarse en ese archivo.</span><span class="sxs-lookup"><span data-stu-id="c5ced-119">The *web.config* file is source code, so these secrets should never be stored in that file.</span></span> <span data-ttu-id="c5ced-120">Afortunadamente, la `<appSettings>` elemento tiene un `file` atributo que le permite especificar un archivo externo que contiene valores de configuración de aplicación confidencial.</span><span class="sxs-lookup"><span data-stu-id="c5ced-120">Fortunately, the `<appSettings>` element has a `file` attribute that allows you to specify an external file that contains sensitive app config settings.</span></span> <span data-ttu-id="c5ced-121">Puede mover todos los secretos a un archivo externo como el archivo externo no está protegido en el árbol de origen.</span><span class="sxs-lookup"><span data-stu-id="c5ced-121">You can move all your secrets to an external file as long as the external file is not checked into your source tree.</span></span> <span data-ttu-id="c5ced-122">Por ejemplo, en el marcado siguiente, el archivo *AppSettingsSecrets.config* contiene todos los servicios de aplicación:</span><span class="sxs-lookup"><span data-stu-id="c5ced-122">For example, in the following markup, the file *AppSettingsSecrets.config* contains all the app secrets:</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample2.xml)]

<span data-ttu-id="c5ced-123">El marcado en el archivo externo (*AppSettingsSecrets.config* en este ejemplo), es el mismo formato que se encuentra en la *web.config* archivo:</span><span class="sxs-lookup"><span data-stu-id="c5ced-123">The markup in the external file (*AppSettingsSecrets.config* in this sample), is the same markup found in the *web.config* file:</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample3.xml)]

<span data-ttu-id="c5ced-124">El tiempo de ejecución ASP.NET combina el contenido del archivo externo con el marcado en &lt;appSettings&gt; elemento.</span><span class="sxs-lookup"><span data-stu-id="c5ced-124">The ASP.NET runtime merges the contents of the external file with the markup in &lt;appSettings&gt; element.</span></span> <span data-ttu-id="c5ced-125">El tiempo de ejecución omite el atributo de archivo si no se encuentra el archivo especificado.</span><span class="sxs-lookup"><span data-stu-id="c5ced-125">The runtime ignores the file attribute if the specified file cannot be found.</span></span>

> [!WARNING]
> <span data-ttu-id="c5ced-126">Seguridad: no agregue su *secretos .config* de archivo al proyecto o protegerlo en el control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="c5ced-126">Security - Do not add your *secrets .config* file to your project or check it into source control.</span></span> <span data-ttu-id="c5ced-127">De forma predeterminada, Visual Studio establece la `Build Action` a `Content`, lo que significa que el archivo se implementa.</span><span class="sxs-lookup"><span data-stu-id="c5ced-127">By default, Visual Studio sets the `Build Action` to `Content`, which means the file is deployed.</span></span> <span data-ttu-id="c5ced-128">Para obtener más información consulte [¿por qué no todos los archivos en la carpeta de proyecto se implementa?](https://msdn.microsoft.com/library/ee942158(v=vs.110).aspx#can_i_exclude_specific_files_or_folders_from_deployment)</span><span class="sxs-lookup"><span data-stu-id="c5ced-128">For more information see [Why don't all of the files in my project folder get deployed?](https://msdn.microsoft.com/library/ee942158(v=vs.110).aspx#can_i_exclude_specific_files_or_folders_from_deployment)</span></span> <span data-ttu-id="c5ced-129">Aunque puede utilizar cualquier extensión de la *secretos .config* archivo, es mejor mantenerlo *.config*, como archivos de configuración no se sirven mediante IIS.</span><span class="sxs-lookup"><span data-stu-id="c5ced-129">Although you can use any extension for the *secrets .config* file, it's best to keep it *.config*, as config files are not served by IIS.</span></span> <span data-ttu-id="c5ced-130">Observe también que la *AppSettingsSecrets.config* archivo está dos niveles por directorio encima de la *web.config* de archivos, por lo que es completamente fuera del directorio de la solución.</span><span class="sxs-lookup"><span data-stu-id="c5ced-130">Notice also that the *AppSettingsSecrets.config* file is two directory levels up from the *web.config* file, so it's completely out of the solution directory.</span></span> <span data-ttu-id="c5ced-131">Moviendo el archivo fuera del directorio de la solución, &quot;agregar git \* &quot; no agregarlo en el repositorio.</span><span class="sxs-lookup"><span data-stu-id="c5ced-131">By moving the file out of the solution directory, &quot;git add \*&quot; won't add it to your repository.</span></span>


<a id="con"></a>
## <a name="working-with-connection-strings-in-the-development-environment"></a><span data-ttu-id="c5ced-132">Trabajar con cadenas de conexión en el entorno de desarrollo</span><span class="sxs-lookup"><span data-stu-id="c5ced-132">Working with connection strings in the development environment</span></span>

<span data-ttu-id="c5ced-133">Visual Studio crea nuevos proyectos ASP.NET que usan [LocalDB](https://blogs.msdn.com/b/sqlexpress/archive/2011/07/12/introducing-localdb-a-better-sql-express.aspx).</span><span class="sxs-lookup"><span data-stu-id="c5ced-133">Visual Studio creates new ASP.NET projects that use [LocalDB](https://blogs.msdn.com/b/sqlexpress/archive/2011/07/12/introducing-localdb-a-better-sql-express.aspx).</span></span> <span data-ttu-id="c5ced-134">LocalDB creada específicamente para el entorno de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="c5ced-134">LocalDB was created specifically for the development environment.</span></span> <span data-ttu-id="c5ced-135">Que no requiere una contraseña, por lo tanto, no es necesario hacer nada para impedir que los secretos que se va a comprobar en el código fuente.</span><span class="sxs-lookup"><span data-stu-id="c5ced-135">It doesn't require a password, therefore you don't need to do anything to prevent secrets from being checked into your source code.</span></span> <span data-ttu-id="c5ced-136">Algunos equipos de desarrollo utilizan las versiones completas de SQL Server (u otros DBMS) que requieren una contraseña.</span><span class="sxs-lookup"><span data-stu-id="c5ced-136">Some development teams use the full versions of SQL Server (or other DBMS) that require a password.</span></span>

<span data-ttu-id="c5ced-137">Puede usar el `configSource` atributo para reemplazar toda la matriz `<connectionStrings>` marcado.</span><span class="sxs-lookup"><span data-stu-id="c5ced-137">You can use the `configSource` attribute to replace the entire `<connectionStrings>` markup.</span></span> <span data-ttu-id="c5ced-138">A diferencia de la `<appSettings>` `file` atributo que combina el marcado, el `configSource` atributo reemplaza el marcado.</span><span class="sxs-lookup"><span data-stu-id="c5ced-138">Unlike the `<appSettings>` `file` attribute that merges the markup, the `configSource` attribute replaces the markup.</span></span> <span data-ttu-id="c5ced-139">El marcado siguiente se muestra la `configSource` de atributo en el *web.config* archivo:</span><span class="sxs-lookup"><span data-stu-id="c5ced-139">The following markup shows the `configSource` attribute in the *web.config* file:</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample4.xml?highlight=1)]

> [!NOTE]
> <span data-ttu-id="c5ced-140">Si usas el `configSource` atributo tal y como se muestra arriba para mover las cadenas de conexión a un archivo externo y hacer que Visual Studio cree un nuevo sitio web, no será capaz de detectar que usa una base de datos y no tendrá la opción de configuración de la base de datos cuando se pu publicar en Azure desde Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c5ced-140">If you use the `configSource` attribute as shown above to move your connection strings to an external file, and have Visual Studio create a new web site, it won't be able to detect you are using a database, and you won't get the option of configuring the database when you publish to Azure from Visual Studio.</span></span> <span data-ttu-id="c5ced-141">Si usas el `configSource` atributo, puede usar PowerShell para crear e implementar el sitio web y la base de datos, o puede crear el sitio web y la base de datos en el portal antes de publicar.</span><span class="sxs-lookup"><span data-stu-id="c5ced-141">If you are using the `configSource` attribute, you can use PowerShell to create and deploy your web site and database, or you can create the web site and the database in the portal before you publish.</span></span> <span data-ttu-id="c5ced-142">El [AzureWebsitewithDB.ps1 New](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) script creará un nuevo sitio web y la base de datos.</span><span class="sxs-lookup"><span data-stu-id="c5ced-142">The [New-AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) script will create a new web site and database.</span></span>


> [!WARNING]
> <span data-ttu-id="c5ced-143">Seguridad: a diferencia de la *AppSettingsSecrets.config* archivo, el archivo de cadenas de conexión externa debe estar en el mismo directorio que la raíz *web.config* de archivos, por lo que tendrá que tomar precauciones para garantizar no se comprueban en el repositorio de origen.</span><span class="sxs-lookup"><span data-stu-id="c5ced-143">Security - Unlike the *AppSettingsSecrets.config* file, the external connection strings file must be in the same directory as the root *web.config* file, so you'll have to take precautions to ensure you don't check it into your source repository.</span></span>


> [!NOTE]
> <span data-ttu-id="c5ced-144">**Advertencia de seguridad en el archivo de secretos:** un procedimiento recomendado es no utilizar los secretos de producción de prueba y desarrollo.</span><span class="sxs-lookup"><span data-stu-id="c5ced-144">**Security Warning on secrets file:** A best practice is to not use production secrets in test and development.</span></span> <span data-ttu-id="c5ced-145">Uso de contraseñas de producción de prueba o desarrollo pérdidas de esos secretos.</span><span class="sxs-lookup"><span data-stu-id="c5ced-145">Using production passwords in test or development leaks those secrets.</span></span>


<a id="wj"></a>
## <a name="webjobs-console-apps"></a><span data-ttu-id="c5ced-146">Aplicaciones de consola de trabajos Web</span><span class="sxs-lookup"><span data-stu-id="c5ced-146">WebJobs console apps</span></span>

<span data-ttu-id="c5ced-147">El *app.config* archivo usado por una aplicación de consola no es compatible con rutas de acceso relativas, pero admiten rutas de acceso absolutas.</span><span class="sxs-lookup"><span data-stu-id="c5ced-147">The *app.config* file used by a console app doesn't support relative paths, but it does support absolute paths.</span></span> <span data-ttu-id="c5ced-148">Puede usar una ruta de acceso absoluta para mover los secretos fuera del directorio de su proyecto.</span><span class="sxs-lookup"><span data-stu-id="c5ced-148">You can use an absolute path to move your secrets out of your project directory.</span></span> <span data-ttu-id="c5ced-149">El marcado siguiente muestra los secretos en el *C:\secrets\AppSettingsSecrets.config* archivos y datos no confidenciales en la *app.config* archivo.</span><span class="sxs-lookup"><span data-stu-id="c5ced-149">The following markup shows the secrets in the *C:\secrets\AppSettingsSecrets.config* file, and non sensitive data in the *app.config* file.</span></span>

[!code-xml[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample5.xml?highlight=2)]

<a id="da"></a>
## <a name="deploying-secrets-to-azure"></a><span data-ttu-id="c5ced-150">Implementación de secretos en Azure</span><span class="sxs-lookup"><span data-stu-id="c5ced-150">Deploying secrets to Azure</span></span>

<span data-ttu-id="c5ced-151">Al implementar la aplicación web en Azure, el *AppSettingsSecrets.config* no se implementarán archivo (es decir, lo que desea).</span><span class="sxs-lookup"><span data-stu-id="c5ced-151">When you deploy your web app to Azure, the *AppSettingsSecrets.config* file won't be deployed (that's what you want).</span></span> <span data-ttu-id="c5ced-152">También puede ir a la [Portal de administración de Azure](https://azure.microsoft.com/services/management-portal/) y configurarlas manualmente, para ello:</span><span class="sxs-lookup"><span data-stu-id="c5ced-152">You could go to the [Azure Management Portal](https://azure.microsoft.com/services/management-portal/) and set them manually, to do that:</span></span>

1. <span data-ttu-id="c5ced-153">Vaya a [ https://portal.azure.com ](https://portal.azure.com)e inicie sesión con sus credenciales de Azure.</span><span class="sxs-lookup"><span data-stu-id="c5ced-153">Go to [https://portal.azure.com](https://portal.azure.com), and sign in with your Azure credentials.</span></span>
2. <span data-ttu-id="c5ced-154">Haga clic en **examinar &gt; aplicaciones Web**, a continuación, haga clic en el nombre de la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="c5ced-154">Click **Browse &gt; Web Apps**, then click the name of your web app.</span></span>
3. <span data-ttu-id="c5ced-155">Haga clic en **toda la configuración de &gt; configuración de la aplicación**.</span><span class="sxs-lookup"><span data-stu-id="c5ced-155">Click **All settings &gt; Application settings**.</span></span>

<span data-ttu-id="c5ced-156">El **configuración de la aplicación** y **cadena de conexión** valores invalidan los mismos valores en la *web.config* archivo.</span><span class="sxs-lookup"><span data-stu-id="c5ced-156">The **app settings** and **connection string** values override the same settings in the *web.config* file.</span></span> <span data-ttu-id="c5ced-157">En nuestro ejemplo, no se implementó esta configuración a Azure, pero si estas claves se encontraban en el *web.config* archivo, la configuración se muestra en el portal tendría prioridad.</span><span class="sxs-lookup"><span data-stu-id="c5ced-157">In our example, we did not deploy these settings to Azure, but if these keys were in the *web.config* file, the settings shown on the portal would take precedence.</span></span>

<span data-ttu-id="c5ced-158">Una práctica recomendada es seguir un [flujo de trabajo de DevOps](../../../aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/automate-everything.md) y usar [Azure PowerShell](https://azure.microsoft.com/documentation/articles/install-configure-powershell/) (o en otro marco de trabajo como [Chef](http://www.opscode.com/chef/) o [Puppet](http://puppetlabs.com/puppet/what-is-puppet)) a automatizar la configuración de estos valores en Azure.</span><span class="sxs-lookup"><span data-stu-id="c5ced-158">A best practice is to follow a [DevOps workflow](../../../aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/automate-everything.md) and use [Azure PowerShell](https://azure.microsoft.com/documentation/articles/install-configure-powershell/) (or another framework such as [Chef](http://www.opscode.com/chef/) or [Puppet](http://puppetlabs.com/puppet/what-is-puppet)) to automate setting these values in Azure.</span></span> <span data-ttu-id="c5ced-159">El siguiente script de PowerShell usa [Export-CliXml](http://www.powershellcookbook.com/recipe/PukO/securely-store-credentials-on-disk) para exportar los secretos cifrados en el disco:</span><span class="sxs-lookup"><span data-stu-id="c5ced-159">The following PowerShell script uses [Export-CliXml](http://www.powershellcookbook.com/recipe/PukO/securely-store-credentials-on-disk) to export the encrypted secrets to disk:</span></span>

[!code-powershell[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample6.ps1)]

<span data-ttu-id="c5ced-160">En el script anterior, 'Name' es el nombre de la clave secreta, como '&quot;FB\_AppSecret&quot; o "TwitterSecret".</span><span class="sxs-lookup"><span data-stu-id="c5ced-160">In the script above, ‘Name' is the name of the secret key, such as ‘&quot;FB\_AppSecret&quot; or "TwitterSecret".</span></span> <span data-ttu-id="c5ced-161">Puede ver el archivo de ".credential" creado por la secuencia de comandos en el explorador.</span><span class="sxs-lookup"><span data-stu-id="c5ced-161">You can view the ".credential" file created by the script in your browser.</span></span> <span data-ttu-id="c5ced-162">El siguiente fragmento de pruebas cada uno de los archivos de credencial y establece los secretos de la aplicación web con nombre:</span><span class="sxs-lookup"><span data-stu-id="c5ced-162">The snippet below tests each of the credential files and sets the secrets for the named web app:</span></span>

[!code-powershell[Main](best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure/samples/sample7.ps1)]

> [!WARNING]
> <span data-ttu-id="c5ced-163">Seguridad: no incluya contraseñas u otros secretos en el script de PowerShell, haciendo así fracasará el propósito de utilizar un script de PowerShell para implementar los datos confidenciales.</span><span class="sxs-lookup"><span data-stu-id="c5ced-163">Security - Don't include passwords or other secrets in the PowerShell script, doing so defeats the purpose of using a PowerShell script to deploy sensitive data.</span></span> <span data-ttu-id="c5ced-164">El [Get-Credential](https://technet.microsoft.com/library/hh849815.aspx) proporciona un mecanismo de seguridad para obtener una contraseña.</span><span class="sxs-lookup"><span data-stu-id="c5ced-164">The [Get-Credential](https://technet.microsoft.com/library/hh849815.aspx) cmdlet provides a secure mechanism to obtain a password.</span></span> <span data-ttu-id="c5ced-165">Uso de una solicitud de interfaz de usuario puede evitar la pérdida de una contraseña.</span><span class="sxs-lookup"><span data-stu-id="c5ced-165">Using a UI prompt can prevent leaking a password.</span></span>


### <a name="deploying-db-connection-strings"></a><span data-ttu-id="c5ced-166">Implementación de las cadenas de conexión de base de datos</span><span class="sxs-lookup"><span data-stu-id="c5ced-166">Deploying DB connection strings</span></span>

<span data-ttu-id="c5ced-167">Las cadenas de conexión de base de datos se controlan de forma similar a la configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c5ced-167">DB connection strings are handled similarly to app settings.</span></span> <span data-ttu-id="c5ced-168">Si implementa la aplicación web de Visual Studio, la cadena de conexión se configurarán automáticamente.</span><span class="sxs-lookup"><span data-stu-id="c5ced-168">If you deploy your web app from Visual Studio, the connection string will be configured for you.</span></span> <span data-ttu-id="c5ced-169">Puede comprobarlo en el portal.</span><span class="sxs-lookup"><span data-stu-id="c5ced-169">You can verify this in the portal.</span></span> <span data-ttu-id="c5ced-170">La manera recomendada para establecer la cadena de conexión es con PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c5ced-170">The recommended way to set the connection string is with PowerShell.</span></span> <span data-ttu-id="c5ced-171">Para obtener un ejemplo de un script de PowerShell la crea un sitio Web y la base de datos y establece la cadena de conexión en el sitio Web, descargue [New-AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) desde el [biblioteca de secuencia de comandos de Azure](https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure).</span><span class="sxs-lookup"><span data-stu-id="c5ced-171">For an example of a PowerShell script the creates a website and database and sets the connection string in the website, download [New-AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) from the [Azure Script library](https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure).</span></span>

<a id="not"></a>
## <a name="notes-for-php"></a><span data-ttu-id="c5ced-172">Notas para PHP</span><span class="sxs-lookup"><span data-stu-id="c5ced-172">Notes for PHP</span></span>

<span data-ttu-id="c5ced-173">Desde los pares de clave y valor para ambos **configuración de la aplicación** y **las cadenas de conexión** se almacenan en variables de entorno en el servicio de aplicación de Azure, los programadores que utilizan fácilmente cualquier can de marcos (como PHP) de aplicación web recuperar estos valores.</span><span class="sxs-lookup"><span data-stu-id="c5ced-173">Since the key-value pairs for both **app settings** and **connection strings** are stored in environment variables on Azure App Service, developers that use any web app frameworks (such as PHP) can easily retrieve these values.</span></span> <span data-ttu-id="c5ced-174">Consulte de Stefan Schackow [sitios Web Windows Azure: cómo las cadenas de la aplicación y el trabajo de las cadenas de conexión](https://azure.microsoft.com/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/) entrada de blog que muestra un fragmento de código PHP para leer la configuración de la aplicación y cadenas de conexión.</span><span class="sxs-lookup"><span data-stu-id="c5ced-174">See Stefan Schackow's [Windows Azure Web Sites: How Application Strings and Connection Strings Work](https://azure.microsoft.com/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/) blog post which shows a PHP snippet to read app settings and connection strings.</span></span>

## <a name="notes-for-on-premises-servers"></a><span data-ttu-id="c5ced-175">Notas para los servidores locales</span><span class="sxs-lookup"><span data-stu-id="c5ced-175">Notes for on-premises servers</span></span>

<span data-ttu-id="c5ced-176">Si va a implementar en los servidores web locales, puede ayudar a secretos seguros por [cifrar las secciones de configuración de archivos de configuración](https://msdn.microsoft.com/library/ff647398.aspx).</span><span class="sxs-lookup"><span data-stu-id="c5ced-176">If you are deploying to on-premises web servers, you can help secure secrets by [encrypting the configuration sections of configuration files](https://msdn.microsoft.com/library/ff647398.aspx).</span></span> <span data-ttu-id="c5ced-177">Como alternativa, puede utilizar el mismo enfoque recomendado para los sitios Web de Azure: mantener la configuración de desarrollo en archivos de configuración y usar los valores de variables de entorno para la configuración de producción.</span><span class="sxs-lookup"><span data-stu-id="c5ced-177">As an alternative, you can use the same approach recommended for Azure Websites: keep development settings in configuration files, and use environment variable values for production settings.</span></span> <span data-ttu-id="c5ced-178">En este caso, sin embargo, tendrá que escribir código de aplicación para la funcionalidad que es automática en sitios Web de Azure: recuperar la configuración de las variables de entorno y utilizar esos valores en lugar del archivo de configuración o usar el archivo de configuración cuando no se encuentran las variables de entorno.</span><span class="sxs-lookup"><span data-stu-id="c5ced-178">In this case, however, you have to write application code for functionality that is automatic in Azure Websites: retrieve settings from environment variables and use those values in place of configuration file settings, or use configuration file settings when environment variables are not found.</span></span>

<a id="addRes"></a>
## <a name="additional-resources"></a><span data-ttu-id="c5ced-179">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="c5ced-179">Additional Resources</span></span>

<span data-ttu-id="c5ced-180">Para obtener un ejemplo de un PowerShell script que crea una aplicación web + la base de datos, Establece la cadena de conexión + la configuración de la aplicación, la descarga [New-AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) desde el [biblioteca de secuencia de comandos de Azure](https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure).</span><span class="sxs-lookup"><span data-stu-id="c5ced-180">For an example of a PowerShell script that creates a web app + database, sets the connection string + app settings, download [New-AzureWebsitewithDB.ps1](https://gallery.technet.microsoft.com/scriptcenter/Ultimate-Create-Web-SQL-DB-9e0fdfd3) from the [Azure Script library](https://gallery.technet.microsoft.com/scriptcenter/site/search?f%5B0%5D.Type=RootCategory&amp;f%5B0%5D.Value=WindowsAzure).</span></span> 

<span data-ttu-id="c5ced-181">Consulte de Stefan Schackow [sitios Web de Azure de Windows: cómo las cadenas de la aplicación y conexión funcionan las cadenas](https://azure.microsoft.com/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/)</span><span class="sxs-lookup"><span data-stu-id="c5ced-181">See Stefan Schackow's [Windows Azure Web Sites: How Application Strings and Connection Strings Work](https://azure.microsoft.com/blog/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work/)</span></span>


<span data-ttu-id="c5ced-182">Agradecimientos Barry Dorrans especiales ( [ @blowdart ](https://twitter.com/blowdart) ) y Carlos Farre para revisar.</span><span class="sxs-lookup"><span data-stu-id="c5ced-182">Special thanks to Barry Dorrans ( [@blowdart](https://twitter.com/blowdart) ) and Carlos Farre for reviewing.</span></span>
