---
uid: web-forms/overview/data-access/basic-reporting/declarative-parameters-cs
title: Parámetros declarativos (C#) | Documentos de Microsoft
author: rick-anderson
description: En este tutorial, mostraremos cómo usar un parámetro establecido en un valor codificado de forma rígida para seleccionar los datos que se va a mostrar en un control DetailsView.
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/31/2010
ms.topic: article
ms.assetid: 603c9bd3-b895-4ec6-853b-0c81ff36d580
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/basic-reporting/declarative-parameters-cs
msc.type: authoredcontent
ms.openlocfilehash: 840630852d28f49f4f4387f1d2cc6b275b468fc2
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/06/2018
ms.locfileid: "30875944"
---
<a name="declarative-parameters-c"></a><span data-ttu-id="9dcd2-103">Parámetros declarativos (C#)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-103">Declarative Parameters (C#)</span></span>
====================
<span data-ttu-id="9dcd2-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="9dcd2-105">[Descargar la aplicación de ejemplo](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_5_CS.exe) o [descarga de PDF](declarative-parameters-cs/_static/datatutorial05cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-105">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_5_CS.exe) or [Download PDF](declarative-parameters-cs/_static/datatutorial05cs1.pdf)</span></span>

> <span data-ttu-id="9dcd2-106">En este tutorial, mostraremos cómo usar un parámetro establecido en un valor codificado de forma rígida para seleccionar los datos que se va a mostrar en un control DetailsView.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-106">In this tutorial we'll illustrate how to use a parameter set to a hard-coded value to select the data to display in a DetailsView control.</span></span>


## <a name="introduction"></a><span data-ttu-id="9dcd2-107">Introducción</span><span class="sxs-lookup"><span data-stu-id="9dcd2-107">Introduction</span></span>

<span data-ttu-id="9dcd2-108">En el [último tutorial](displaying-data-with-the-objectdatasource-cs.md) analizamos mostrar datos con los controles GridView, DetailsView y FormView enlazados a un control ObjectDataSource que invoca la `GetProducts()` método desde el `ProductsBLL` clase.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-108">In the [last tutorial](displaying-data-with-the-objectdatasource-cs.md) we looked at displaying data with the GridView, DetailsView, and FormView controls bound to an ObjectDataSource control that invoked the `GetProducts()` method from the `ProductsBLL` class.</span></span> <span data-ttu-id="9dcd2-109">El `GetProducts()` método devuelve una tabla de datos fuertemente tipados rellenado con todos los registros de la base de datos de Northwind `Products` tabla.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-109">The `GetProducts()` method returns a strongly-typed DataTable populated with all of the records from the Northwind database's `Products` table.</span></span> <span data-ttu-id="9dcd2-110">El `ProductsBLL` clase contiene métodos adicionales para devolver subconjuntos solo de los productos - `GetProductByProductID(productID)`, `GetProductsByCategoryID(categoryID)`, y `GetProductsBySupplierID(supplierID)`.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-110">The `ProductsBLL` class contains additional methods for returning just subsets of the products - `GetProductByProductID(productID)`, `GetProductsByCategoryID(categoryID)`, and `GetProductsBySupplierID(supplierID)`.</span></span> <span data-ttu-id="9dcd2-111">Estos tres métodos esperan un parámetro de entrada que indica cómo filtrar la información de producto devuelto.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-111">These three methods expect an input parameter indicating how to filter the returned product information.</span></span>

<span data-ttu-id="9dcd2-112">ObjectDataSource puede usarse para invocar métodos que esperan parámetros de entrada, pero para ello se debe especificar dónde provienen los valores para estos parámetros.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-112">The ObjectDataSource can be used to invoke methods that expect input parameters, but in order to do so we must specify where the values for these parameters come from.</span></span> <span data-ttu-id="9dcd2-113">Los valores de parámetro puede estar codificado de forma rígida o pueden proceder de una variedad de orígenes dinámicos, incluidos: valores de cadena de consulta, variables de sesión, el valor de propiedad de un control Web en la página o a otras personas.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-113">The parameter values can be hard-coded or can come from a variety of dynamic sources, including: querystring values, Session variables, the property value of a Web control on the page, or others.</span></span>

<span data-ttu-id="9dcd2-114">Para este tutorial Empecemos por que ilustra cómo usar un parámetro establecido en un valor codificado de forma rígida.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-114">For this tutorial let's start by illustrating how to use a parameter set to a hard-coded value.</span></span> <span data-ttu-id="9dcd2-115">En concreto, veremos cómo agregar un DetailsView a la página que muestra información sobre un producto concreto, es decir, del Chef Anton tártara, que tiene un `ProductID` de 5.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-115">Specifically, we'll look at adding a DetailsView to the page that displays information about a specific product, namely Chef Anton's Gumbo Mix, which has a `ProductID` of 5.</span></span> <span data-ttu-id="9dcd2-116">A continuación, veremos cómo establecer el valor del parámetro basado en un control Web.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-116">Next, we'll see how to set the parameter value based on a Web control.</span></span> <span data-ttu-id="9dcd2-117">En concreto, vamos a usar un cuadro de texto para permitir que el usuario escriba en un país o región, después del cual pueden hacer clic en un botón para ver la lista de proveedores que residen en ese país.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-117">In particular, we'll use a TextBox to let the user type in a country, after which they can click a Button to see the list of suppliers that reside in that country.</span></span>

## <a name="using-a-hard-coded-parameter-value"></a><span data-ttu-id="9dcd2-118">Uso de un valor de parámetro codificado de forma rígida</span><span class="sxs-lookup"><span data-stu-id="9dcd2-118">Using a Hard-Coded Parameter Value</span></span>

<span data-ttu-id="9dcd2-119">Para el primer ejemplo, empiece por agregar un control DetailsView a la `DeclarativeParams.aspx` página en el `BasicReporting` carpeta.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-119">For the first example, start by adding a DetailsView control to the `DeclarativeParams.aspx` page in the `BasicReporting` folder.</span></span> <span data-ttu-id="9dcd2-120">En las etiquetas inteligentes de DetailsView, seleccione &lt;nuevo origen de datos&gt; en la lista desplegable lista y optar por agregar un ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-120">From the DetailsView's smart tag, select &lt;New data source&gt; from the drop-down list and choose to add an ObjectDataSource.</span></span>


<span data-ttu-id="9dcd2-121">[![Agregue un ObjectDataSource a la página](declarative-parameters-cs/_static/image2.png)](declarative-parameters-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-121">[![Add an ObjectDataSource to the Page](declarative-parameters-cs/_static/image2.png)](declarative-parameters-cs/_static/image1.png)</span></span>

<span data-ttu-id="9dcd2-122">**Figura 1**: agregar un ObjectDataSource a la página ([haga clic aquí para ver la imagen a tamaño completo](declarative-parameters-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="9dcd2-122">**Figure 1**: Add an ObjectDataSource to the Page ([Click to view full-size image](declarative-parameters-cs/_static/image3.png))</span></span>


<span data-ttu-id="9dcd2-123">Se iniciará automáticamente el Asistente de Elegir origen de datos del control ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-123">This will automatically start the ObjectDataSource control's Choose Data Source wizard.</span></span> <span data-ttu-id="9dcd2-124">Seleccione el `ProductsBLL` clase a partir de la primera pantalla del asistente.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-124">Select the `ProductsBLL` class from the first screen of the wizard.</span></span>


<span data-ttu-id="9dcd2-125">[![Seleccione la clase ProductsBLL](declarative-parameters-cs/_static/image5.png)](declarative-parameters-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-125">[![Select the ProductsBLL Class](declarative-parameters-cs/_static/image5.png)](declarative-parameters-cs/_static/image4.png)</span></span>

<span data-ttu-id="9dcd2-126">**Figura 2**: seleccione la `ProductsBLL` clase ([haga clic aquí para ver la imagen a tamaño completo](declarative-parameters-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="9dcd2-126">**Figure 2**: Select the `ProductsBLL` Class ([Click to view full-size image](declarative-parameters-cs/_static/image6.png))</span></span>


<span data-ttu-id="9dcd2-127">Puesto que deseamos mostrar información sobre un producto determinado que deseamos utilizar la `GetProductByProductID(productID)` método.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-127">Since we want to display information about a particular product we want to use the `GetProductByProductID(productID)` method.</span></span>


<span data-ttu-id="9dcd2-128">[![Elija el método GetProductByProductID(productID)](declarative-parameters-cs/_static/image8.png)](declarative-parameters-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-128">[![Choose the GetProductByProductID(productID) method](declarative-parameters-cs/_static/image8.png)](declarative-parameters-cs/_static/image7.png)</span></span>

<span data-ttu-id="9dcd2-129">**Figura 3**: elija la `GetProductByProductID(productID)` método ([haga clic aquí para ver la imagen a tamaño completo](declarative-parameters-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="9dcd2-129">**Figure 3**: Choose the `GetProductByProductID(productID)` method ([Click to view full-size image](declarative-parameters-cs/_static/image9.png))</span></span>


<span data-ttu-id="9dcd2-130">Dado que el método seleccionados incluye un parámetro, hay una pantalla más para que el asistente, donde se nos solicita para definir el valor que se utilizará para el parámetro.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-130">Since the method we selected includes a parameter, there's one more screen for the wizard, where we're asked to define the value to be used for the parameter.</span></span> <span data-ttu-id="9dcd2-131">La lista de la izquierda muestra todos los parámetros para el método seleccionado.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-131">The list on the left shows all of the parameters for the selected method.</span></span> <span data-ttu-id="9dcd2-132">Para `GetProductByProductID(productID)` solo hay un `productID`.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-132">For `GetProductByProductID(productID)` there's only one `productID`.</span></span> <span data-ttu-id="9dcd2-133">En la parte derecha podemos especificamos el valor para el parámetro seleccionado.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-133">On the right we can specify the value for the selected parameter.</span></span> <span data-ttu-id="9dcd2-134">La lista desplegable de origen de parámetro enumera los diversos orígenes posibles para el valor del parámetro.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-134">The parameter source drop-down list enumerates the various possible sources for the parameter value.</span></span> <span data-ttu-id="9dcd2-135">Puesto que deseamos especificar un valor codificado de forma rígida de 5 para el `productID` parámetro, deje el origen del parámetro como Ninguno y 5 en el cuadro de texto DefaultValue.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-135">Since we want to specify a hard-coded value of 5 for the `productID` parameter, leave the Parameter source as None and enter 5 into the DefaultValue textbox.</span></span>


<span data-ttu-id="9dcd2-136">[![Un Hard-Coded parámetro valor de 5 se utilizará para el parámetro productID](declarative-parameters-cs/_static/image11.png)](declarative-parameters-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-136">[![A Hard-Coded Parameter Value of 5 Will Be Used for the productID Parameter](declarative-parameters-cs/_static/image11.png)](declarative-parameters-cs/_static/image10.png)</span></span>

<span data-ttu-id="9dcd2-137">**Figura 4**: A Hard-Coded parámetro valor de 5 se utilizará para la `productID` parámetro ([haga clic aquí para ver la imagen a tamaño completo](declarative-parameters-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="9dcd2-137">**Figure 4**: A Hard-Coded Parameter Value of 5 Will Be Used for the `productID` Parameter ([Click to view full-size image](declarative-parameters-cs/_static/image12.png))</span></span>


<span data-ttu-id="9dcd2-138">Después de completar el Asistente para configurar orígenes de datos, que incluye marcado declarativo del control ObjectDataSource un `Parameter` objeto en el `SelectParameters` recopilación para cada uno de los parámetros de entrada esperados por el método definido en el `SelectMethod` propiedad.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-138">After completing the Configure Data Source wizard, the ObjectDataSource control's declarative markup includes a `Parameter` object in the `SelectParameters` collection for each of the input parameters expected by the method defined in the `SelectMethod` property.</span></span> <span data-ttu-id="9dcd2-139">Puesto que el método usamos en este ejemplo espera sólo un único parámetro de entrada, `parameterID`, hay sólo una entrada aquí.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-139">Since the method we're using in this example expects just a single input parameter, `parameterID`, there's only one entry here.</span></span> <span data-ttu-id="9dcd2-140">El `SelectParameters` colección puede contener cualquier clase que deriva de la `Parameter` clase en el `System.Web.UI.WebControls` espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-140">The `SelectParameters` collection can contain any class that derives from the `Parameter` class in the `System.Web.UI.WebControls` namespace.</span></span> <span data-ttu-id="9dcd2-141">Para la base de los valores de parámetro codificado de forma rígida `Parameter` se utiliza la clase, pero el otro parámetro de origen de opciones de una derivada `Parameter` se utiliza la clase; también puede crear sus propias [tipos de parámetros personalizados](http://www.leftslipper.com/ShowFaq.aspx?FaqId=11), si es necesario.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-141">For hard-coded parameter values the base `Parameter` class is used, but for the other parameter source options a derived `Parameter` class is used; you can also create your own [custom parameter types](http://www.leftslipper.com/ShowFaq.aspx?FaqId=11), if needed.</span></span>

[!code-aspx[Main](declarative-parameters-cs/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="9dcd2-142">Si va a lo largo de su propio equipo el marcado declarativo que se ve en este momento puede incluir valores de la `InsertMethod`, `UpdateMethod`, y `DeleteMethod` propiedades, así como `DeleteParameters`.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-142">If you're following along on your own computer the declarative markup you see at this point may include values for the `InsertMethod`, `UpdateMethod`, and `DeleteMethod` properties, as well as `DeleteParameters`.</span></span> <span data-ttu-id="9dcd2-143">Asistente para elegir origen de datos de ObjectDataSource especifica automáticamente los métodos de la `ProductBLL` que se utilizará para insertar, actualizar y eliminar, por lo que, a menos que explícitamente desactivada dichas decisiones más, deberá incluirse en el marcado.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-143">The ObjectDataSource's Choose Data Source wizard automatically specifies the methods from the `ProductBLL` to use for inserting, updating, and deleting, so unless you explicitly cleared those out, they'll be included in the markup above.</span></span>


<span data-ttu-id="9dcd2-144">Cuando visite esta página, los datos de control Web invocará el ObjectDataSource `Select` método, que llamará el `ProductsBLL` la clase `GetProductByProductID(productID)` método utilizando el valor codificado de forma rígida de 5 para el `productID` parámetro de entrada.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-144">When visiting this page, the data Web control will invoke the ObjectDataSource's `Select` method, which will call the `ProductsBLL` class's `GetProductByProductID(productID)` method using the hard-coded value of 5 for the `productID` input parameter.</span></span> <span data-ttu-id="9dcd2-145">El método devolverá fuertemente tipadas `ProductDataTable` objeto que contiene una sola fila con información acerca tártara del Chef Anton (el producto con `ProductID` 5).</span><span class="sxs-lookup"><span data-stu-id="9dcd2-145">The method will return a strongly-typed `ProductDataTable` object that contains a single row with information about Chef Anton's Gumbo Mix (the product with `ProductID` 5).</span></span>


<span data-ttu-id="9dcd2-146">[![Se muestra tártara información acerca del Chef Anton](declarative-parameters-cs/_static/image14.png)](declarative-parameters-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-146">[![Information About Chef Anton's Gumbo Mix are Displayed](declarative-parameters-cs/_static/image14.png)](declarative-parameters-cs/_static/image13.png)</span></span>

<span data-ttu-id="9dcd2-147">**Figura 5**: se muestran tártara información acerca del Chef Anton ([haga clic aquí para ver la imagen a tamaño completo](declarative-parameters-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="9dcd2-147">**Figure 5**: Information About Chef Anton's Gumbo Mix are Displayed ([Click to view full-size image](declarative-parameters-cs/_static/image15.png))</span></span>


## <a name="setting-the-parameter-value-to-the-property-value-of-a-web-control"></a><span data-ttu-id="9dcd2-148">Establecer el valor del parámetro en el valor de propiedad de un Control Web</span><span class="sxs-lookup"><span data-stu-id="9dcd2-148">Setting the Parameter Value to the Property Value of a Web Control</span></span>

<span data-ttu-id="9dcd2-149">Parámetro de ObjectDataSource valores también se pueden establecer en función del valor de un control Web en la página.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-149">The ObjectDataSource's parameter values can also be set based on the value of a Web control on the page.</span></span> <span data-ttu-id="9dcd2-150">Para ilustrar esto, supongamos que tiene un control GridView que muestra todos los proveedores que se encuentran en un país o región especificado por el usuario.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-150">To illustrate this, let's have a GridView that lists all of the suppliers that are located in a country specified by the user.</span></span> <span data-ttu-id="9dcd2-151">Para realizar esta guía de inicio mediante la adición de un cuadro de texto a la página en la que el usuario puede escribir un nombre de país.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-151">To accomplish this start by adding a TextBox to the page into which the user can enter a country name.</span></span> <span data-ttu-id="9dcd2-152">Establecer este control de cuadro de texto `ID` propiedad `CountryName`.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-152">Set this TextBox control's `ID` property to `CountryName`.</span></span> <span data-ttu-id="9dcd2-153">Agregar un control Web Button.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-153">Also add a Button Web control.</span></span>


<span data-ttu-id="9dcd2-154">[![Agregue un cuadro de texto a la página con el Id. de CountryName](declarative-parameters-cs/_static/image17.png)](declarative-parameters-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-154">[![Add a TextBox to the Page with ID CountryName](declarative-parameters-cs/_static/image17.png)](declarative-parameters-cs/_static/image16.png)</span></span>

<span data-ttu-id="9dcd2-155">**Figura 6**: agregar un cuadro de texto a la página con `ID` `CountryName` ([haga clic aquí para ver la imagen a tamaño completo](declarative-parameters-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="9dcd2-155">**Figure 6**: Add a TextBox to the Page with `ID` `CountryName` ([Click to view full-size image](declarative-parameters-cs/_static/image18.png))</span></span>


<span data-ttu-id="9dcd2-156">A continuación, agregar un control GridView a la página y, de la etiqueta inteligente, optar por agregar una nueva ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-156">Next, add a GridView to the page and, from the smart tag, choose to add a new ObjectDataSource.</span></span> <span data-ttu-id="9dcd2-157">Puesto que deseamos mostrar seleccionar información de proveedor la `SuppliersBLL` clase a partir de la pantalla del asistente primera.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-157">Since we want to display supplier information select the `SuppliersBLL` class from the wizard's first screen.</span></span> <span data-ttu-id="9dcd2-158">En la segunda pantalla, seleccione la `GetSuppliersByCountry(country)` método.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-158">From the second screen, pick the `GetSuppliersByCountry(country)` method.</span></span>


<span data-ttu-id="9dcd2-159">[![Elija el método GetSuppliersByCountry(country)](declarative-parameters-cs/_static/image20.png)](declarative-parameters-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-159">[![Choose the GetSuppliersByCountry(country) Method](declarative-parameters-cs/_static/image20.png)](declarative-parameters-cs/_static/image19.png)</span></span>

<span data-ttu-id="9dcd2-160">**Figura 7**: elija la `GetSuppliersByCountry(country)` método ([haga clic aquí para ver la imagen a tamaño completo](declarative-parameters-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="9dcd2-160">**Figure 7**: Choose the `GetSuppliersByCountry(country)` Method ([Click to view full-size image](declarative-parameters-cs/_static/image21.png))</span></span>


<span data-ttu-id="9dcd2-161">Puesto que la `GetSuppliersByCountry(country)` método tiene un parámetro de entrada, una vez más, el asistente incluye una pantalla final para elegir el valor del parámetro.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-161">Since the `GetSuppliersByCountry(country)` method has an input parameter, the wizard once again includes a final screen for choosing the parameter value.</span></span> <span data-ttu-id="9dcd2-162">Esta vez, establezca el parámetro source al Control.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-162">This time, set the Parameter source to Control.</span></span> <span data-ttu-id="9dcd2-163">Esto rellenará la lista desplegable de ControlID con los nombres de los controles en la página; Seleccione el `CountryName` control de la lista.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-163">This will populate the ControlID drop-down list with the names of the controls on the page; select the `CountryName` control from the list.</span></span> <span data-ttu-id="9dcd2-164">Cuando primero se visita la página de la `CountryName` cuadro de texto se quedan en blanco, por lo que se devuelve ningún resultado y no se muestra nada.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-164">When the page is first visited the `CountryName` TextBox will be blank, so no results are returned and nothing is displayed.</span></span> <span data-ttu-id="9dcd2-165">Si desea mostrar los resultados de forma predeterminada, establezca el cuadro de texto DefaultValue en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-165">If you want to display some results by default, set the DefaultValue textbox accordingly.</span></span>


<span data-ttu-id="9dcd2-166">[![Establezca el valor de parámetro en el valor del Control CountryName](declarative-parameters-cs/_static/image23.png)](declarative-parameters-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-166">[![Set the Parameter Value to the CountryName Control Value](declarative-parameters-cs/_static/image23.png)](declarative-parameters-cs/_static/image22.png)</span></span>

<span data-ttu-id="9dcd2-167">**Figura 8**: establece el valor del parámetro en el `CountryName` valor de Control ([haga clic aquí para ver la imagen a tamaño completo](declarative-parameters-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="9dcd2-167">**Figure 8**: Set the Parameter Value to the `CountryName` Control Value ([Click to view full-size image](declarative-parameters-cs/_static/image24.png))</span></span>


<span data-ttu-id="9dcd2-168">Marcado declarativo del ObjectDataSource difiere ligeramente de nuestro primer ejemplo, con un [ControlParameter](https://msdn.microsoft.com/library/system.web.ui.webcontrols.controlparameter.aspx) en lugar de la norma `Parameter` objeto.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-168">The ObjectDataSource's declarative markup differs slightly from our first example, using a [ControlParameter](https://msdn.microsoft.com/library/system.web.ui.webcontrols.controlparameter.aspx) instead of the standard `Parameter` object.</span></span> <span data-ttu-id="9dcd2-169">A `ControlParameter` tiene propiedades adicionales para especificar el `ID` de control de Web y el valor de propiedad que se utilizará para el parámetro (`PropertyName`).</span><span class="sxs-lookup"><span data-stu-id="9dcd2-169">A `ControlParameter` has additional properties to specify the `ID` of the Web control and the property value to use for the parameter (`PropertyName`).</span></span> <span data-ttu-id="9dcd2-170">El Asistente para configurar orígenes de datos fue lo suficientemente inteligente como para determinar que, para un cuadro de texto, probablemente querrá usar la `Text` propiedad para el valor del parámetro.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-170">The Configure Data Source wizard was smart enough to determine that, for a TextBox, we'll likely want to use the `Text` property for the parameter value.</span></span> <span data-ttu-id="9dcd2-171">Si, sin embargo, desea utilizar un valor de otra propiedad de control Web puede cambiar la `PropertyName` valor aquí o haciendo clic en el vínculo "Mostrar propiedades avanzadas" en el asistente.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-171">If, however, you want to use a different property value from the Web control you can change the `PropertyName` value here or by clicking the "Show advanced properties" link in the wizard.</span></span>

[!code-aspx[Main](declarative-parameters-cs/samples/sample2.aspx)]

<span data-ttu-id="9dcd2-172">Al visitar la página por primera vez el `CountryName` cuadro de texto está vacío.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-172">When visiting the page for the first time the `CountryName` TextBox is empty.</span></span> <span data-ttu-id="9dcd2-173">El ObjectDataSource `Select` todavía se invoca el método GridView, pero un valor de `null` se pasa a la `GetSuppliersByCountry(country)` método.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-173">The ObjectDataSource's `Select` method is still invoked by the GridView, but a value of `null` is passed into the `GetSuppliersByCountry(country)` method.</span></span> <span data-ttu-id="9dcd2-174">Convierte el objeto TableAdapter el `null` en una base de datos `NULL` valor (`DBNull.Value`), pero la consulta usada por la `GetSuppliersByCountry(country)` método se escribe de forma que no devuelva cualquiera valores cuando un `NULL` se especifica el valor para el `@CategoryID`parámetro.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-174">The TableAdapter converts the `null` into a database `NULL` value (`DBNull.Value`), but the query used by the `GetSuppliersByCountry(country)` method is written such that it doesn't return any values when a `NULL` value is specified for the `@CategoryID` parameter.</span></span> <span data-ttu-id="9dcd2-175">En resumen, no se devuelven proveedores.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-175">In short, no suppliers are returned.</span></span>

<span data-ttu-id="9dcd2-176">Una vez que el visitante entra en un país o región, sin embargo y hace clic en el botón Mostrar proveedores para que se produzca una devolución de datos, el ObjectDataSource `Select` método se realiza una nueva consulta, pasando el control de cuadro de texto `Text` valor como el `country` parámetro.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-176">Once the visitor enters in a country, however, and clicks the Show Suppliers button to cause a postback, the ObjectDataSource's `Select` method is requeried, passing in the TextBox control's `Text` value as the `country` parameter.</span></span>


<span data-ttu-id="9dcd2-177">[![Se muestran los proveedores de Canadá](declarative-parameters-cs/_static/image26.png)](declarative-parameters-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-177">[![Those Suppliers from Canada are Shown](declarative-parameters-cs/_static/image26.png)](declarative-parameters-cs/_static/image25.png)</span></span>

<span data-ttu-id="9dcd2-178">**Figura 9**: se muestran los proveedores de Canadá ([haga clic aquí para ver la imagen a tamaño completo](declarative-parameters-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="9dcd2-178">**Figure 9**: Those Suppliers from Canada are Shown ([Click to view full-size image](declarative-parameters-cs/_static/image27.png))</span></span>


## <a name="showing-all-suppliers-by-default"></a><span data-ttu-id="9dcd2-179">Mostrar todos los proveedores de forma predeterminada</span><span class="sxs-lookup"><span data-stu-id="9dcd2-179">Showing All Suppliers By Default</span></span>

<span data-ttu-id="9dcd2-180">En su lugar de mostrar: ninguno de los proveedores cuando se visualizan en primer lugar la página que podríamos desear mostrar *todos los* proveedores al principio, que permite al usuario reducir la lista, escriba un nombre de país en el cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-180">Rather than show none of the suppliers when first viewing the page we may want to show *all* suppliers at first, allowing the user to pare down the list by entering a country name in the TextBox.</span></span> <span data-ttu-id="9dcd2-181">Cuando el cuadro de texto está vacío, el `SuppliersBLL` la clase `GetSuppliersByCountry(country)` método se pasa en un `null` valor para su *`country`* parámetro de entrada.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-181">When the TextBox is empty, the `SuppliersBLL` class's `GetSuppliersByCountry(country)` method is passed in a `null` value for its *`country`* input parameter.</span></span> <span data-ttu-id="9dcd2-182">Esto `null` valor, a continuación, se pasa hacia abajo en la capa de DAL `GetSupplierByCountry(country)` método, donde se traduce a una base de datos `NULL` valor para el `@Country` parámetro en la consulta siguiente:</span><span class="sxs-lookup"><span data-stu-id="9dcd2-182">This `null` value is then passed down into the DAL's `GetSupplierByCountry(country)` method, where it's translated to a database `NULL` value for the `@Country` parameter in the following query:</span></span>

[!code-sql[Main](declarative-parameters-cs/samples/sample3.sql)]

<span data-ttu-id="9dcd2-183">La expresión `Country = NULL` siempre devuelve False, incluso para los registros cuyo `Country` columna tiene un `NULL` valor; por lo tanto, se devuelve ningún registro.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-183">The expression `Country = NULL` always returns False, even for records whose `Country` column has a `NULL` value; therefore, no records are returned.</span></span>

<span data-ttu-id="9dcd2-184">Para devolver *todos los* proveedores cuando el país en el cuadro de texto está vacío, se puede aumentar la `GetSuppliersByCountry(country)` método en la capa BLL para invocar la `GetSuppliers()` método cuando el parámetro de país es `null` y llamar a la capa de DAL `GetSuppliersByCountry(country)` método en caso contrario.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-184">To return *all* suppliers when the country TextBox is empty, we can augment the `GetSuppliersByCountry(country)` method in the BLL to invoke the `GetSuppliers()` method when its country parameter is `null` and to call the DAL's `GetSuppliersByCountry(country)` method otherwise.</span></span> <span data-ttu-id="9dcd2-185">Esto tendrá el efecto de devolver todos los proveedores cuando no se especifica ningún país y el subconjunto apropiado de proveedores cuando se incluye el parámetro de país.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-185">This will have the effect of returning all suppliers when no country is specified and the appropriate subset of suppliers when the country parameter is included.</span></span>

<span data-ttu-id="9dcd2-186">Cambiar el `GetSuppliersByCountry(country)` método en la `SuppliersBLL` clase a lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="9dcd2-186">Change the `GetSuppliersByCountry(country)` method in the `SuppliersBLL` class to the following:</span></span>

[!code-csharp[Main](declarative-parameters-cs/samples/sample4.cs)]

<span data-ttu-id="9dcd2-187">Con este cambio la `DeclarativeParams.aspx` página muestra todos los proveedores cuando visita por primera vez (o cada vez que la `CountryName` cuadro de texto está vacío).</span><span class="sxs-lookup"><span data-stu-id="9dcd2-187">With this change the `DeclarativeParams.aspx` page shows all of the suppliers when first visited (or whenever the `CountryName` TextBox is empty).</span></span>


<span data-ttu-id="9dcd2-188">[![Todos los proveedores son ahora se muestran de forma predeterminada](declarative-parameters-cs/_static/image29.png)](declarative-parameters-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-188">[![All Suppliers are Now Shown by Default](declarative-parameters-cs/_static/image29.png)](declarative-parameters-cs/_static/image28.png)</span></span>

<span data-ttu-id="9dcd2-189">**Figura 10**: todos los proveedores son ahora se muestran de forma predeterminada ([haga clic aquí para ver la imagen a tamaño completo](declarative-parameters-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="9dcd2-189">**Figure 10**: All Suppliers are Now Shown by Default ([Click to view full-size image](declarative-parameters-cs/_static/image30.png))</span></span>


## <a name="summary"></a><span data-ttu-id="9dcd2-190">Resumen</span><span class="sxs-lookup"><span data-stu-id="9dcd2-190">Summary</span></span>

<span data-ttu-id="9dcd2-191">Para usar métodos con parámetros de entrada, es preciso especificar los valores para los parámetros en el ObjectDataSource `SelectParameters` colección.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-191">In order to use methods with input parameters, we need to specify the values for the parameters in the ObjectDataSource's `SelectParameters` collection.</span></span> <span data-ttu-id="9dcd2-192">Permiten diferentes tipos de parámetros para que el valor del parámetro obtenerse a partir de orígenes diferentes.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-192">Different types of parameters allow for the parameter value to be obtained from different sources.</span></span> <span data-ttu-id="9dcd2-193">El tipo de parámetro predeterminado usa un valor codificado de forma rígida, pero al igual que fácilmente (y sin una línea de código) pueden obtenerse valores de parámetro de la querystring, variables de sesión, cookies y valores incluso escrito por el usuario de controles Web de la página.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-193">The default parameter type uses a hard-coded value, but just as easily (and without a line of code) parameter values can be obtained from the querystring, Session variables, cookies, and even user-entered values from Web controls on the page.</span></span>

<span data-ttu-id="9dcd2-194">Los ejemplos que analizamos en este tutorial muestra cómo utilizar los valores de parámetro declarativa.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-194">The examples we looked at in this tutorial illustrated how to use declarative parameter values.</span></span> <span data-ttu-id="9dcd2-195">Sin embargo, puede haber veces cuando es necesario utilizar un origen de parámetro que no está disponible, por ejemplo, la fecha y hora actuales, o, si nuestro sitio utilizaba pertenencia, el identificador de usuario del visitante.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-195">However, there may be times when we need to use a parameter source that's not available, such as the current date and time, or, if our site was using Membership, the User ID of the visitor.</span></span> <span data-ttu-id="9dcd2-196">Para tales escenarios, podemos establecer los valores de parámetro mediante programación antes de ObjectDataSource invocar el método de su objeto subyacente.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-196">For such scenarios we can set the parameter values programmatically prior to the ObjectDataSource invoking its underlying object's method.</span></span> <span data-ttu-id="9dcd2-197">Veremos cómo hacerlo en el [siguiente tutorial](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md).</span><span class="sxs-lookup"><span data-stu-id="9dcd2-197">We'll see how to accomplish this in the [next tutorial](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md).</span></span>

<span data-ttu-id="9dcd2-198">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-198">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="9dcd2-199">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="9dcd2-199">About the Author</span></span>

<span data-ttu-id="9dcd2-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de siete libros sobre ASP/ASP.NET y fundador de [4GuysFromRolla.com](http://www.4guysfromrolla.com), ha trabajado con las tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-200">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="9dcd2-201">Scott funciona como un consultor independiente, instructor y escritor.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-201">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="9dcd2-202">Su último libro es [*SAM enseñar a usted mismo ASP.NET 2.0 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="9dcd2-202">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="9dcd2-203">Puede ponerse en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) o a través de su blog, que se pueden encontrar en [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="9dcd2-203">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="9dcd2-204">Agradecimientos especiales a</span><span class="sxs-lookup"><span data-stu-id="9dcd2-204">Special Thanks To</span></span>

<span data-ttu-id="9dcd2-205">Esta serie de tutoriales se revisó por varios revisores útiles.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-205">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="9dcd2-206">Revisor inicial para este tutorial era Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="9dcd2-206">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="9dcd2-207">¿Está interesado en revisar mi próximos artículos MSDN?</span><span class="sxs-lookup"><span data-stu-id="9dcd2-207">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="9dcd2-208">Si es así, me quitar una línea en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-208">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="9dcd2-209">[Anterior](displaying-data-with-the-objectdatasource-cs.md)
> [Siguiente](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)</span><span class="sxs-lookup"><span data-stu-id="9dcd2-209">[Previous](displaying-data-with-the-objectdatasource-cs.md)
[Next](programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)</span></span>
