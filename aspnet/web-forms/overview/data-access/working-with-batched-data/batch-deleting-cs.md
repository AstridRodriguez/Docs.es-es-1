---
uid: web-forms/overview/data-access/working-with-batched-data/batch-deleting-cs
title: Lote eliminar (C#) | Documentos de Microsoft
author: rick-anderson
description: Obtenga información acerca de cómo eliminar varios registros de base de datos en una sola operación. En la capa de interfaz de usuario se parten un GridView mejorada creado en una anterior tut...
ms.author: aspnetcontent
manager: wpickett
ms.date: 06/26/2007
ms.topic: article
ms.assetid: ac6916d0-a5ab-4218-9760-7ba9e72d258c
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/working-with-batched-data/batch-deleting-cs
msc.type: authoredcontent
ms.openlocfilehash: 59c90dcf373d19aad42250ee6dedba5f09f833b5
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/06/2018
ms.locfileid: "30891872"
---
<a name="batch-deleting-c"></a><span data-ttu-id="fbc72-104">Procesar por lotes eliminando (C#)</span><span class="sxs-lookup"><span data-stu-id="fbc72-104">Batch Deleting (C#)</span></span>
====================
<span data-ttu-id="fbc72-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="fbc72-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="fbc72-106">[Descargar código](http://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_65_CS.zip) o [descarga de PDF](batch-deleting-cs/_static/datatutorial65cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="fbc72-106">[Download Code](http://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_65_CS.zip) or [Download PDF](batch-deleting-cs/_static/datatutorial65cs1.pdf)</span></span>

> <span data-ttu-id="fbc72-107">Obtenga información acerca de cómo eliminar varios registros de base de datos en una sola operación.</span><span class="sxs-lookup"><span data-stu-id="fbc72-107">Learn how to delete multiple database records in a single operation.</span></span> <span data-ttu-id="fbc72-108">En la capa de interfaz de usuario se se basan en un GridView mejorada creado en un tutorial anterior.</span><span class="sxs-lookup"><span data-stu-id="fbc72-108">In the User Interface Layer we build upon an enhanced GridView created in an earlier tutorial.</span></span> <span data-ttu-id="fbc72-109">En la capa de acceso a datos se encapsulan las varias operaciones de eliminación en una transacción para asegurarse de que todas las eliminaciones correctamente o se revierten todas las eliminaciones.</span><span class="sxs-lookup"><span data-stu-id="fbc72-109">In the Data Access Layer we wrap the multiple Delete operations within a transaction to ensure that all deletions succeed or all deletions are rolled back.</span></span>


## <a name="introduction"></a><span data-ttu-id="fbc72-110">Introducción</span><span class="sxs-lookup"><span data-stu-id="fbc72-110">Introduction</span></span>

<span data-ttu-id="fbc72-111">El [tutorial anterior](batch-updating-cs.md) explorar cómo crear un lote edición interfaz mediante un GridView totalmente editables.</span><span class="sxs-lookup"><span data-stu-id="fbc72-111">The [preceding tutorial](batch-updating-cs.md) explored how to create a batch editing interface using a fully-editable GridView.</span></span> <span data-ttu-id="fbc72-112">En situaciones donde los usuarios son normalmente edición muchos registros a la vez, será necesario un lote en la interfaz de edición muchas menos devoluciones de datos y el contexto de teclado y mouse conmutadores, lo que mejora la eficacia de s de usuario final.</span><span class="sxs-lookup"><span data-stu-id="fbc72-112">In situations where users are commonly editing many records at once, a batch editing interface will require far fewer postbacks and keyboard-to-mouse context switches, thereby improving the end user s efficiency.</span></span> <span data-ttu-id="fbc72-113">Esta técnica es útil del mismo modo para páginas donde es habitual que los usuarios puedan eliminar muchos registros en una sola operación.</span><span class="sxs-lookup"><span data-stu-id="fbc72-113">This technique is similarly useful for pages where it is common for users to delete many records in one go.</span></span>

<span data-ttu-id="fbc72-114">Cualquier persona que ha utilizado un cliente de correo electrónico en línea ya está familiarizado con uno del lote más comunes al eliminar interfaces: una casilla de verificación de cada fila en una cuadrícula con una correspondiente eliminar todos los elementos marcados botón (consulte la figura 1).</span><span class="sxs-lookup"><span data-stu-id="fbc72-114">Anyone who has used an online email client is already familiar with one of the most common batch deleting interfaces: a checkbox in each row in a grid with a corresponding Delete All Checked Items button (see Figure 1).</span></span> <span data-ttu-id="fbc72-115">Este tutorial es corto en su lugar porque se ve que se ha hecho todo el disco duro trabajo en los tutoriales anteriores para crear la interfaz basada en web y un método para eliminar una serie de registros como una única operación atómica.</span><span class="sxs-lookup"><span data-stu-id="fbc72-115">This tutorial is rather short because we ve already done all of the hard work in previous tutorials in creating both the web-based interface and a method to delete a series of records as a single atomic operation.</span></span> <span data-ttu-id="fbc72-116">En el [agregar una columna de GridView de casillas de verificación](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) tutorial, creamos un GridView con una columna de casillas de verificación y, en la [ajuste modificaciones de base de datos dentro de una transacción](wrapping-database-modifications-within-a-transaction-cs.md) creamos un método en el tutorial la capa BLL que utilizaría una transacción para eliminar un `List<T>` de `ProductID` valores.</span><span class="sxs-lookup"><span data-stu-id="fbc72-116">In the [Adding a GridView Column of Checkboxes](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) tutorial we created a GridView with a column of checkboxes and in the [Wrapping Database Modifications within a Transaction](wrapping-database-modifications-within-a-transaction-cs.md) tutorial we created a method in the BLL that would use a transaction to delete a `List<T>` of `ProductID` values.</span></span> <span data-ttu-id="fbc72-117">En este tutorial, agregaremos parten y mezcla nuestras experiencias para crear un lote de trabajo al eliminar el ejemplo anteriores.</span><span class="sxs-lookup"><span data-stu-id="fbc72-117">In this tutorial, we will build upon and merge our previous experiences to create a working batch deleting example.</span></span>


<span data-ttu-id="fbc72-118">[![Cada fila incluye una casilla de verificación](batch-deleting-cs/_static/image1.gif)](batch-deleting-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="fbc72-118">[![Each Row Includes a Checkbox](batch-deleting-cs/_static/image1.gif)](batch-deleting-cs/_static/image1.png)</span></span>

<span data-ttu-id="fbc72-119">**Figura 1**: cada fila incluye una casilla de verificación ([haga clic aquí para ver la imagen a tamaño completo](batch-deleting-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="fbc72-119">**Figure 1**: Each Row Includes a Checkbox ([Click to view full-size image](batch-deleting-cs/_static/image2.png))</span></span>


## <a name="step-1-creating-the-batch-deleting-interface"></a><span data-ttu-id="fbc72-120">Paso 1: Crear el lote de eliminación de interfaz</span><span class="sxs-lookup"><span data-stu-id="fbc72-120">Step 1: Creating the Batch Deleting Interface</span></span>

<span data-ttu-id="fbc72-121">Puesto que ya se creó el lote al eliminar la interfaz en el [agregar una columna de GridView de casillas de verificación](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) tutorial, podemos simplemente copiaremos a `BatchDelete.aspx` en lugar de crear desde cero.</span><span class="sxs-lookup"><span data-stu-id="fbc72-121">Since we already created the batch deleting interface in the [Adding a GridView Column of Checkboxes](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) tutorial, we can simply copy it to `BatchDelete.aspx` rather than creating it from scratch.</span></span> <span data-ttu-id="fbc72-122">Comience abriendo la `BatchDelete.aspx` página en el `BatchData` carpeta y el `CheckBoxField.aspx` página en el `EnhancedGridView` carpeta.</span><span class="sxs-lookup"><span data-stu-id="fbc72-122">Start by opening the `BatchDelete.aspx` page in the `BatchData` folder and the `CheckBoxField.aspx` page in the `EnhancedGridView` folder.</span></span> <span data-ttu-id="fbc72-123">Desde el `CheckBoxField.aspx` página, vaya a la vista del origen y copie el marcado entre la `<asp:Content>` etiquetas tal y como se muestra en la figura 2.</span><span class="sxs-lookup"><span data-stu-id="fbc72-123">From the `CheckBoxField.aspx` page, go to the Source view and copy the markup between the `<asp:Content>` tags as shown in Figure 2.</span></span>


<span data-ttu-id="fbc72-124">[![Copie el marcado declarativo de CheckBoxField.aspx en el Portapapeles](batch-deleting-cs/_static/image2.gif)](batch-deleting-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="fbc72-124">[![Copy the Declarative Markup of CheckBoxField.aspx to the Clipboard](batch-deleting-cs/_static/image2.gif)](batch-deleting-cs/_static/image3.png)</span></span>

<span data-ttu-id="fbc72-125">**Figura 2**: copie el marcado declarativo de `CheckBoxField.aspx` en el Portapapeles ([haga clic aquí para ver la imagen a tamaño completo](batch-deleting-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="fbc72-125">**Figure 2**: Copy the Declarative Markup of `CheckBoxField.aspx` to the Clipboard ([Click to view full-size image](batch-deleting-cs/_static/image4.png))</span></span>


<span data-ttu-id="fbc72-126">A continuación, vaya a la vista del origen de `BatchDelete.aspx` y pegue el contenido del Portapapeles en el `<asp:Content>` etiquetas.</span><span class="sxs-lookup"><span data-stu-id="fbc72-126">Next, go to the Source view in `BatchDelete.aspx` and paste the contents of the clipboard within the `<asp:Content>` tags.</span></span> <span data-ttu-id="fbc72-127">Copiar y pegar el código desde dentro de la clase de código subyacente en `CheckBoxField.aspx.cs` a dentro de la clase de código subyacente en `BatchDelete.aspx.cs` (la `DeleteSelectedProducts` botón s `Click` controlador de eventos, el `ToggleCheckState` método y el `Click` controladores de eventos para el `CheckAll` y `UncheckAll` botones).</span><span class="sxs-lookup"><span data-stu-id="fbc72-127">Also copy and paste the code from within the code-behind class in `CheckBoxField.aspx.cs` to within the code-behind class in `BatchDelete.aspx.cs` (the `DeleteSelectedProducts` Button s `Click` event handler, the `ToggleCheckState` method, and the `Click` event handlers for the `CheckAll` and `UncheckAll` Buttons).</span></span> <span data-ttu-id="fbc72-128">Después de copiar a través de este contenido, la `BatchDelete.aspx` clase de código subyacente de la página s debería contener el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="fbc72-128">After copying over this content, the `BatchDelete.aspx` page s code-behind class should contain the following code:</span></span>


[!code-csharp[Main](batch-deleting-cs/samples/sample1.cs)]

<span data-ttu-id="fbc72-129">Una vez copiado en el marcado declarativo y el código fuente, tómese un momento para probar `BatchDelete.aspx` viendo a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="fbc72-129">After copying over the declarative markup and source code, take a moment to test `BatchDelete.aspx` by viewing it through a browser.</span></span> <span data-ttu-id="fbc72-130">Debería ver una lista de los diez primeros productos en un GridView con cada fila Mostrar el nombre de producto s, la categoría y el precio junto con una casilla de verificación de GridView.</span><span class="sxs-lookup"><span data-stu-id="fbc72-130">You should see a GridView listing the first ten products in a GridView with each row listing the product s name, category, and price along with a checkbox.</span></span> <span data-ttu-id="fbc72-131">Debería haber tres botones: compruebe todos los, desactive todas las y eliminar los productos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="fbc72-131">There should be three buttons: Check All, Uncheck All, and Delete Selected Products.</span></span> <span data-ttu-id="fbc72-132">Haga clic en el botón Comprobar todo selecciona todas las casillas, aunque desactive todos los borra todas las casillas.</span><span class="sxs-lookup"><span data-stu-id="fbc72-132">Clicking the Check All button selects all checkboxes, while Uncheck All clears all checkboxes.</span></span> <span data-ttu-id="fbc72-133">Haga clic en eliminar los productos seleccionados se muestra un mensaje que enumera los `ProductID` valores de los productos seleccionados, pero no se eliminan realmente los productos.</span><span class="sxs-lookup"><span data-stu-id="fbc72-133">Clicking Delete Selected Products displays a message that lists the `ProductID` values of the selected products, but does not actually delete the products.</span></span>


<span data-ttu-id="fbc72-134">[![La interfaz de CheckBoxField.aspx se ha movido a BatchDeleting.aspx](batch-deleting-cs/_static/image3.gif)](batch-deleting-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="fbc72-134">[![The Interface from CheckBoxField.aspx has been Moved to BatchDeleting.aspx](batch-deleting-cs/_static/image3.gif)](batch-deleting-cs/_static/image5.png)</span></span>

<span data-ttu-id="fbc72-135">**Figura 3**: la interfaz de `CheckBoxField.aspx` se ha movido a `BatchDeleting.aspx` ([haga clic aquí para ver la imagen a tamaño completo](batch-deleting-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="fbc72-135">**Figure 3**: The Interface from `CheckBoxField.aspx` has been Moved to `BatchDeleting.aspx` ([Click to view full-size image](batch-deleting-cs/_static/image6.png))</span></span>


## <a name="step-2-deleting-the-checked-products-using-transactions"></a><span data-ttu-id="fbc72-136">Paso 2: Eliminar los productos activados mediante transacciones</span><span class="sxs-lookup"><span data-stu-id="fbc72-136">Step 2: Deleting the Checked Products Using Transactions</span></span>

<span data-ttu-id="fbc72-137">Con el lote eliminar interfaz copiado correctamente a `BatchDeleting.aspx`, todos los que queda es actualizar el código para que el botón Eliminar productos seleccionado elimina los productos activados mediante el `DeleteProductsWithTransaction` método en la `ProductsBLL` clase.</span><span class="sxs-lookup"><span data-stu-id="fbc72-137">With the batch deleting interface successfully copied over to `BatchDeleting.aspx`, all that remains is to update the code so that the Delete Selected Products button deletes the checked products using the `DeleteProductsWithTransaction` method in the `ProductsBLL` class.</span></span> <span data-ttu-id="fbc72-138">Este método, que se agregó en el [ajuste modificaciones de base de datos dentro de una transacción](wrapping-database-modifications-within-a-transaction-cs.md) tutorial, acepta como entrada un `List<T>` de `ProductID` valores y las eliminaciones correspondiente `ProductID` dentro del ámbito de un transacción.</span><span class="sxs-lookup"><span data-stu-id="fbc72-138">This method, added in the [Wrapping Database Modifications within a Transaction](wrapping-database-modifications-within-a-transaction-cs.md) tutorial, accepts as its input a `List<T>` of `ProductID` values and deletes each corresponding `ProductID` within the scope of a transaction.</span></span>

<span data-ttu-id="fbc72-139">El `DeleteSelectedProducts` botón s `Click` controlador de eventos utiliza actualmente lo siguiente `foreach` bucle para recorrer en iteración cada fila de GridView:</span><span class="sxs-lookup"><span data-stu-id="fbc72-139">The `DeleteSelectedProducts` Button s `Click` event handler currently uses the following `foreach` loop to iterate through each GridView row:</span></span>


[!code-csharp[Main](batch-deleting-cs/samples/sample2.cs)]

<span data-ttu-id="fbc72-140">Para cada fila, el `ProductSelector` control de casilla de verificación Web mediante programación se hace referencia.</span><span class="sxs-lookup"><span data-stu-id="fbc72-140">For each row, the `ProductSelector` CheckBox Web control is programmatically referenced.</span></span> <span data-ttu-id="fbc72-141">Si está activada, la fila s `ProductID` se recupera de la `DataKeys` colección y el `DeleteResults` etiqueta s `Text` propiedad se actualiza para incluir un mensaje que indica que la fila se ha seleccionado para su eliminación.</span><span class="sxs-lookup"><span data-stu-id="fbc72-141">If it is checked, the row s `ProductID` is retrieved from the `DataKeys` collection and the `DeleteResults` Label s `Text` property is updated to include a message indicating that the row was selected for deletion.</span></span>

<span data-ttu-id="fbc72-142">El código anterior no elimina realmente los registros como la llamada a la `ProductsBLL` clase s `Delete` se hace referencia a método. Quisiera que se aplica esta lógica de eliminación, el código eliminaría los productos, pero no dentro de una operación atómica.</span><span class="sxs-lookup"><span data-stu-id="fbc72-142">The above code does not actually delete any records as the call to the `ProductsBLL` class s `Delete` method is commented out. Were this delete logic to be applied, the code would delete the products but not within an atomic operation.</span></span> <span data-ttu-id="fbc72-143">Es decir, si las eliminaciones de pocos primeras en la secuencia se realizó correctamente, pero no se pudo uno posterior (quizás debido a una infracción de restricción de clave externa), se produciría una excepción, pero esos productos ya eliminados se mantendría eliminados.</span><span class="sxs-lookup"><span data-stu-id="fbc72-143">That is, if the first few deletes in the sequence succeeded, but a later one failed (perhaps due to a foreign key constraint violation), an exception would be thrown but those products already deleted would remain deleted.</span></span>

<span data-ttu-id="fbc72-144">Con el fin de garantizar la atomicidad, es necesario usar en su lugar el `ProductsBLL` clase s. `DeleteProductsWithTransaction` método.</span><span class="sxs-lookup"><span data-stu-id="fbc72-144">In order to assure atomicity, we need to instead use the `ProductsBLL` class s `DeleteProductsWithTransaction` method.</span></span> <span data-ttu-id="fbc72-145">Dado que este método acepta una lista de `ProductID` valores, es necesario compilar en primer lugar esta lista en la cuadrícula y, a continuación, se pasa como parámetro.</span><span class="sxs-lookup"><span data-stu-id="fbc72-145">Because this method accepts a list of `ProductID` values, we need to first compile this list from the grid and then pass it as a parameter.</span></span> <span data-ttu-id="fbc72-146">Primero creamos una instancia de un `List<T>` de tipo `int`.</span><span class="sxs-lookup"><span data-stu-id="fbc72-146">We first create an instance of a `List<T>` of type `int`.</span></span> <span data-ttu-id="fbc72-147">En el `foreach` bucle tenemos que agregar los productos seleccionados `ProductID` valores a esta `List<T>`.</span><span class="sxs-lookup"><span data-stu-id="fbc72-147">Within the `foreach` loop we need to add the selected products `ProductID` values to this `List<T>`.</span></span> <span data-ttu-id="fbc72-148">Después del bucle esto `List<T>` debe pasarse a la `ProductsBLL` clase s. `DeleteProductsWithTransaction` método.</span><span class="sxs-lookup"><span data-stu-id="fbc72-148">After the loop this `List<T>` must be passed to the `ProductsBLL` class s `DeleteProductsWithTransaction` method.</span></span> <span data-ttu-id="fbc72-149">Actualización de la `DeleteSelectedProducts` botón s `Click` controlador de eventos con el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="fbc72-149">Update the `DeleteSelectedProducts` Button s `Click` event handler with the following code:</span></span>


[!code-csharp[Main](batch-deleting-cs/samples/sample3.cs)]

<span data-ttu-id="fbc72-150">El código actualizado se crea un `List<T>` de tipo `int` (`productIDsToDelete`) y lo rellena con la `ProductID` valores para eliminar.</span><span class="sxs-lookup"><span data-stu-id="fbc72-150">The updated code creates a `List<T>` of type `int` (`productIDsToDelete`) and populates it with the `ProductID` values to delete.</span></span> <span data-ttu-id="fbc72-151">Después de la `foreach` de bucle, si hay al menos un producto seleccionado, el `ProductsBLL` clase s. `DeleteProductsWithTransaction` método se llama y pasa esta lista.</span><span class="sxs-lookup"><span data-stu-id="fbc72-151">After the `foreach` loop, if there is at least one product selected, the `ProductsBLL` class s `DeleteProductsWithTransaction` method is called and passed this list.</span></span> <span data-ttu-id="fbc72-152">El `DeleteResults` también se muestra la etiqueta y los datos vuelve a enlazar a GridView (de modo que los registros recién eliminado ya no aparecen como filas en la cuadrícula).</span><span class="sxs-lookup"><span data-stu-id="fbc72-152">The `DeleteResults` Label is also displayed and the data rebound to the GridView (so that the newly-deleted records no longer appear as rows in the grid).</span></span>

<span data-ttu-id="fbc72-153">La figura 4 muestra GridView después de haber seleccionado un número de filas para su eliminación.</span><span class="sxs-lookup"><span data-stu-id="fbc72-153">Figure 4 shows the GridView after a number of rows have been selected for deletion.</span></span> <span data-ttu-id="fbc72-154">Figura 5 se muestra la pantalla inmediatamente después de que se ha hecho clic el botón Eliminar los productos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="fbc72-154">Figure 5 shows the screen immediately after the Delete Selected Products button has been clicked.</span></span> <span data-ttu-id="fbc72-155">Tenga en cuenta que en la figura 5 la `ProductID` valores de los registros eliminados se muestran en la etiqueta situada debajo de GridView y las filas ya no están en el control GridView.</span><span class="sxs-lookup"><span data-stu-id="fbc72-155">Note that in Figure 5 the `ProductID` values of the deleted records are displayed in the Label beneath the GridView and those rows are no longer in the GridView.</span></span>


<span data-ttu-id="fbc72-156">[![Los productos seleccionados se eliminarán.](batch-deleting-cs/_static/image4.gif)](batch-deleting-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="fbc72-156">[![The Selected Products Will Be Deleted](batch-deleting-cs/_static/image4.gif)](batch-deleting-cs/_static/image7.png)</span></span>

<span data-ttu-id="fbc72-157">**Figura 4**: The seleccionado productos se eliminarán ([haga clic aquí para ver la imagen a tamaño completo](batch-deleting-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="fbc72-157">**Figure 4**: The Selected Products Will Be Deleted ([Click to view full-size image](batch-deleting-cs/_static/image8.png))</span></span>


<span data-ttu-id="fbc72-158">[![Los valores de ProductID de productos eliminar son aparecen bajo la GridView](batch-deleting-cs/_static/image5.gif)](batch-deleting-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="fbc72-158">[![The Deleted Products ProductID Values are Listed Beneath the GridView](batch-deleting-cs/_static/image5.gif)](batch-deleting-cs/_static/image9.png)</span></span>

<span data-ttu-id="fbc72-159">**Figura 5**: los productos eliminado `ProductID` valores son aparecen bajo la GridView ([haga clic aquí para ver la imagen a tamaño completo](batch-deleting-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="fbc72-159">**Figure 5**: The Deleted Products `ProductID` Values are Listed Beneath the GridView ([Click to view full-size image](batch-deleting-cs/_static/image10.png))</span></span>


> [!NOTE]
> <span data-ttu-id="fbc72-160">Para probar el `DeleteProductsWithTransaction` atomicidad de método s, agregar manualmente una entrada para un producto en el `Order Details` de tabla y, a continuación, intenta eliminar ese producto (junto con otras cosas).</span><span class="sxs-lookup"><span data-stu-id="fbc72-160">To test the `DeleteProductsWithTransaction` method s atomicity, manually add an entry for a product in the `Order Details` table and then attempt to delete that product (along with others).</span></span> <span data-ttu-id="fbc72-161">Recibirá una infracción de restricción de clave externa al intentar eliminar el producto con un orden asociado, pero tenga en cuenta cómo se revierten las eliminaciones de otros productos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="fbc72-161">You will receive a foreign key constraint violation when attempting to delete the product with an associated order, but note how the other selected products deletions are rolled back.</span></span>


## <a name="summary"></a><span data-ttu-id="fbc72-162">Resumen</span><span class="sxs-lookup"><span data-stu-id="fbc72-162">Summary</span></span>

<span data-ttu-id="fbc72-163">Crear un lote eliminar interfaz implica agregar un control GridView con una columna de casillas de verificación y un botón de control Web de que, al hacer clic en, se eliminarán todas las filas seleccionadas como una única operación atómica.</span><span class="sxs-lookup"><span data-stu-id="fbc72-163">Creating a batch deleting interface involves adding a GridView with a column of checkboxes and a Button Web control that, when clicked, will delete all of the selected rows as a single atomic operation.</span></span> <span data-ttu-id="fbc72-164">En este tutorial, creamos dicha interfaz reuniendo trabajo realizado en los dos tutoriales anteriores, [agregar una columna de GridView de casillas de verificación](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) y [ajuste modificaciones de base de datos dentro de una transacción](wrapping-database-modifications-within-a-transaction-cs.md).</span><span class="sxs-lookup"><span data-stu-id="fbc72-164">In this tutorial we built such an interface by piecing together work done in two previous tutorials, [Adding a GridView Column of Checkboxes](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) and [Wrapping Database Modifications within a Transaction](wrapping-database-modifications-within-a-transaction-cs.md).</span></span> <span data-ttu-id="fbc72-165">En el primer tutorial, creamos un GridView con una columna de casillas de verificación y en el último se implementa un método en la capa BLL que, cuando se pasa un `List<T>` de `ProductID` valores, los elimina todos los dentro del ámbito de una transacción.</span><span class="sxs-lookup"><span data-stu-id="fbc72-165">In the first tutorial we created a GridView with a column of checkboxes and in the latter we implemented a method in the BLL that, when passed a `List<T>` of `ProductID` values, deleted them all within the scope of a transaction.</span></span>

<span data-ttu-id="fbc72-166">En el siguiente tutorial vamos a crear una interfaz para realizar inserciones por lotes.</span><span class="sxs-lookup"><span data-stu-id="fbc72-166">In the next tutorial we'll create an interface for performing batch inserts.</span></span>

<span data-ttu-id="fbc72-167">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="fbc72-167">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="fbc72-168">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="fbc72-168">About the Author</span></span>

<span data-ttu-id="fbc72-169">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de siete libros sobre ASP/ASP.NET y fundador de [4GuysFromRolla.com](http://www.4guysfromrolla.com), ha trabajado con las tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="fbc72-169">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="fbc72-170">Scott funciona como un consultor independiente, instructor y escritor.</span><span class="sxs-lookup"><span data-stu-id="fbc72-170">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="fbc72-171">Su último libro es [*SAM enseñar a usted mismo ASP.NET 2.0 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="fbc72-171">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="fbc72-172">Puede ponerse en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) o a través de su blog, que se pueden encontrar en [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="fbc72-172">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="fbc72-173">Agradecimientos especiales a</span><span class="sxs-lookup"><span data-stu-id="fbc72-173">Special Thanks To</span></span>

<span data-ttu-id="fbc72-174">Esta serie de tutoriales se revisó por varios revisores útiles.</span><span class="sxs-lookup"><span data-stu-id="fbc72-174">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="fbc72-175">Los revisores iniciales para este tutorial fueron Hilton Giesenow y Teresa Murphy.</span><span class="sxs-lookup"><span data-stu-id="fbc72-175">Lead reviewers for this tutorial were Hilton Giesenow and Teresa Murphy.</span></span> <span data-ttu-id="fbc72-176">¿Está interesado en revisar mi próximos artículos MSDN?</span><span class="sxs-lookup"><span data-stu-id="fbc72-176">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="fbc72-177">Si es así, me quitar una línea en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="fbc72-177">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="fbc72-178">[Anterior](batch-updating-cs.md)
> [Siguiente](batch-inserting-cs.md)</span><span class="sxs-lookup"><span data-stu-id="fbc72-178">[Previous](batch-updating-cs.md)
[Next](batch-inserting-cs.md)</span></span>
