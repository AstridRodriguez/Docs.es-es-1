---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
title: Principal-detalle filtrado a través de dos páginas (C#) | Documentos de Microsoft
author: rick-anderson
description: En este tutorial veremos cómo separar un informe maestro y detalles a través de dos páginas. En la página 'maestra', se utiliza un control de repetidor para presentar una lista de categoría...
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/30/2010
ms.topic: article
ms.assetid: 68b8c023-92fa-4df6-9563-1764e16e4b04
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: 6a3783175218438f2a9f735c3861c56e039a248e
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/06/2018
---
<a name="masterdetail-filtering-across-two-pages-c"></a><span data-ttu-id="1a6a0-104">Principal-detalle filtrado a través de dos páginas (C#)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-104">Master/Detail Filtering Across Two Pages (C#)</span></span>
====================
<span data-ttu-id="1a6a0-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="1a6a0-106">[Descargar la aplicación de ejemplo](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) o [descarga de PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) or [Download PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span></span>

> <span data-ttu-id="1a6a0-107">En este tutorial veremos cómo separar un informe maestro y detalles a través de dos páginas.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-107">In this tutorial we look at how to separate a master/detail report across two pages.</span></span> <span data-ttu-id="1a6a0-108">En la página "maestra" se utiliza un control de repetidor para presentar una lista de categorías que, al hacer clic en, se guiará al usuario a la página "Detalles" en un control DataList de dos columnas muestra los productos que pertenecen a la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-108">In the "master" page we use a Repeater control to render a list of categories that, when clicked, will take the user to the "details" page where a two-column DataList shows those products belonging to the selected category.</span></span>


## <a name="introduction"></a><span data-ttu-id="1a6a0-109">Introducción</span><span class="sxs-lookup"><span data-stu-id="1a6a0-109">Introduction</span></span>

<span data-ttu-id="1a6a0-110">En el [tutorial anterior](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) hemos visto cómo mostrar informes de maestro y detalles en una sola página web mediante las listas desplegables para mostrar los registros "principales" y un control DataList para mostrar los "Detalles".</span><span class="sxs-lookup"><span data-stu-id="1a6a0-110">In the [preceding tutorial](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) we saw how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details."</span></span> <span data-ttu-id="1a6a0-111">Otro patrón común que se utiliza para los informes de maestro y detalles es que los registros maestros en una página web y los detalles en otro.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-111">Another common pattern used for master/detail reports is to have the master records on one web page and the details on another.</span></span> <span data-ttu-id="1a6a0-112">En el anterior [filtrado de maestro y detalles a través de dos páginas](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial, examinamos este patrón de uso de un control GridView para mostrar todos los proveedores en el sistema.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-112">In the earlier [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial, we examined this pattern using a GridView to display all of the suppliers in the system.</span></span> <span data-ttu-id="1a6a0-113">Este GridView incluye un campo HYPERLINK, que se representa como un vínculo a una segunda página, pasando a lo largo de la `SupplierID` en la cadena de consulta.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-113">This GridView included a HyperLinkField, which rendered as a link to a second page, passing along the `SupplierID` in the querystring.</span></span> <span data-ttu-id="1a6a0-114">La segunda página usa un control GridView para enumerar los productos suministrados por el proveedor seleccionado.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-114">The second page used a GridView to list those products provided by the selected supplier.</span></span>

<span data-ttu-id="1a6a0-115">Estos informes de dos páginas principal-detalle pueden realizarse mediante controles DataList y repetidor.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-115">Such two-page master/detail reports can be accomplished using DataList and Repeater controls as well.</span></span> <span data-ttu-id="1a6a0-116">La única diferencia es que el control DataList ni repetidor proporciona compatibilidad para el control de campo Hyperlink.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-116">The only difference is that neither the DataList nor the Repeater provides support for the HyperLinkField control.</span></span> <span data-ttu-id="1a6a0-117">En su lugar, debemos agregar un control HyperLink Web o un elemento delimitador HTML (`<a>`) dentro del control `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-117">Instead, we must add a HyperLink Web control or an anchor HTML element (`<a>`) within the control's `ItemTemplate`.</span></span> <span data-ttu-id="1a6a0-118">El hipervínculo `NavigateUrl` propiedad o el anclaje `href` , a continuación, se puede personalizar el atributo mediante métodos declarativas o mediante programación.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-118">The HyperLink's `NavigateUrl` property or the anchor's `href` attribute can then be customized using declarative or programmatic approaches.</span></span>

<span data-ttu-id="1a6a0-119">En este tutorial se explorará un ejemplo que muestra las categorías en una lista con viñetas en una página con un control de repetidor.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-119">In this tutorial we'll explore an example that lists the categories in a bulleted list on one page using a Repeater control.</span></span> <span data-ttu-id="1a6a0-120">Cada elemento de lista incluye el nombre y la descripción, la categoría con el nombre de categoría aparece como un vínculo a otra página.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-120">Each list item will include the category's name and description, with the category name displayed as a link to a second page.</span></span> <span data-ttu-id="1a6a0-121">Al hacer clic en este vínculo se captar el usuario a la segunda página, donde un control DataList mostrará aquellos productos que pertenecen a la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-121">Clicking on this link will whisk the user to the second page, where a DataList will show those products that belong to the selected category.</span></span>

## <a name="step-1-displaying-the-categories-in-a-bulleted-list"></a><span data-ttu-id="1a6a0-122">Paso 1: Mostrar las categorías en una lista con viñetas</span><span class="sxs-lookup"><span data-stu-id="1a6a0-122">Step 1: Displaying the Categories in a Bulleted List</span></span>

<span data-ttu-id="1a6a0-123">El primer paso para crear cualquier informe principal-detalle es iniciar mostrando los registros "principales".</span><span class="sxs-lookup"><span data-stu-id="1a6a0-123">The first step in creating any master/detail report is to start by displaying the "master" records.</span></span> <span data-ttu-id="1a6a0-124">Por lo tanto, nuestra primera tarea consiste en mostrar las categorías en la página "principal".</span><span class="sxs-lookup"><span data-stu-id="1a6a0-124">Therefore, our first task is to display the categories in the "master" page.</span></span> <span data-ttu-id="1a6a0-125">Abra la `CategoryListMaster.aspx` página en el `DataListRepeaterFiltering` carpeta, agregue un control de repetidor y, desde la etiqueta inteligente, optar por agregar una nueva ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-125">Open the `CategoryListMaster.aspx` page in the `DataListRepeaterFiltering` folder, add a Repeater control, and, from the smart tag, opt to add a new ObjectDataSource.</span></span> <span data-ttu-id="1a6a0-126">Configurar el nuevo ObjectDataSource para que tiene acceso a sus datos de la `CategoriesBLL` la clase `GetCategories` (método) (consulte la figura 1).</span><span class="sxs-lookup"><span data-stu-id="1a6a0-126">Configure the new ObjectDataSource so that it accesses its data from the `CategoriesBLL` class's `GetCategories` method (see Figure 1).</span></span>


<span data-ttu-id="1a6a0-127">[![Configurar el ObjectDataSource para usar el método de la clase CategoriesBLL GetCategories](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-127">[![Configure the ObjectDataSource to Use the CategoriesBLL Class's GetCategories Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)</span></span>

<span data-ttu-id="1a6a0-128">**Figura 1**: configurar el ObjectDataSource que se utilizan los `CategoriesBLL` la clase `GetCategories` método ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="1a6a0-128">**Figure 1**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class's `GetCategories` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span></span>


<span data-ttu-id="1a6a0-129">A continuación, definir plantillas del repetidor de forma que muestra cada nombre de categoría y la descripción como un elemento en una lista con viñetas.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-129">Next, define the Repeater's templates such that it displays each category name and description as an item in a bulleted list.</span></span> <span data-ttu-id="1a6a0-130">Vamos a aún no se preocupe relacionado con cada categoría de vínculo a la página de detalles.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-130">Let's not yet worry about having each category link to the details page.</span></span> <span data-ttu-id="1a6a0-131">A continuación muestra el marcado declarativo para el repetidor y ObjectDataSource:</span><span class="sxs-lookup"><span data-stu-id="1a6a0-131">The following shows the declarative markup for the Repeater and ObjectDataSource:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample1.aspx)]

<span data-ttu-id="1a6a0-132">Con este marcado completa, tómese un momento para ver el progreso a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-132">With this markup complete, take a moment to view our progress through a browser.</span></span> <span data-ttu-id="1a6a0-133">Como se muestra en la figura 2, repetidor se representa como una lista con viñetas con nombre y la descripción de cada categoría.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-133">As Figure 2 shows, the Repeater renders as a bulleted list showing each category's name and description.</span></span>


<span data-ttu-id="1a6a0-134">[![Cada categoría aparece como un elemento de lista con viñetas](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-134">[![Each Category is Displayed as a Bulleted List Item](master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)</span></span>

<span data-ttu-id="1a6a0-135">**Figura 2**: cada categoría se muestra como un elemento de lista con viñetas ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="1a6a0-135">**Figure 2**: Each Category is Displayed as a Bulleted List Item ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span></span>


## <a name="step-2-turning-the-category-name-into-a-link-to-the-details-page"></a><span data-ttu-id="1a6a0-136">Paso 2: Activar el nombre de categoría en un vínculo a la página de detalles</span><span class="sxs-lookup"><span data-stu-id="1a6a0-136">Step 2: Turning the Category Name into a Link to the Details Page</span></span>

<span data-ttu-id="1a6a0-137">Para permitir que un usuario mostrar la información de "Detalles" para una categoría determinada, tenemos que agregar un vínculo a cada lista con viñetas de elemento que, al hacer clic en, se guiará al usuario a la segunda página (`ProductsForCategoryDetails.aspx`).</span><span class="sxs-lookup"><span data-stu-id="1a6a0-137">To allow a user to display the "details" information for a given category, we need to add a link to each bulleted list item that, when clicked, will take the user to the second page (`ProductsForCategoryDetails.aspx`).</span></span> <span data-ttu-id="1a6a0-138">Esta segunda página, a continuación, mostrará los productos de la categoría seleccionada con un control DataList.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-138">This second page will then display the products for the selected category using a DataList.</span></span> <span data-ttu-id="1a6a0-139">Para determinar la categoría cuyo vínculo se hizo clic, es necesario pasar la categoría donde ha hecho clic `CategoryID` a la segunda página a través de algún mecanismo.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-139">In order to determine the category whose link was clicked, we need to pass the clicked category's `CategoryID` to the second page through some mechanism.</span></span> <span data-ttu-id="1a6a0-140">La forma más sencilla y más sencilla para transferir datos escalar de una página a otra es a través de la cadena de consulta, que es la opción que se usará en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-140">The simplest, most straightforward way to transfer scalar data from one page to another is through the querystring, which is the option we'll use in this tutorial.</span></span> <span data-ttu-id="1a6a0-141">En concreto, el `ProductsForCategoryDetails.aspx` página esperará seleccionado *`categoryID`* valor que se pasará a través de un campo de cadena de consulta denominado `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-141">In particular, the `ProductsForCategoryDetails.aspx` page will expect the selected *`categoryID`* value to be passed through a querystring field named `CategoryID`.</span></span> <span data-ttu-id="1a6a0-142">Por ejemplo, para ver los productos de la categoría Bebidas, que tiene un `CategoryID` de 1, un usuario debe visitar `ProductsForCategoryDetails.aspx?CategoryID=1`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-142">For example, to view the products for the Beverages category, which has a `CategoryID` of 1, a user would visit `ProductsForCategoryDetails.aspx?CategoryID=1`.</span></span>

<span data-ttu-id="1a6a0-143">Para crear un hipervínculo para cada elemento de lista con viñetas del repetidor que necesitamos agregar un control HyperLink Web o un elemento delimitador HTML (`<a>`) a la `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-143">To create a hyperlink for each bulleted list item in the Repeater we need to either add a HyperLink Web control or an HTML anchor element (`<a>`) to the `ItemTemplate`.</span></span> <span data-ttu-id="1a6a0-144">En escenarios donde el hipervínculo muestran el mismo para cada fila, bastará con cualquiera de los enfoques.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-144">In scenarios where the hyperlink is displayed the same for each row, either approach will suffice.</span></span> <span data-ttu-id="1a6a0-145">Para repetidores, prefiero usar el elemento delimitador.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-145">For Repeaters, I prefer using the anchor element.</span></span> <span data-ttu-id="1a6a0-146">Para usar el elemento delimitador, actualice ItemTemplate del repetidor para:</span><span class="sxs-lookup"><span data-stu-id="1a6a0-146">To use the anchor element, update the Repeater's ItemTemplate to:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="1a6a0-147">Tenga en cuenta que la `CategoryID` pueden insertar directamente dentro del elemento delimitador `href` atributo; sin embargo, por lo que debe determinados delimitar el `href` valor del atributo con apóstrofos (y Nota comillas) desde el `Eval` (método) en el `href` atributo delimita la cadena (`"CategoryID"`) entre comillas.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-147">Note that the `CategoryID` can be injected directly within the anchor element's `href` attribute; however, to do so be certain to delimit the `href` attribute's value with apostrophes (and note quotation marks) since the `Eval` method within the `href` attribute delimits its string (`"CategoryID"`) with quotation marks.</span></span> <span data-ttu-id="1a6a0-148">También se puede usar un control de hipervínculo Web:</span><span class="sxs-lookup"><span data-stu-id="1a6a0-148">Alternatively, a HyperLink Web control can be used instead:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="1a6a0-149">Tenga en cuenta cómo la parte de la dirección URL estática: `ProductsForCategoryDetails.aspx?CategoryID` , se anexa al resultado de `Eval("CategoryID")` directamente dentro de la sintaxis de enlace de datos mediante la concatenación de cadenas.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-149">Note how the static portion of the URL — `ProductsForCategoryDetails.aspx?CategoryID` — is appended to the result of `Eval("CategoryID")` directly within the databinding syntax using string concatenation.</span></span>

<span data-ttu-id="1a6a0-150">Una ventaja de utilizar el control de hipervínculo es que se puede tener acceso mediante programación desde el repetidor `ItemDataBound` controlador de eventos, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-150">One benefit of using the HyperLink control is that it can be programmatically accessed from the Repeater's `ItemDataBound` event handler, if needed.</span></span> <span data-ttu-id="1a6a0-151">Por ejemplo, puede mostrar el nombre de categoría como texto en lugar de como un vínculo para categorías con ningún producto asociado.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-151">For example, you might want to display the category name as text rather than as a link for categories with no associated products.</span></span> <span data-ttu-id="1a6a0-152">Esta comprobación puede realizarse mediante programación en el `ItemDataBound` controlador de eventos; para categorías sin ningún productos asociados, el hipervínculo del `NavigateUrl` propiedad puede establecerse en una cadena vacía, lo que resulta en ese nombre de categoría determinado representación como texto sin formato (en lugar de como un vínculo).</span><span class="sxs-lookup"><span data-stu-id="1a6a0-152">Such a check could be programmatically performed in the `ItemDataBound` event handler; for categories with no associated products, the HyperLink's `NavigateUrl` property could be set to a blank string, thereby resulting in that particular category name rendering as plain text (rather than as a link).</span></span> <span data-ttu-id="1a6a0-153">Hacen referencia a la [dar formato al DataList y repetidor basado en datos](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) tutorial para obtener más información sobre cómo dar formato el DataList y del repetidor contenido según la lógica mediante programación a través de la `ItemDataBound` controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-153">Refer back to the [Formatting the DataList and Repeater Based Upon Data](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) tutorial for more information on formatting the DataList and Repeater's contents based on programmatic logic through the `ItemDataBound` event handler.</span></span>

<span data-ttu-id="1a6a0-154">Si están realizando este tutorial, puede utilizar el elemento delimitador o el método de control de hipervínculo en la página.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-154">If you are following along, feel free to use either the anchor element or HyperLink control approach in your page.</span></span> <span data-ttu-id="1a6a0-155">Independientemente del enfoque, al ver la página a través de un explorador que cada nombre de categoría se debería presentar como un vínculo a `ProductsForCategoryDetails.aspx`, pasando el aplicable `CategoryID` valor (consulte la figura 3).</span><span class="sxs-lookup"><span data-stu-id="1a6a0-155">Regardless of the approach, when viewing the page through a browser each category name should be rendered as a link to `ProductsForCategoryDetails.aspx`, passing in the applicable `CategoryID` value (see Figure 3).</span></span>


<span data-ttu-id="1a6a0-156">[![Los nombres de categoría ahora vinculan a ProductsForCategoryDetails.aspx](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-156">[![The Category Names Now Link to ProductsForCategoryDetails.aspx](master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)</span></span>

<span data-ttu-id="1a6a0-157">**Figura 3**: la categoría nombres ahora vínculo a `ProductsForCategoryDetails.aspx` ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="1a6a0-157">**Figure 3**: The Category Names Now Link to `ProductsForCategoryDetails.aspx` ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span></span>


## <a name="step-3-listing-the-products-that-belong-to-the-selected-category"></a><span data-ttu-id="1a6a0-158">Paso 3: Enumerar los productos que pertenecen a la categoría seleccionada</span><span class="sxs-lookup"><span data-stu-id="1a6a0-158">Step 3: Listing the Products that Belong to the Selected Category</span></span>

<span data-ttu-id="1a6a0-159">Con el `CategoryListMaster.aspx` página completa, estamos listos para centrarse en la implementación de la página "Detalles", `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-159">With the `CategoryListMaster.aspx` page complete, we're ready to turn our attention to implementing the "details" page, `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="1a6a0-160">Abrir esta página, arrastre un control DataList desde el cuadro de herramientas hasta el diseñador y establezca su `ID` propiedad `ProductsInCategory`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-160">Open this page, drag a DataList from the Toolbox onto the Designer, and set its `ID` property to `ProductsInCategory`.</span></span> <span data-ttu-id="1a6a0-161">A continuación, de etiquetas inteligentes del control DataList optar por agregar una nueva ObjectDataSource a la página, asígnele el nombre `ProductsInCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-161">Next, from the DataList's smart tag choose to add a new ObjectDataSource to the page, naming it `ProductsInCategoryDataSource`.</span></span> <span data-ttu-id="1a6a0-162">Configurarlo de modo que llama a la `ProductsBLL` la clase `GetProductsByCategoryID(categoryID)` método; se establece la lista desplegable que se enumera en las pestañas INSERT, UPDATE y DELETE para (ninguno).</span><span class="sxs-lookup"><span data-stu-id="1a6a0-162">Configure it such that it calls the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method; set the drop-down lists in the INSERT, UPDATE, and DELETE tabs to (None).</span></span>


<span data-ttu-id="1a6a0-163">[![Configurar el ObjectDataSource para usar GetProductsByCategoryID(categoryID) método la clase ProductsBLL](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-163">[![Configure the ObjectDataSource to Use the ProductsBLL Class's GetProductsByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)</span></span>

<span data-ttu-id="1a6a0-164">**Figura 4**: configurar el ObjectDataSource que se utilizan los `ProductsBLL` la clase `GetProductsByCategoryID(categoryID)` método ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="1a6a0-164">**Figure 4**: Configure the ObjectDataSource to Use the `ProductsBLL` Class's `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span></span>


<span data-ttu-id="1a6a0-165">Puesto que la `GetProductsByCategoryID(categoryID)` método acepta un parámetro de entrada (*`categoryID`*), el Asistente para orígenes de datos elija nos ofrece una oportunidad para especificar el origen del parámetro.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-165">Since the `GetProductsByCategoryID(categoryID)` method accepts an input parameter (*`categoryID`*), the Choose Data Source wizard offers us an opportunity to specify the parameter's source.</span></span> <span data-ttu-id="1a6a0-166">Establezca el origen del parámetro QueryString mediante el QueryStringField `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-166">Set the parameter source to QueryString using the QueryStringField `CategoryID`.</span></span>


<span data-ttu-id="1a6a0-167">[![Use el campo de cadena de consulta CategoryID como el origen del parámetro](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-167">[![Use the Querystring Field CategoryID as the Parameter's Source](master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)</span></span>

<span data-ttu-id="1a6a0-168">**Figura 5**: usar el Querystring Field `CategoryID` como el origen del parámetro ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="1a6a0-168">**Figure 5**: Use the Querystring Field `CategoryID` as the Parameter's Source ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span></span>


<span data-ttu-id="1a6a0-169">Como hemos visto en tutoriales anteriores, después de completar el asistente Elegir origen de datos, Visual Studio crea automáticamente un `ItemTemplate` para el control DataList que enumera cada nombre de campo de datos y el valor.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-169">As we've seen in previous tutorials, after completing the Choose Data Source wizard, Visual Studio automatically creates an `ItemTemplate` for the DataList that lists each data field name and value.</span></span> <span data-ttu-id="1a6a0-170">Reemplazar esta plantilla por una que enumera sólo el nombre del producto, proveedor y precio.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-170">Replace this template with one that lists only the product's name, supplier, and price.</span></span> <span data-ttu-id="1a6a0-171">Además, establezca el DataList `RepeatColumns` propiedad en 2.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-171">Also, set the DataList's `RepeatColumns` property to 2.</span></span> <span data-ttu-id="1a6a0-172">Después de estos cambios, su DataList y de ObjectDataSource marcado declarativo debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="1a6a0-172">After these changes, your DataList and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample4.aspx)]

<span data-ttu-id="1a6a0-173">Para ver esta página en acción, inicie desde la `CategoryListMaster.aspx` página; a continuación, haga clic en un vínculo en la lista con viñetas de categorías.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-173">To view this page in action, start from the `CategoryListMaster.aspx` page; next, click on a link in the categories bulleted list.</span></span> <span data-ttu-id="1a6a0-174">Esto le llevará a `ProductsForCategoryDetails.aspx`, pasando a lo largo de la `CategoryID` a través de la cadena de consulta.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-174">Doing so will take you to `ProductsForCategoryDetails.aspx`, passing along the `CategoryID` through the querystring.</span></span> <span data-ttu-id="1a6a0-175">El `ProductsInCategoryDataSource` ObjectDataSource en `ProductsForCategoryDetails.aspx` , a continuación, obtendrá aquellos productos de la categoría especificada y mostrarlos en el control DataList, que presenta dos productos por cada fila.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-175">The `ProductsInCategoryDataSource` ObjectDataSource in `ProductsForCategoryDetails.aspx` will then get just those products for the specified category and display them in the DataList, which renders two products per row.</span></span> <span data-ttu-id="1a6a0-176">Figura 6 se muestra una captura de pantalla de `ProductsForCategoryDetails.aspx` cuando se visualizan las bebidas.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-176">Figure 6 shows a screenshot of `ProductsForCategoryDetails.aspx` when viewing the Beverages.</span></span>


<span data-ttu-id="1a6a0-177">[![Se muestran las bebidas, dos por fila](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-177">[![The Beverages are Displayed, Two per Row](master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)</span></span>

<span data-ttu-id="1a6a0-178">**Figura 6**: se muestran las bebidas, dos por fila ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="1a6a0-178">**Figure 6**: The Beverages are Displayed, Two per Row ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span></span>


## <a name="step-4-displaying-category-information-on-productsforcategorydetailsaspx"></a><span data-ttu-id="1a6a0-179">Paso 4: Mostrar información de categorías en ProductsForCategoryDetails.aspx</span><span class="sxs-lookup"><span data-stu-id="1a6a0-179">Step 4: Displaying Category Information on ProductsForCategoryDetails.aspx</span></span>

<span data-ttu-id="1a6a0-180">Cuando un usuario hace clic en una categoría en `CategoryListMaster.aspx`, que se tomaron `ProductsForCategoryDetails.aspx` y muestra los productos que pertenecen a la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-180">When a user clicks on a category in `CategoryListMaster.aspx`, they are taken to `ProductsForCategoryDetails.aspx` and shown the products that belong to the selected category.</span></span> <span data-ttu-id="1a6a0-181">Sin embargo, en `ProductsForCategoryDetails.aspx` no hay ningún indicaciones visuales en cuanto a qué categoría se ha seleccionado.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-181">However, in `ProductsForCategoryDetails.aspx` there are no visual cues as to what category was selected.</span></span> <span data-ttu-id="1a6a0-182">Un usuario que pretende haga clic en bebidas pero condimentos accidentalmente donde ha hecho clic, no tiene manera de ser consciente de su error una vez que llegan `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-182">A user that meant to click Beverages, but accidentally clicked Condiments, has no way of realizing their mistake once they reach `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="1a6a0-183">Para mitigar este posible problema, podemos mostrar información acerca de la categoría seleccionada, su nombre y descripción, en la parte superior de la `ProductsForCategoryDetails.aspx` página.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-183">To alleviate this potential problem, we can display information about the selected category — its name and description — at the top of the `ProductsForCategoryDetails.aspx` page.</span></span>

<span data-ttu-id="1a6a0-184">Para ello, agregue un FormView sobre el control de repetidor en `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-184">To accomplish this, add a FormView above the Repeater control in `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="1a6a0-185">A continuación, agregue un nuevo ObjectDataSource a la página de etiquetas inteligentes de FormView denominado `CategoryDataSource` y configúrelo para utilizar el `CategoriesBLL` la clase `GetCategoryByCategoryID(categoryID)` método.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-185">Next, add a new ObjectDataSource to the page from the FormView's smart tag named `CategoryDataSource` and configure it to use the `CategoriesBLL` class's `GetCategoryByCategoryID(categoryID)` method.</span></span>


<span data-ttu-id="1a6a0-186">[![Acceso a información sobre la categoría a través de GetCategoryByCategoryID(categoryID) método la clase CategoriesBLL](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-186">[![Access Information about the Category through the CategoriesBLL Class's GetCategoryByCategoryID(categoryID) Method](master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)</span></span>

<span data-ttu-id="1a6a0-187">**Figura 7**: acceder a información sobre la categoría a través de la `CategoriesBLL` la clase `GetCategoryByCategoryID(categoryID)` método ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="1a6a0-187">**Figure 7**: Access Information about the Category through the `CategoriesBLL` Class's `GetCategoryByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span></span>


<span data-ttu-id="1a6a0-188">Al igual que con la `ProductsInCategoryDataSource` ObjectDataSource agregado en el paso 3, el `CategoryDataSource`del Asistente para configurar orígenes de datos nos pide un origen para el `GetCategoryByCategoryID(categoryID)` el parámetro de entrada del método.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-188">As with the `ProductsInCategoryDataSource` ObjectDataSource added in Step 3, the `CategoryDataSource`'s Configure Data Source wizard prompts us for a source for the `GetCategoryByCategoryID(categoryID)` method's input parameter.</span></span> <span data-ttu-id="1a6a0-189">Utilizar exactamente la misma configuración que antes, establezca el origen de parámetro en la cadena de consulta y el valor de QueryStringField en `CategoryID` (hacen referencia a la figura 5).</span><span class="sxs-lookup"><span data-stu-id="1a6a0-189">Use the exact same settings as before, setting the parameter source to QueryString and the QueryStringField value to `CategoryID` (refer back to Figure 5).</span></span>

<span data-ttu-id="1a6a0-190">Después de completar el asistente, Visual Studio crea automáticamente un `ItemTemplate`, `EditItemTemplate`, y `InsertItemTemplate` de FormView.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-190">After completing the wizard, Visual Studio automatically creates an `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate` for the FormView.</span></span> <span data-ttu-id="1a6a0-191">Puesto que se ofrecen una interfaz de solo lectura, no dude en quitar el `EditItemTemplate` y `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-191">Since we're providing a read-only interface, feel free to remove the `EditItemTemplate` and `InsertItemTemplate`.</span></span> <span data-ttu-id="1a6a0-192">Además, puede personalizar el FormView `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-192">Also, feel free to customize the FormView's `ItemTemplate`.</span></span> <span data-ttu-id="1a6a0-193">Después de quitar las plantillas superfluas y personalizar la plantilla ItemTemplate, su FormView y de ObjectDataSource marcado declarativo debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="1a6a0-193">After removing the superfluous templates and customizing the ItemTemplate, your FormView and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample5.aspx)]

<span data-ttu-id="1a6a0-194">La figura 8 muestra una captura de pantalla cuando viendo esta página a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-194">Figure 8 shows a screen shot when viewing this page through a browser.</span></span>

> [!NOTE]
> <span data-ttu-id="1a6a0-195">Además de FormView, también he agregado un control de hipervínculo anteriormente FormView que le llevará al usuario a la lista de categorías (`CategoryListMaster.aspx`).</span><span class="sxs-lookup"><span data-stu-id="1a6a0-195">In addition to the FormView, I've also added a HyperLink control above the FormView that will take the user back to the list of categories (`CategoryListMaster.aspx`).</span></span> <span data-ttu-id="1a6a0-196">No dudes para colocar este vínculo en otra parte ni para omitirlo.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-196">Feel free to place this link elsewhere or to omit it altogether.</span></span>


<span data-ttu-id="1a6a0-197">[![Información de categorías es ahora se muestra en la parte superior de la página](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-197">[![Category Information is Now Displayed at the Top of the Page](master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)</span></span>

<span data-ttu-id="1a6a0-198">**Figura 8**: información de categorías es ahora se muestra en la parte superior de la página ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="1a6a0-198">**Figure 8**: Category Information is Now Displayed at the Top of the Page ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span></span>


## <a name="step-5-displaying-a-message-if-no-products-belong-to-the-selected-category"></a><span data-ttu-id="1a6a0-199">Paso 5: Mostrar un mensaje si no hay productos pertenecen a la categoría seleccionada</span><span class="sxs-lookup"><span data-stu-id="1a6a0-199">Step 5: Displaying a Message if No Products Belong to the Selected Category</span></span>

<span data-ttu-id="1a6a0-200">La `CategoryListMaster.aspx` página enumera todas las categorías en el sistema, con independencia de si hay productos asociados.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-200">The `CategoryListMaster.aspx` page lists all categories in the system, regardless of whether there are any associated products.</span></span> <span data-ttu-id="1a6a0-201">Si un usuario hace clic en una categoría con ningún producto asociado, el control DataList en `ProductsForCategoryDetails.aspx` no se representarán, como su origen de datos no tendrán ningún elemento.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-201">If a user clicks on a category with no associated products, the DataList in `ProductsForCategoryDetails.aspx` will not be rendered, as its data source will not have any items.</span></span> <span data-ttu-id="1a6a0-202">Como hemos visto en los últimos tutoriales, GridView proporciona un `EmptyDataText` propiedad que puede utilizarse para especificar un mensaje de texto para mostrar si no hay ningún registro en su origen de datos.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-202">As we've seen in past tutorials, the GridView provides an `EmptyDataText` property that can be used to specify a text message to display if there are no records in its data source.</span></span> <span data-ttu-id="1a6a0-203">Por desgracia, ni el DataList ni repetidor tiene este tipo de propiedad.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-203">Unfortunately, neither the DataList nor Repeater has such a property.</span></span>

<span data-ttu-id="1a6a0-204">Para mostrar un mensaje que informa al usuario que no hay productos coincidentes para la categoría seleccionada, tenemos que agregar una etiqueta de control a la página cuya `Text` propiedad se asigna el mensaje que se mostrará en caso de que no hay productos coincidentes.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-204">In order to display a message informing the user that there are no matching products for the selected category, we need to add a Label control to the page whose `Text` property is assigned the message to display in the event that there are no matching products.</span></span> <span data-ttu-id="1a6a0-205">A continuación, es necesario establecer mediante programación sus `Visible` propiedad en función de si el control DataList contiene elementos.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-205">We then need to programmatically set its `Visible` property based on whether or not the DataList contains any items.</span></span>

<span data-ttu-id="1a6a0-206">Para lograr esto, empiece por agregar una etiqueta que aparece debajo de DataList.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-206">To accomplish this, start by adding a Label beneath the DataList.</span></span> <span data-ttu-id="1a6a0-207">Establecer su `ID` propiedad `NoProductsMessage` y su `Text` propiedad a "No hay productos para la categoría seleccionada..."</span><span class="sxs-lookup"><span data-stu-id="1a6a0-207">Set its `ID` property to `NoProductsMessage` and its `Text` property to "There are no products for the selected category…"</span></span> <span data-ttu-id="1a6a0-208">A continuación, es necesario establecer mediante programación esta etiqueta `Visible` propiedad en función de si los datos se enlazarán a la `ProductsInCategory` DataList.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-208">Next, we need to programmatically set this Label's `Visible` property based on whether or not any data was bound to the `ProductsInCategory` DataList.</span></span> <span data-ttu-id="1a6a0-209">Esta asignación se debe realizar después de que los datos se ha enlazado al control DataList.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-209">This assignment must be made after the data has been bound to the DataList.</span></span> <span data-ttu-id="1a6a0-210">De GridView, DetailsView y FormView, podríamos crear un controlador de eventos para el control `DataBound` evento, que se desencadena después de enlace de datos se ha completado.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-210">For the GridView, DetailsView, and FormView, we could create an event handler for the control's `DataBound` event, which fires after databinding has completed.</span></span> <span data-ttu-id="1a6a0-211">Sin embargo, el control DataList ni repetidor tiene un `DataBound` eventos disponibles.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-211">However, neither the DataList nor the Repeater has a `DataBound` event available.</span></span>

<span data-ttu-id="1a6a0-212">Para este ejemplo concreto, podemos asignamos la etiqueta `Visible` propiedad en el `Page_Load` controlador de eventos, ya que los datos se habrá asignados al control DataList antes de la página `Load` eventos.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-212">For this particular example we can assign the Label's `Visible` property in the `Page_Load` event handler, since the data will have been assigned to the DataList prior to the page's `Load` event.</span></span> <span data-ttu-id="1a6a0-213">Sin embargo, este enfoque no funciona en el caso general, como los datos de ObjectDataSource podrían enlazarse al control DataList más adelante en el ciclo de vida de la página.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-213">However, this approach would not work in the general case, as the data from the ObjectDataSource might be bound to the DataList later in the page's lifecycle.</span></span> <span data-ttu-id="1a6a0-214">Por ejemplo, si los datos mostrados se basan en el valor de otro control, como es cuando se muestra un informe de principal-detalle usando DropDownList para contener los registros "principales", los datos pueden no vuelve a enlazar al control Web de datos hasta que el `PreRender` fase en la ciclo de vida de la página.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-214">For example, if the displayed data is based upon the value in another control, such as it is when displaying a master/detail report using a DropDownList to hold the "master" records, the data may not rebound to the data Web control until the `PreRender` stage in the page's life cycle.</span></span>

<span data-ttu-id="1a6a0-215">Una solución que funcionará para todos los casos consiste en asignar el `Visible` propiedad `False` en el DataList `ItemDataBound` (o `ItemCreated`) el controlador de eventos cuando se enlaza a un tipo de elemento de `Item` o `AlternatingItem`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-215">One solution which will work for all cases is to assign the `Visible` property to `False` in the DataList's `ItemDataBound` (or `ItemCreated`) event handler when binding an item type of `Item` or `AlternatingItem`.</span></span> <span data-ttu-id="1a6a0-216">En este caso sabemos que hay datos de al menos un elemento en el origen de datos y, por tanto, puede ocultar la `NoProductsMessage` etiqueta.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-216">In such a case we know that there is at least one data item in the data source and therefore can hide the `NoProductsMessage` Label.</span></span> <span data-ttu-id="1a6a0-217">Además de este controlador de eventos, también es necesario un controlador de eventos para el DataList `DataBinding` eventos, donde se inicialice la etiqueta `Visible` propiedad `True`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-217">In addition to this event handler, we also need an event handler for the DataList's `DataBinding` event, where we initialize the Label's `Visible` property to `True`.</span></span> <span data-ttu-id="1a6a0-218">Puesto que la `DataBinding` evento se desencadena antes de la `ItemDataBound` del eventos, la etiqueta `Visible` propiedad se establecerá inicialmente en `True`; si no hay ningún elemento de datos, sin embargo, se establecerá `False`.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-218">Since the `DataBinding` event fires before the `ItemDataBound` events, the Label's `Visible` property will initially be set to `True`; if there are any data items, however, it will be set to `False`.</span></span> <span data-ttu-id="1a6a0-219">El código siguiente implementa esta lógica:</span><span class="sxs-lookup"><span data-stu-id="1a6a0-219">The following code implements this logic:</span></span>

[!code-csharp[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample6.cs)]

<span data-ttu-id="1a6a0-220">Todas las categorías en la base de datos de Northwind están asociados a uno o varios productos.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-220">All of the categories in the Northwind database are associated with one or more products.</span></span> <span data-ttu-id="1a6a0-221">Para probar esta característica, he ajusta manualmente la base de datos Northwind para este tutorial, reasignar todos los productos asociados a la categoría de productos (`CategoryID` = 7) a la categoría Seafood (`CategoryID` = 8).</span><span class="sxs-lookup"><span data-stu-id="1a6a0-221">To test this feature, I've manually adjusted the Northwind database for this tutorial, reassigning all products associated with the Produce category (`CategoryID` = 7) to the Seafood category (`CategoryID` = 8).</span></span> <span data-ttu-id="1a6a0-222">Esto puede realizarse desde el Explorador de servidores mediante la elección de la nueva consulta y con los siguientes `UPDATE` instrucción:</span><span class="sxs-lookup"><span data-stu-id="1a6a0-222">This can be accomplished from the Server Explorer by choosing New Query and using the following `UPDATE` statement:</span></span>

[!code-sql[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample7.sql)]

<span data-ttu-id="1a6a0-223">Después de actualizar la base de datos según corresponda, volver a la `CategoryListMaster.aspx` página y haga clic en el vínculo producen.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-223">After updating the database accordingly, return to the `CategoryListMaster.aspx` page and click on the Produce link.</span></span> <span data-ttu-id="1a6a0-224">Puesto que ya no son los productos que pertenecen a la categoría de productos, debería ver la "No hay productos para la categoría seleccionada..."</span><span class="sxs-lookup"><span data-stu-id="1a6a0-224">Since there are no longer any products belonging to the Produce category, you should see the "There are no products for the selected category…"</span></span> <span data-ttu-id="1a6a0-225">mensaje, tal como se muestra en la figura 9.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-225">message, as shown in Figure 9.</span></span>


<span data-ttu-id="1a6a0-226">[![Se muestra un mensaje si no hay ningún productos pertenecientes a la categoría seleccionada](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-226">[![A Message is Displayed if there are No Products Belonging to the Selected Category](master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)</span></span>

<span data-ttu-id="1a6a0-227">**Figura 9**: se muestra un mensaje si no hay ningún productos pertenecientes a la categoría seleccionada ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="1a6a0-227">**Figure 9**: A Message is Displayed if there are No Products Belonging to the Selected Category ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span></span>


## <a name="summary"></a><span data-ttu-id="1a6a0-228">Resumen</span><span class="sxs-lookup"><span data-stu-id="1a6a0-228">Summary</span></span>

<span data-ttu-id="1a6a0-229">Mientras los informes de maestro y detalles pueden mostrar registros maestros y de detalle en una sola página, en muchos sitios Web se dividen en dos páginas web.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-229">While master/detail reports can display both the master and detail records on a single page, in many websites they are separated out across two web pages.</span></span> <span data-ttu-id="1a6a0-230">En este tutorial explicamos cómo implementar estos informes principal-detalle manteniendo las categorías que figuran en una lista con viñetas utilizando un repetidor en la página web "maestra" y los productos asociados que aparecen en la página "Detalles".</span><span class="sxs-lookup"><span data-stu-id="1a6a0-230">In this tutorial we looked at how to implement such a master/detail report by having the categories listed in a bulleted list using a Repeater in the "master" web page and the associated products listed in the "details" page.</span></span> <span data-ttu-id="1a6a0-231">Cada elemento de lista en la página web principal incluye un vínculo a la página de detalles que se pasa a lo largo de la fila `CategoryID` valor.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-231">Each list item in the master web page contained a link to the details page that passed along the row's `CategoryID` value.</span></span>

<span data-ttu-id="1a6a0-232">En la página de detalles se logró la recuperación de los productos para el proveedor especificado a través de la `ProductsBLL` la clase `GetProductsByCategoryID(categoryID)` método.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-232">In the details page retrieving those products for the specified supplier was accomplished through the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="1a6a0-233">El *`categoryID`* el valor del parámetro se especifica mediante declaración con el `CategoryID` valor de cadena de consulta como origen del parámetro.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-233">The *`categoryID`* parameter value was specified declaratively using the `CategoryID` querystring value as the parameter source.</span></span> <span data-ttu-id="1a6a0-234">También explicamos cómo mostrar detalles de la categoría en la página de detalles mediante un FormView y cómo mostrar un mensaje si no hubiera ningún productos que pertenecen a la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-234">We also looked at how to display category details in the details page using a FormView and how to display a message if there were no products belonging to the selected category.</span></span>

<span data-ttu-id="1a6a0-235">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-235">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="1a6a0-236">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="1a6a0-236">About the Author</span></span>

<span data-ttu-id="1a6a0-237">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de siete libros sobre ASP/ASP.NET y fundador de [4GuysFromRolla.com](http://www.4guysfromrolla.com), ha trabajado con las tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-237">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="1a6a0-238">Scott funciona como un consultor independiente, instructor y escritor.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-238">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="1a6a0-239">Su último libro es [*SAM enseñar a usted mismo ASP.NET 2.0 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="1a6a0-239">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="1a6a0-240">Puede ponerse en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) o a través de su blog, que se pueden encontrar en [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="1a6a0-240">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="1a6a0-241">Agradecimientos especiales a...</span><span class="sxs-lookup"><span data-stu-id="1a6a0-241">Special Thanks To…</span></span>

<span data-ttu-id="1a6a0-242">Esta serie de tutoriales se revisó por varios revisores útiles.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-242">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="1a6a0-243">Los revisores iniciales para este tutorial eran Zack Jones y Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="1a6a0-243">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="1a6a0-244">¿Está interesado en revisar mi próximos artículos MSDN?</span><span class="sxs-lookup"><span data-stu-id="1a6a0-244">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="1a6a0-245">Si es así, me quitar una línea en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-245">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="1a6a0-246">[Anterior](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
> [Siguiente](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span><span class="sxs-lookup"><span data-stu-id="1a6a0-246">[Previous](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
[Next](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span></span>
