---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-vb
title: "Agregar una columna de GridView de casillas de verificación (VB) | Documentos de Microsoft"
author: rick-anderson
description: "Este tutorial examina cómo agregar una columna de casillas de verificación a un control GridView para proporcionar al usuario de una forma intuitiva de la selección de varias filas de la G...."
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/06/2007
ms.topic: article
ms.assetid: 39253d05-75c0-41c7-b9d4-a6c58ecf69ce
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-vb
msc.type: authoredcontent
ms.openlocfilehash: 326201f9fe9ba5f482308dc8bfd7d2decb9fbd8f
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/10/2017
---
<a name="adding-a-gridview-column-of-checkboxes-vb"></a><span data-ttu-id="9c95d-103">Agregar una columna de GridView de casillas de verificación (VB)</span><span class="sxs-lookup"><span data-stu-id="9c95d-103">Adding a GridView Column of Checkboxes (VB)</span></span>
====================
<span data-ttu-id="9c95d-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="9c95d-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="9c95d-105">[Descargar la aplicación de ejemplo](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_VB.exe) o [descarga de PDF](adding-a-gridview-column-of-checkboxes-vb/_static/datatutorial52vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="9c95d-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_VB.exe) or [Download PDF](adding-a-gridview-column-of-checkboxes-vb/_static/datatutorial52vb1.pdf)</span></span>

> <span data-ttu-id="9c95d-106">Este tutorial examina cómo agregar una columna de casillas de verificación a un control GridView para proporcionar al usuario de una forma intuitiva de la selección de varias filas de GridView.</span><span class="sxs-lookup"><span data-stu-id="9c95d-106">This tutorial looks at how to add a column of check boxes to a GridView control to provide the user with an intuitive way of selecting multiple rows of the GridView.</span></span>


## <a name="introduction"></a><span data-ttu-id="9c95d-107">Introducción</span><span class="sxs-lookup"><span data-stu-id="9c95d-107">Introduction</span></span>

<span data-ttu-id="9c95d-108">En el tutorial anterior, se examina cómo agregar una columna de botones de radio a la GridView con el fin de seleccionar un registro concreto.</span><span class="sxs-lookup"><span data-stu-id="9c95d-108">In the preceding tutorial we examined how to add a column of radio buttons to the GridView for the purpose of selecting a particular record.</span></span> <span data-ttu-id="9c95d-109">Una columna de botones de radio es una interfaz de usuario adecuado cuando el usuario está limitado a elegir al menos un elemento de la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="9c95d-109">A column of radio buttons is a suitable user interface when the user is limited to choosing at most one item from the grid.</span></span> <span data-ttu-id="9c95d-110">En ocasiones, sin embargo, podemos queremos permitir al usuario elegir un número arbitrario de elementos de la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="9c95d-110">At times, however, we may want to allow the user to pick an arbitrary number of items from the grid.</span></span> <span data-ttu-id="9c95d-111">Por ejemplo, los clientes de correo electrónico basado en Web, mostrar la lista de mensajes con una columna de casillas de verificación.</span><span class="sxs-lookup"><span data-stu-id="9c95d-111">Web-based email clients, for example, typically display the list of messages with a column of checkboxes.</span></span> <span data-ttu-id="9c95d-112">El usuario puede seleccionar un número arbitrario de mensajes y, a continuación, realizar alguna acción, como mover los mensajes de correo electrónico a otra carpeta o eliminarlos.</span><span class="sxs-lookup"><span data-stu-id="9c95d-112">The user can select an arbitrary number of messages and then perform some action, such as moving the emails to another folder or deleting them.</span></span>

<span data-ttu-id="9c95d-113">En este tutorial veremos cómo agregar una columna de casillas de verificación y cómo determinar qué casillas de verificación se seleccionaron en el postback.</span><span class="sxs-lookup"><span data-stu-id="9c95d-113">In this tutorial we will see how to add a column of checkboxes and how to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="9c95d-114">En concreto, vamos a crear un ejemplo que se asemeje estrechamente a la interfaz de usuario del cliente de correo electrónico basado en web.</span><span class="sxs-lookup"><span data-stu-id="9c95d-114">In particular, we'll build an example that closely mimics the web-based email client user interface.</span></span> <span data-ttu-id="9c95d-115">Nuestro ejemplo incluirá un GridView paginada enumerar los productos en la `Products` (consulte la figura 1) de la fila de tabla de base de datos con un control checkbox en cada uno.</span><span class="sxs-lookup"><span data-stu-id="9c95d-115">Our example will include a paged GridView listing the products in the `Products` database table with a checkbox in each row (see Figure 1).</span></span> <span data-ttu-id="9c95d-116">Un botón Eliminar los productos seleccionados, al hacer clic, eliminará los productos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="9c95d-116">A Delete Selected Products button, when clicked, will delete those products selected.</span></span>


<span data-ttu-id="9c95d-117">[![Cada fila del producto incluye una casilla de verificación](adding-a-gridview-column-of-checkboxes-vb/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="9c95d-117">[![Each Product Row Includes a Checkbox](adding-a-gridview-column-of-checkboxes-vb/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image1.png)</span></span>

<span data-ttu-id="9c95d-118">**Figura 1**: cada fila del producto incluye una casilla de verificación ([haga clic aquí para ver la imagen a tamaño completo](adding-a-gridview-column-of-checkboxes-vb/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="9c95d-118">**Figure 1**: Each Product Row Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image2.png))</span></span>


## <a name="step-1-adding-a-paged-gridview-that-lists-product-information"></a><span data-ttu-id="9c95d-119">Paso 1: Agregar un paginada GridView que muestra información de producto</span><span class="sxs-lookup"><span data-stu-id="9c95d-119">Step 1: Adding a Paged GridView that Lists Product Information</span></span>

<span data-ttu-id="9c95d-120">Antes de que nos preocupamos sobre cómo agregar una columna de casillas de verificación, permiten foco primera s acerca de cómo enumerar los productos en un control GridView que admite la paginación.</span><span class="sxs-lookup"><span data-stu-id="9c95d-120">Before we worry about adding a column of checkboxes, let s first focus on listing the products in a GridView that supports paging.</span></span> <span data-ttu-id="9c95d-121">Comience abriendo la `CheckBoxField.aspx` página en el `EnhancedGridView` carpeta y arrastre un control GridView del cuadro de herramientas hasta el diseñador, establecer su `ID` a `Products`.</span><span class="sxs-lookup"><span data-stu-id="9c95d-121">Start by opening the `CheckBoxField.aspx` page in the `EnhancedGridView` folder and drag a GridView from the Toolbox onto the Designer, setting its `ID` to `Products`.</span></span> <span data-ttu-id="9c95d-122">A continuación, elija enlazar GridView a un nuevo ObjectDataSource denominado `ProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="9c95d-122">Next, choose to bind the GridView to a new ObjectDataSource named `ProductsDataSource`.</span></span> <span data-ttu-id="9c95d-123">Configurar el ObjectDataSource para usar el `ProductsBLL` de la clase, una llamada a la `GetProducts()` método para devolver los datos.</span><span class="sxs-lookup"><span data-stu-id="9c95d-123">Configure the ObjectDataSource to use the `ProductsBLL` class, calling the `GetProducts()` method to return the data.</span></span> <span data-ttu-id="9c95d-124">Puesto que este GridView serán de sólo lectura, establezca las listas desplegables de la actualización, INSERCIÓN y eliminar tabulaciones en (ninguno).</span><span class="sxs-lookup"><span data-stu-id="9c95d-124">Since this GridView will be read-only, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>


<span data-ttu-id="9c95d-125">[![Crear un nuevo origen ObjectDataSource denominado ProductsDataSource](adding-a-gridview-column-of-checkboxes-vb/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="9c95d-125">[![Create a New ObjectDataSource Named ProductsDataSource](adding-a-gridview-column-of-checkboxes-vb/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image3.png)</span></span>

<span data-ttu-id="9c95d-126">**Figura 2**: crear un nuevo ObjectDataSource denominado `ProductsDataSource` ([haga clic aquí para ver la imagen a tamaño completo](adding-a-gridview-column-of-checkboxes-vb/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="9c95d-126">**Figure 2**: Create a New ObjectDataSource Named `ProductsDataSource` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image4.png))</span></span>


<span data-ttu-id="9c95d-127">[![Configurar el ObjectDataSource para recuperar datos mediante el método GetProducts()](adding-a-gridview-column-of-checkboxes-vb/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="9c95d-127">[![Configure the ObjectDataSource to Retrieve Data Using the GetProducts() Method](adding-a-gridview-column-of-checkboxes-vb/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image5.png)</span></span>

<span data-ttu-id="9c95d-128">**Figura 3**: configurar el ObjectDataSource para recuperar datos mediante el `GetProducts()` método ([haga clic aquí para ver la imagen a tamaño completo](adding-a-gridview-column-of-checkboxes-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="9c95d-128">**Figure 3**: Configure the ObjectDataSource to Retrieve Data Using the `GetProducts()` Method ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image6.png))</span></span>


<span data-ttu-id="9c95d-129">[![Establece las listas de lista desplegable en la actualización, INSERCIÓN y eliminar las pestañas en (ninguno)](adding-a-gridview-column-of-checkboxes-vb/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="9c95d-129">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None)](adding-a-gridview-column-of-checkboxes-vb/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image7.png)</span></span>

<span data-ttu-id="9c95d-130">**Figura 4**: establecer las listas de lista desplegable en la actualización, INSERCIÓN y eliminar pestañas en (ninguno) ([haga clic aquí para ver la imagen a tamaño completo](adding-a-gridview-column-of-checkboxes-vb/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="9c95d-130">**Figure 4**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None) ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image8.png))</span></span>


<span data-ttu-id="9c95d-131">Después de completar al Asistente para configurar orígenes de datos, Visual Studio creará automáticamente BoundColumns y un CheckBoxColumn para los campos de datos relacionados con el producto.</span><span class="sxs-lookup"><span data-stu-id="9c95d-131">After completing the Configure Data Source wizard, Visual Studio will automatically create BoundColumns and a CheckBoxColumn for the product-related data fields.</span></span> <span data-ttu-id="9c95d-132">Al igual que hicimos en el tutorial anterior, quite todos menos el `ProductName`, `CategoryName`, y `UnitPrice` BoundFields y cambie el `HeaderText` propiedades para el producto, la categoría y el precio.</span><span class="sxs-lookup"><span data-stu-id="9c95d-132">Like we did in the previous tutorial, remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="9c95d-133">Configurar la `UnitPrice` BoundField para que su valor se le aplica formato como una moneda.</span><span class="sxs-lookup"><span data-stu-id="9c95d-133">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="9c95d-134">Configurar el control GridView para admitir paginación activando la casilla de verificación Habilitar paginación de la etiqueta inteligente.</span><span class="sxs-lookup"><span data-stu-id="9c95d-134">Also configure the GridView to support paging by checking the Enable Paging checkbox from the smart tag.</span></span>

<span data-ttu-id="9c95d-135">Permiten s también agregar la interfaz de usuario para eliminar los productos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="9c95d-135">Let s also add the user interface for deleting the selected products.</span></span> <span data-ttu-id="9c95d-136">Agregar un control de botón Web bajo el control GridView, establecer su `ID` a `DeleteSelectedProducts` y su `Text` propiedad para eliminar los productos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="9c95d-136">Add a Button Web control beneath the GridView, setting its `ID` to `DeleteSelectedProducts` and its `Text` property to Delete Selected Products.</span></span> <span data-ttu-id="9c95d-137">En lugar de eliminar los productos de la base de datos, en este ejemplo solo se podrá mostrar un mensaje que indica los productos que se habrían eliminados.</span><span class="sxs-lookup"><span data-stu-id="9c95d-137">Rather than actually deleting products from the database, for this example we'll just display a message stating the products that would have been deleted.</span></span> <span data-ttu-id="9c95d-138">Para ello, agregue un control Web Label debajo del botón.</span><span class="sxs-lookup"><span data-stu-id="9c95d-138">To accommodate this, add a Label Web control beneath the Button.</span></span> <span data-ttu-id="9c95d-139">Establecer su Id. `DeleteResults`, desactive fuera su `Text` propiedad y establezca su `Visible` y `EnableViewState` propiedades para `False`.</span><span class="sxs-lookup"><span data-stu-id="9c95d-139">Set its ID to `DeleteResults`, clear out its `Text` property, and set its `Visible` and `EnableViewState` properties to `False`.</span></span>

<span data-ttu-id="9c95d-140">Después de realizar estos cambios, el marcado declarativo de s GridView, ObjectDataSource, botón y etiqueta debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="9c95d-140">After making these changes, the GridView, ObjectDataSource, Button, and Label s declarative markup should similar to the following:</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-vb/samples/sample1.aspx)]

<span data-ttu-id="9c95d-141">Tómese un momento para ver la página en un explorador (Véase la figura 5).</span><span class="sxs-lookup"><span data-stu-id="9c95d-141">Take a moment to view the page in a browser (see Figure 5).</span></span> <span data-ttu-id="9c95d-142">En este momento debería ver el nombre, la categoría y el precio de los diez primeros productos.</span><span class="sxs-lookup"><span data-stu-id="9c95d-142">At this point you should see the name, category, and price of the first ten products.</span></span>


<span data-ttu-id="9c95d-143">[![Se muestran el nombre, la categoría y el precio de los diez primeros productos](adding-a-gridview-column-of-checkboxes-vb/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="9c95d-143">[![The Name, Category, and Price of the First Ten Products are Listed](adding-a-gridview-column-of-checkboxes-vb/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image9.png)</span></span>

<span data-ttu-id="9c95d-144">**Figura 5**: se enumeran el nombre, categoría y precio de los diez primeros productos ([haga clic aquí para ver la imagen a tamaño completo](adding-a-gridview-column-of-checkboxes-vb/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="9c95d-144">**Figure 5**: The Name, Category, and Price of the First Ten Products are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image10.png))</span></span>


## <a name="step-2-adding-a-column-of-checkboxes"></a><span data-ttu-id="9c95d-145">Paso 2: Agregar una columna de casillas de verificación</span><span class="sxs-lookup"><span data-stu-id="9c95d-145">Step 2: Adding a Column of Checkboxes</span></span>

<span data-ttu-id="9c95d-146">Dado que ASP.NET 2.0 incluye una CampoCasillaVerificación, uno que piense que se puede usar para agregar una columna de casillas de verificación a un control GridView.</span><span class="sxs-lookup"><span data-stu-id="9c95d-146">Since ASP.NET 2.0 includes a CheckBoxField, one might think that it could be used to add a column of checkboxes to a GridView.</span></span> <span data-ttu-id="9c95d-147">Por desgracia, que no es el caso, como la CampoCasillaVerificación está diseñado para trabajar con un campo de datos booleano.</span><span class="sxs-lookup"><span data-stu-id="9c95d-147">Unfortunately, that is not the case, as the CheckBoxField is designed to work with a Boolean data field.</span></span> <span data-ttu-id="9c95d-148">Es decir, para poder usar el CampoCasillaVerificación debemos especificar el campo de datos subyacente cuyo valor se consulta para determinar si se activa la casilla representada.</span><span class="sxs-lookup"><span data-stu-id="9c95d-148">That is, in order to use the CheckBoxField we must specify the underlying data field whose value is consulted to determine whether the rendered checkbox is checked.</span></span> <span data-ttu-id="9c95d-149">No podemos usar la CampoCasillaVerificación para incluir solo una columna de casillas de verificación no está activada.</span><span class="sxs-lookup"><span data-stu-id="9c95d-149">We cannot use the CheckBoxField to just include a column of unchecked checkboxes.</span></span>

<span data-ttu-id="9c95d-150">En su lugar, debemos agregar TemplateField y agregar un control de casilla de verificación Web a su `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="9c95d-150">Instead, we must add a TemplateField and add a CheckBox Web control to its `ItemTemplate`.</span></span> <span data-ttu-id="9c95d-151">Agregue un TemplateField para el `Products` GridView y hacer que el primer campo (lejano a la izquierda).</span><span class="sxs-lookup"><span data-stu-id="9c95d-151">Go ahead and add a TemplateField to the `Products` GridView and make it the first (far-left) field.</span></span> <span data-ttu-id="9c95d-152">Desde la etiqueta inteligente de GridView s, haga clic en el vínculo Editar plantillas y, a continuación, arrastre un control CheckBox Web en el cuadro de herramientas en el `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="9c95d-152">From the GridView s smart tag, click on the Edit Templates link and then drag a CheckBox Web control from the Toolbox into the `ItemTemplate`.</span></span> <span data-ttu-id="9c95d-153">Establecer esta casilla de verificación s `ID` propiedad `ProductSelector`.</span><span class="sxs-lookup"><span data-stu-id="9c95d-153">Set this CheckBox s `ID` property to `ProductSelector`.</span></span>


<span data-ttu-id="9c95d-154">[![Agregue un Control de casilla de verificación Web denominado ProductSelector a TemplateField s ItemTemplate](adding-a-gridview-column-of-checkboxes-vb/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="9c95d-154">[![Add a CheckBox Web Control Named ProductSelector to the TemplateField s ItemTemplate](adding-a-gridview-column-of-checkboxes-vb/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image11.png)</span></span>

<span data-ttu-id="9c95d-155">**Figura 6**: agregar un Control de casilla de verificación Web denominado `ProductSelector` para las operaciones de asignación TemplateField `ItemTemplate` ([haga clic aquí para ver la imagen a tamaño completo](adding-a-gridview-column-of-checkboxes-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="9c95d-155">**Figure 6**: Add a CheckBox Web Control Named `ProductSelector` to the TemplateField s `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image12.png))</span></span>


<span data-ttu-id="9c95d-156">Con el control Web de casilla de verificación y TemplateField agregado, cada fila ahora incluye una casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="9c95d-156">With the TemplateField and CheckBox Web control added, each row now includes a checkbox.</span></span> <span data-ttu-id="9c95d-157">La figura 7 muestra esta página, cuando se ven a través de un explorador, después de han agregado la casilla de verificación y TemplateField.</span><span class="sxs-lookup"><span data-stu-id="9c95d-157">Figure 7 shows this page, when viewed through a browser, after the TemplateField and CheckBox have been added.</span></span>


<span data-ttu-id="9c95d-158">[![Cada fila del producto ahora incluye una casilla de verificación](adding-a-gridview-column-of-checkboxes-vb/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="9c95d-158">[![Each Product Row Now Includes a Checkbox](adding-a-gridview-column-of-checkboxes-vb/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image13.png)</span></span>

<span data-ttu-id="9c95d-159">**Figura 7**: cada fila del producto ahora incluye una casilla de verificación ([haga clic aquí para ver la imagen a tamaño completo](adding-a-gridview-column-of-checkboxes-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="9c95d-159">**Figure 7**: Each Product Row Now Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image14.png))</span></span>


## <a name="step-3-determining-what-checkboxes-were-checked-on-postback"></a><span data-ttu-id="9c95d-160">Paso 3: Determinar qué casillas de verificación se seleccionaron en la devolución de datos</span><span class="sxs-lookup"><span data-stu-id="9c95d-160">Step 3: Determining What Checkboxes Were Checked On Postback</span></span>

<span data-ttu-id="9c95d-161">En este momento tenemos una columna de casillas de verificación pero ninguna manera de determinar qué casillas de verificación se seleccionaron en el postback.</span><span class="sxs-lookup"><span data-stu-id="9c95d-161">At this point we have a column of checkboxes but no way to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="9c95d-162">Sin embargo, cuando se hace clic en el botón Eliminar productos seleccionado, es necesario saber qué casillas de verificación se comprobaron con el fin de eliminar los productos.</span><span class="sxs-lookup"><span data-stu-id="9c95d-162">When the Delete Selected Products button is clicked, though, we need to know what checkboxes were checked in order to delete those products.</span></span>

<span data-ttu-id="9c95d-163">Las operaciones de asignación GridView [ `Rows` propiedad](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.rows.aspx) proporciona acceso a las filas de datos en GridView.</span><span class="sxs-lookup"><span data-stu-id="9c95d-163">The GridView s [`Rows` property](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.rows.aspx) provides access to the data rows in the GridView.</span></span> <span data-ttu-id="9c95d-164">Se puede recorrer en iteración estas filas, obtener acceso mediante programación el control de casilla de verificación y, a continuación, consulte su `Checked` propiedad para determinar si se ha seleccionado la casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="9c95d-164">We can iterate through these rows, programmatically access the CheckBox control, and then consult its `Checked` property to determine whether the CheckBox has been selected.</span></span>

<span data-ttu-id="9c95d-165">Crear un controlador de eventos para el `DeleteSelectedProducts` control Button Web s `Click` eventos y agregue el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="9c95d-165">Create an event handler for the `DeleteSelectedProducts` Button Web control s `Click` event and add the following code:</span></span>


[!code-vb[Main](adding-a-gridview-column-of-checkboxes-vb/samples/sample2.vb)]

<span data-ttu-id="9c95d-166">El `Rows` propiedad devuelve una colección de `GridViewRow` instancias que utilizan las filas de datos de GridView s.</span><span class="sxs-lookup"><span data-stu-id="9c95d-166">The `Rows` property returns a collection of `GridViewRow` instances that makeup the GridView s data rows.</span></span> <span data-ttu-id="9c95d-167">El `For Each` bucle aquí enumera esta colección.</span><span class="sxs-lookup"><span data-stu-id="9c95d-167">The `For Each` loop here enumerates this collection.</span></span> <span data-ttu-id="9c95d-168">Para cada `GridViewRow` objeto, la fila s casilla mediante programación se tiene acceso mediante `row.FindControl("controlID")`.</span><span class="sxs-lookup"><span data-stu-id="9c95d-168">For each `GridViewRow` object, the row s CheckBox is programmatically accessed using `row.FindControl("controlID")`.</span></span> <span data-ttu-id="9c95d-169">Si se activa la casilla, la correspondiente fila s `ProductID` valor se recupera de la `DataKeys` colección.</span><span class="sxs-lookup"><span data-stu-id="9c95d-169">If the CheckBox is checked, the row s corresponding `ProductID` value is retrieved from the `DataKeys` collection.</span></span> <span data-ttu-id="9c95d-170">En este ejercicio, simplemente se muestra un mensaje informativo en el `DeleteResults` etiquetar, aunque en una aplicación operativa d en su lugar, realizamos una llamada a la `ProductsBLL` clase s. `DeleteProduct(productID)` método.</span><span class="sxs-lookup"><span data-stu-id="9c95d-170">In this exercise, we simply display an informative message in the `DeleteResults` Label, although in a working application we d instead make a call to the `ProductsBLL` class s `DeleteProduct(productID)` method.</span></span>

<span data-ttu-id="9c95d-171">Con la adición de este controlador de eventos, haga clic en el botón Eliminar los productos seleccionados ahora muestra el `ProductID` s de los productos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="9c95d-171">With the addition of this event handler, clicking the Delete Selected Products button now displays the `ProductID` s of the selected products.</span></span>


<span data-ttu-id="9c95d-172">[![Cuando se hace clic en el botón Eliminar productos de seleccionado se enumeran el ProductID de productos seleccionado](adding-a-gridview-column-of-checkboxes-vb/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="9c95d-172">[![When the Delete Selected Products Button is Clicked the Selected Products ProductIDs are Listed](adding-a-gridview-column-of-checkboxes-vb/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image15.png)</span></span>

<span data-ttu-id="9c95d-173">**Figura 8**: cuando la selecciona productos botón Eliminar se hace clic en los productos seleccionados `ProductID` se enumeran ([haga clic aquí para ver la imagen a tamaño completo](adding-a-gridview-column-of-checkboxes-vb/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="9c95d-173">**Figure 8**: When the Delete Selected Products Button is Clicked the Selected Products `ProductID` s are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image16.png))</span></span>


## <a name="step-4-adding-check-all-and-uncheck-all-buttons"></a><span data-ttu-id="9c95d-174">Paso 4: Agregar Active todos y desactive todos los botones</span><span class="sxs-lookup"><span data-stu-id="9c95d-174">Step 4: Adding Check All and Uncheck All Buttons</span></span>

<span data-ttu-id="9c95d-175">Si un usuario desea eliminar todos los productos en la página actual, debe comprobar cada una de las casillas de diez verificación.</span><span class="sxs-lookup"><span data-stu-id="9c95d-175">If a user wants to delete all products on the current page, they must check each of the ten checkboxes.</span></span> <span data-ttu-id="9c95d-176">Te podemos ayudar a acelerar este proceso agregando marcar todas botón que, al hacer clic, selecciona todas las casillas de verificación en la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="9c95d-176">We can help expedite this process by adding a Check All button that, when clicked, selects all of the checkboxes in the grid.</span></span> <span data-ttu-id="9c95d-177">Un botón Desactive todo sería útil igualmente.</span><span class="sxs-lookup"><span data-stu-id="9c95d-177">An Uncheck All button would be equally helpful.</span></span>

<span data-ttu-id="9c95d-178">Agregue dos controles de botón Web a la página, colocarlas encima de GridView.</span><span class="sxs-lookup"><span data-stu-id="9c95d-178">Add two Button Web controls to the page, placing them above the GridView.</span></span> <span data-ttu-id="9c95d-179">Establecer la primero s `ID` a `CheckAll` y su `Text` propiedad para comprobar todos los; se establece el segundo s `ID` a `UncheckAll` y su `Text` propiedad desactive todos los.</span><span class="sxs-lookup"><span data-stu-id="9c95d-179">Set the first one s `ID` to `CheckAll` and its `Text` property to Check All ; set the second one s `ID` to `UncheckAll` and its `Text` property to Uncheck All .</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-vb/samples/sample3.aspx)]

<span data-ttu-id="9c95d-180">A continuación, cree un método en la clase de código subyacente denominada `ToggleCheckState(checkState)` que, cuando se invoca, enumera el `Products` GridView s `Rows` colección y establece cada casilla de verificación s `Checked` en el valor del pasado en *checkState*  parámetro.</span><span class="sxs-lookup"><span data-stu-id="9c95d-180">Next, create a method in the code-behind class named `ToggleCheckState(checkState)` that, when invoked, enumerates the `Products` GridView s `Rows` collection and sets each CheckBox s `Checked` property to the value of the passed in *checkState* parameter.</span></span>


[!code-vb[Main](adding-a-gridview-column-of-checkboxes-vb/samples/sample4.vb)]

<span data-ttu-id="9c95d-181">A continuación, cree `Click` controladores de eventos para el `CheckAll` y `UncheckAll` botones.</span><span class="sxs-lookup"><span data-stu-id="9c95d-181">Next, create `Click` event handlers for the `CheckAll` and `UncheckAll` buttons.</span></span> <span data-ttu-id="9c95d-182">En `CheckAll` controlador de eventos de s, simplemente llamada `ToggleCheckState(True)`; en `UncheckAll`, llame a `ToggleCheckState(False)`.</span><span class="sxs-lookup"><span data-stu-id="9c95d-182">In `CheckAll` s event handler, simply call `ToggleCheckState(True)`; in `UncheckAll`, call `ToggleCheckState(False)`.</span></span>


[!code-vb[Main](adding-a-gridview-column-of-checkboxes-vb/samples/sample5.vb)]

<span data-ttu-id="9c95d-183">Con este código, haga clic en el botón Comprobar todo provoca una devolución de datos y comprueba todas las casillas de verificación en el control GridView.</span><span class="sxs-lookup"><span data-stu-id="9c95d-183">With this code, clicking the Check All button causes a postback and checks all of the checkboxes in the GridView.</span></span> <span data-ttu-id="9c95d-184">Del mismo modo, haga clic en desactivar todo anula la selección de todas las casillas.</span><span class="sxs-lookup"><span data-stu-id="9c95d-184">Likewise, clicking Uncheck All unselects all checkboxes.</span></span> <span data-ttu-id="9c95d-185">Ilustración 9 se muestra la pantalla después de que se ha comprobado el botón Comprobar todo.</span><span class="sxs-lookup"><span data-stu-id="9c95d-185">Figure 9 shows the screen after the Check All button has been checked.</span></span>


<span data-ttu-id="9c95d-186">[![Haga clic en la comprobación de que todos los botones selecciona todas las casillas](adding-a-gridview-column-of-checkboxes-vb/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="9c95d-186">[![Clicking the Check All Button Selects All Checkboxes](adding-a-gridview-column-of-checkboxes-vb/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-vb/_static/image17.png)</span></span>

<span data-ttu-id="9c95d-187">**Figura 9**: haga clic en la comprobación de todos los botón selecciona todas las casillas ([haga clic aquí para ver la imagen a tamaño completo](adding-a-gridview-column-of-checkboxes-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="9c95d-187">**Figure 9**: Clicking the Check All Button Selects All Checkboxes ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-vb/_static/image18.png))</span></span>


> [!NOTE]
> <span data-ttu-id="9c95d-188">Al mostrar una columna de casillas de verificación, un enfoque para seleccionar o anulando la selección de todas las casillas de verificación es a través de una casilla en la fila de encabezado.</span><span class="sxs-lookup"><span data-stu-id="9c95d-188">When displaying a column of checkboxes, one approach for selecting or unselecting all of the checkboxes is through a checkbox in the header row.</span></span> <span data-ttu-id="9c95d-189">Además, actual marque todo / desactive toda implementación requiere un postback.</span><span class="sxs-lookup"><span data-stu-id="9c95d-189">Moreover, the current Check All / Uncheck All implementation requires a postback.</span></span> <span data-ttu-id="9c95d-190">Las casillas de verificación pueden ser activado o desactivado, sin embargo, completamente a través de script del lado cliente, lo que proporciona una experiencia de usuario más ágil.</span><span class="sxs-lookup"><span data-stu-id="9c95d-190">The checkboxes can be checked or unchecked, however, entirely through client-side script, thereby providing a snappier user experience.</span></span> <span data-ttu-id="9c95d-191">Para explorar mediante una casilla de la fila de encabezado para comprobar todo y desactive todo en detalle, junto con una explicación sobre el uso de técnicas de lado cliente, visite [comprobar todas las casillas en un Script del lado cliente utilizando GridView y compruebe todas las casilla](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="9c95d-191">To explore using a header row checkbox for Check All and Uncheck All in detail, along with a discussion on using client-side techniques, check out [Checking All CheckBoxes in a GridView Using Client-Side Script and a Check All CheckBox](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span></span>


## <a name="summary"></a><span data-ttu-id="9c95d-192">Resumen</span><span class="sxs-lookup"><span data-stu-id="9c95d-192">Summary</span></span>

<span data-ttu-id="9c95d-193">En casos donde es necesario para permitir que los usuarios elegir un número arbitrario de filas de un control GridView antes de continuar, agregar una columna de casillas de verificación es una opción.</span><span class="sxs-lookup"><span data-stu-id="9c95d-193">In cases where you need to let users choose an arbitrary number of rows from a GridView before proceeding, adding a column of checkboxes is one option.</span></span> <span data-ttu-id="9c95d-194">Como hemos visto en este tutorial, incluyendo una columna de casillas de verificación en el control GridView implica agregar TemplateField con un control de casilla de verificación Web.</span><span class="sxs-lookup"><span data-stu-id="9c95d-194">As we saw in this tutorial, including a column of checkboxes in the GridView entails adding a TemplateField with a CheckBox Web control.</span></span> <span data-ttu-id="9c95d-195">Mediante el uso de un control Web (en lugar de insertar marcado directamente en la plantilla, como hicimos en el tutorial anterior) ASP.NET recuerda automáticamente lo que eran las casillas de verificación y no se comprueban a través de la devolución de datos.</span><span class="sxs-lookup"><span data-stu-id="9c95d-195">By using a Web control (versus injecting markup directly into the template, as we did in the previous tutorial) ASP.NET automatically remembers what CheckBoxes were and were not checked across postback.</span></span> <span data-ttu-id="9c95d-196">Podemos acceder mediante programación a las casillas de verificación en el código para determinar si se activa una casilla determinada, o para cambiar el estado de activación.</span><span class="sxs-lookup"><span data-stu-id="9c95d-196">We can also programmatically access the CheckBoxes in code to determine whether a given CheckBox is checked, or to chnage the checked state.</span></span>

<span data-ttu-id="9c95d-197">Este tutorial y la última de ellas examinando agregando una columna de selector de fila en GridView.</span><span class="sxs-lookup"><span data-stu-id="9c95d-197">This tutorial and the last one looked at adding a row selector column to the GridView.</span></span> <span data-ttu-id="9c95d-198">En nuestro tutorial siguiente examinaremos cómo, con un poco de trabajo, podemos agregar funciones de inserción a la GridView.</span><span class="sxs-lookup"><span data-stu-id="9c95d-198">In our next tutorial we'll examine how, with a bit of work, we can add inserting capabilities to the GridView.</span></span>

<span data-ttu-id="9c95d-199">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="9c95d-199">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="9c95d-200">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="9c95d-200">About the Author</span></span>

<span data-ttu-id="9c95d-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de siete libros sobre ASP/ASP.NET y fundador de [4GuysFromRolla.com](http://www.4guysfromrolla.com), ha trabajado con las tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="9c95d-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="9c95d-202">Scott funciona como un consultor independiente, instructor y escritor.</span><span class="sxs-lookup"><span data-stu-id="9c95d-202">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="9c95d-203">Su último libro es [ *SAM enseñar a usted mismo ASP.NET 2.0 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="9c95d-203">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="9c95d-204">Puede ponerse en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) o a través de su blog, que se pueden encontrar en [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="9c95d-204">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="9c95d-205">[Anterior](adding-a-gridview-column-of-radio-buttons-vb.md)
[Siguiente](inserting-a-new-record-from-the-gridview-s-footer-vb.md)</span><span class="sxs-lookup"><span data-stu-id="9c95d-205">[Previous](adding-a-gridview-column-of-radio-buttons-vb.md)
[Next](inserting-a-new-record-from-the-gridview-s-footer-vb.md)</span></span>
