---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-vb
title: Principal-detalle filtrado con dos listas desplegables (VB) | Documentos de Microsoft
author: rick-anderson
description: Este tutorial amplía la relación maestro y detalles para agregar una tercera capa, mediante dos controles de DropDownList para seleccionar la deseada recor primario y primario principal...
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/31/2010
ms.topic: article
ms.assetid: 11ae4f64-01ba-4823-95f4-a2fe1f84f7d7
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-with-two-dropdownlists-vb
msc.type: authoredcontent
ms.openlocfilehash: ee0232cf8f7c0533703a51a4629522fd887f216f
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/06/2018
---
<a name="masterdetail-filtering-with-two-dropdownlists-vb"></a><span data-ttu-id="31fcc-103">Principal-detalle filtrado con dos listas desplegables (VB)</span><span class="sxs-lookup"><span data-stu-id="31fcc-103">Master/Detail Filtering With Two DropDownLists (VB)</span></span>
====================
<span data-ttu-id="31fcc-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="31fcc-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="31fcc-105">[Descargar la aplicación de ejemplo](http://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_8_VB.exe) o [descarga de PDF](master-detail-filtering-with-two-dropdownlists-vb/_static/datatutorial08vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="31fcc-105">[Download Sample App](http://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_8_VB.exe) or [Download PDF](master-detail-filtering-with-two-dropdownlists-vb/_static/datatutorial08vb1.pdf)</span></span>

> <span data-ttu-id="31fcc-106">Este tutorial amplía la relación maestro y detalles para agregar una tercera capa, mediante dos controles de DropDownList para seleccionar los registros primarios y primario de segundo nivel deseados.</span><span class="sxs-lookup"><span data-stu-id="31fcc-106">This tutorial expands the master/detail relationship to add a third layer, using two DropDownList controls to select the desired parent and grandparent records.</span></span>


## <a name="introduction"></a><span data-ttu-id="31fcc-107">Introducción</span><span class="sxs-lookup"><span data-stu-id="31fcc-107">Introduction</span></span>

<span data-ttu-id="31fcc-108">En el [tutorial anterior](master-detail-filtering-with-a-dropdownlist-vb.md) se examina cómo mostrar un informe simple maestra/detalles usando DropDownList único rellenado con las categorías y un control GridView que muestra los productos que pertenecen a la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="31fcc-108">In the [previous tutorial](master-detail-filtering-with-a-dropdownlist-vb.md) we examined how to display a simple master/details report using a single DropDownList populated with the categories and a GridView showing those products that belong to the selected category.</span></span> <span data-ttu-id="31fcc-109">Este modelo de informe funciona bien cuando Mostrar registros que tienen una relación de uno a varios y se puede ampliar fácilmente para trabajar en escenarios que incluyen varias relaciones de uno a varios.</span><span class="sxs-lookup"><span data-stu-id="31fcc-109">This report pattern works well when displaying records that have a one-to-many relationship and can easily be extended to work for scenarios that include multiple one-to-many relationships.</span></span> <span data-ttu-id="31fcc-110">Por ejemplo, un sistema de entrada de pedidos tendría tablas que corresponden a los clientes, pedidos y artículos de línea de pedido.</span><span class="sxs-lookup"><span data-stu-id="31fcc-110">For example, an order entry system would have tables that correspond to customers, orders, and order line items.</span></span> <span data-ttu-id="31fcc-111">Un cliente determinado puede tener varios pedidos a cada pedido que consta de varios elementos.</span><span class="sxs-lookup"><span data-stu-id="31fcc-111">A given customer may have multiple orders with each order consisting of multiple items.</span></span> <span data-ttu-id="31fcc-112">Estos datos se pueden presentar al usuario con dos listas desplegables y un control GridView.</span><span class="sxs-lookup"><span data-stu-id="31fcc-112">Such data can be presented to the user with two DropDownLists and a GridView.</span></span> <span data-ttu-id="31fcc-113">El primer DropDownList tendría un elemento de lista para cada cliente en la base de datos con la segunda uno contenido que se va a los pedidos realizados por el cliente seleccionado.</span><span class="sxs-lookup"><span data-stu-id="31fcc-113">The first DropDownList would have a list item for each customer in the database with the second one's contents being the orders placed by the selected customer.</span></span> <span data-ttu-id="31fcc-114">Un control GridView haría una lista de los elementos de línea de la orden seleccionada.</span><span class="sxs-lookup"><span data-stu-id="31fcc-114">A GridView would list the line items from the selected order.</span></span>

<span data-ttu-id="31fcc-115">Aunque la base de datos de Northwind incluya la información de detalles de customer/order/orden canónico en su `Customers`, `Orders`, y `Order Details` tablas, estas tablas no se capturan en nuestra arquitectura.</span><span class="sxs-lookup"><span data-stu-id="31fcc-115">While the Northwind database include the canonical customer/order/order details information in its `Customers`, `Orders`, and `Order Details` tables, these tables aren't captured in our architecture.</span></span> <span data-ttu-id="31fcc-116">Sin embargo, todavía, imaginemos con dos listas desplegables dependientes.</span><span class="sxs-lookup"><span data-stu-id="31fcc-116">Nonetheless, we can still illustrate using two dependent DropDownLists.</span></span> <span data-ttu-id="31fcc-117">El primer DropDownList enumerará las categorías y el segundo los productos que pertenecen a la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="31fcc-117">The first DropDownList will list the categories and the second the products belonging to the selected category.</span></span> <span data-ttu-id="31fcc-118">DetailsView, a continuación, mostrará los detalles del producto seleccionado.</span><span class="sxs-lookup"><span data-stu-id="31fcc-118">A DetailsView will then list the details of the selected product.</span></span>

## <a name="step-1-creating-and-populating-the-categories-dropdownlist"></a><span data-ttu-id="31fcc-119">Paso 1: Crear y rellenar la categorías de DropDownList</span><span class="sxs-lookup"><span data-stu-id="31fcc-119">Step 1: Creating and Populating the Categories DropDownList</span></span>

<span data-ttu-id="31fcc-120">Nuestro primer objetivo consiste en Agregar DropDownList que enumera las categorías.</span><span class="sxs-lookup"><span data-stu-id="31fcc-120">Our first goal is to add the DropDownList that lists the categories.</span></span> <span data-ttu-id="31fcc-121">Estos pasos se describe detalladamente en el tutorial anterior, pero aquí se resumen por integridad.</span><span class="sxs-lookup"><span data-stu-id="31fcc-121">These steps were examined in detail in the preceding tutorial, but are summarized here for completeness.</span></span>

<span data-ttu-id="31fcc-122">Abra el `MasterDetailsDetails.aspx` página en el `Filtering` agregar DropDownList a la página, conjunto de carpetas, su `ID` propiedad a `Categories`y, a continuación, haga clic en el vínculo Configurar origen de datos en su etiqueta inteligente.</span><span class="sxs-lookup"><span data-stu-id="31fcc-122">Open the `MasterDetailsDetails.aspx` page in the `Filtering` folder, add a DropDownList to the page, set its `ID` property to `Categories`, and then click the Configure Data Source link in its smart tag.</span></span> <span data-ttu-id="31fcc-123">Desde el Asistente para configuración de orígenes de datos optar por agregar un nuevo origen de datos.</span><span class="sxs-lookup"><span data-stu-id="31fcc-123">From the Data Source Configuration Wizard choose to add a new data source.</span></span>


<span data-ttu-id="31fcc-124">[![Agregar un nuevo origen de datos para DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-124">[![Add a New Data Source for the DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image2.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image1.png)</span></span>

<span data-ttu-id="31fcc-125">**Figura 1**: agregar un nuevo origen de datos para DropDownList ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-125">**Figure 1**: Add a New Data Source for the DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image3.png))</span></span>


<span data-ttu-id="31fcc-126">El nuevo origen de datos de forma natural, debe ser un ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="31fcc-126">The new data source should, naturally, be an ObjectDataSource.</span></span> <span data-ttu-id="31fcc-127">Nombre de esta nueva ObjectDataSource `CategoriesDataSource` y hacer que se invoque el `CategoriesBLL` del objeto `GetCategories()` método.</span><span class="sxs-lookup"><span data-stu-id="31fcc-127">Name this new ObjectDataSource `CategoriesDataSource` and have it invoke the `CategoriesBLL` object's `GetCategories()` method.</span></span>


<span data-ttu-id="31fcc-128">[![Elija usar la clase CategoriesBLL](master-detail-filtering-with-two-dropdownlists-vb/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-128">[![Choose to Use the CategoriesBLL Class](master-detail-filtering-with-two-dropdownlists-vb/_static/image5.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image4.png)</span></span>

<span data-ttu-id="31fcc-129">**Figura 2**: optar por usar la `CategoriesBLL` clase ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-129">**Figure 2**: Choose to Use the `CategoriesBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image6.png))</span></span>


<span data-ttu-id="31fcc-130">[![Configurar el ObjectDataSource para utilizar el método GetCategories()](master-detail-filtering-with-two-dropdownlists-vb/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-130">[![Configure the ObjectDataSource to Use the GetCategories() Method](master-detail-filtering-with-two-dropdownlists-vb/_static/image8.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image7.png)</span></span>

<span data-ttu-id="31fcc-131">**Figura 3**: configurar el ObjectDataSource que se utilizan los `GetCategories()` método ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-131">**Figure 3**: Configure the ObjectDataSource to Use the `GetCategories()` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image9.png))</span></span>


<span data-ttu-id="31fcc-132">Después de configurar el ObjectDataSource todavía es preciso especificar qué campo del origen de datos se debe mostrar en el `Categories` DropDownList y cuál debe configurarse como el valor para el elemento de lista.</span><span class="sxs-lookup"><span data-stu-id="31fcc-132">After configuring the ObjectDataSource we still need to specify which data source field should be displayed in the `Categories` DropDownList and which one should be configured as the value for the list item.</span></span> <span data-ttu-id="31fcc-133">Establecer el `CategoryName` campo como la presentación y `CategoryID` como el valor de cada elemento de lista.</span><span class="sxs-lookup"><span data-stu-id="31fcc-133">Set the `CategoryName` field as the display and `CategoryID` as the value for each list item.</span></span>


<span data-ttu-id="31fcc-134">[![Tiene la presentación de DropDownList el campo de nombre de categoría y CategoryID de uso como el valor](master-detail-filtering-with-two-dropdownlists-vb/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-134">[![Have the DropDownList Display the CategoryName Field and Use CategoryID as the Value](master-detail-filtering-with-two-dropdownlists-vb/_static/image11.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image10.png)</span></span>

<span data-ttu-id="31fcc-135">**Figura 4**: tiene la presentación de DropDownList el `CategoryName` campo y Use `CategoryID` como el valor ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-135">**Figure 4**: Have the DropDownList Display the `CategoryName` Field and Use `CategoryID` as the Value ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image12.png))</span></span>


<span data-ttu-id="31fcc-136">En este momento tenemos un control DropDownList (`Categories`) que se rellena con los registros de la `Categories` tabla.</span><span class="sxs-lookup"><span data-stu-id="31fcc-136">At this point we have a DropDownList control (`Categories`) that's populated with the records from the `Categories` table.</span></span> <span data-ttu-id="31fcc-137">Cuando el usuario elige una nueva categoría de la lista desplegable que le deseamos una devolución de datos que se produzca con el fin de actualizar el producto DropDownList que vamos a crear en el paso 2.</span><span class="sxs-lookup"><span data-stu-id="31fcc-137">When the user chooses a new category from the DropDownList we'll want a postback to occur in order to refresh the product DropDownList that we're going to create in Step 2.</span></span> <span data-ttu-id="31fcc-138">Por lo tanto, active la opción de Habilitar AutoPostBack desde la `categories` etiqueta inteligente de DropDownList.</span><span class="sxs-lookup"><span data-stu-id="31fcc-138">Therefore, check the Enable AutoPostBack option from the `categories` DropDownList's smart tag.</span></span>


<span data-ttu-id="31fcc-139">[![Habilitar AutoPostBack para la categorías de DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-139">[![Enable AutoPostBack for the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image14.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image13.png)</span></span>

<span data-ttu-id="31fcc-140">**Figura 5**: Habilitar AutoPostBack para la `Categories` DropDownList ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-140">**Figure 5**: Enable AutoPostBack for the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image15.png))</span></span>


## <a name="step-2-displaying-the-selected-categorys-products-in-a-second-dropdownlist"></a><span data-ttu-id="31fcc-141">Paso 2: Mostrar los productos de la categoría seleccionada en una segunda DropDownList</span><span class="sxs-lookup"><span data-stu-id="31fcc-141">Step 2: Displaying the Selected Category's Products in a Second DropDownList</span></span>

<span data-ttu-id="31fcc-142">Con el `Categories` DropDownList completado, el paso siguiente consiste en Mostrar DropDownList de productos que pertenecen a la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="31fcc-142">With the `Categories` DropDownList completed, our next step is to display a DropDownList of products belonging to the selected category.</span></span> <span data-ttu-id="31fcc-143">Para ello, agregue otro DropDownList a la página denominada `ProductsByCategory`.</span><span class="sxs-lookup"><span data-stu-id="31fcc-143">To accomplish this, add another DropDownList to the page named `ProductsByCategory`.</span></span> <span data-ttu-id="31fcc-144">Al igual que con la `Categories` DropDownList, crear un nuevo origen ObjectDataSource para la `ProductsByCategory` DropDownList denominado `ProductsByCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="31fcc-144">As with the `Categories` DropDownList, create a new ObjectDataSource for the `ProductsByCategory` DropDownList named `ProductsByCategoryDataSource`.</span></span>


<span data-ttu-id="31fcc-145">[![Agregar un nuevo origen de datos para ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-145">[![Add a New Data Source for the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image17.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image16.png)</span></span>

<span data-ttu-id="31fcc-146">**Figura 6**: agregar un nuevo origen de datos para la `ProductsByCategory` DropDownList ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-146">**Figure 6**: Add a New Data Source for the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image18.png))</span></span>


<span data-ttu-id="31fcc-147">[![Crear un nuevo origen ObjectDataSource denominado ProductsByCategoryDataSource](master-detail-filtering-with-two-dropdownlists-vb/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-147">[![Create a New ObjectDataSource Named ProductsByCategoryDataSource](master-detail-filtering-with-two-dropdownlists-vb/_static/image20.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image19.png)</span></span>

<span data-ttu-id="31fcc-148">**Figura 7**: crear un nuevo ObjectDataSource denominado `ProductsByCategoryDataSource` ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-148">**Figure 7**: Create a New ObjectDataSource Named `ProductsByCategoryDataSource` ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image21.png))</span></span>


<span data-ttu-id="31fcc-149">Puesto que la `ProductsByCategory` DropDownList necesidades para mostrar únicamente los productos que pertenecen a la categoría seleccionada tiene el ObjectDataSource invocar la `GetProductsByCategoryID(categoryID)` método desde el `ProductsBLL` objeto.</span><span class="sxs-lookup"><span data-stu-id="31fcc-149">Since the `ProductsByCategory` DropDownList needs to display just those products belonging to the selected category, have the ObjectDataSource invoke the `GetProductsByCategoryID(categoryID)` method from the `ProductsBLL` object.</span></span>


<span data-ttu-id="31fcc-150">[![Elija usar la clase ProductsBLL](master-detail-filtering-with-two-dropdownlists-vb/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-150">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-vb/_static/image23.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image22.png)</span></span>

<span data-ttu-id="31fcc-151">**Figura 8**: optar por usar la `ProductsBLL` clase ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-151">**Figure 8**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image24.png))</span></span>


<span data-ttu-id="31fcc-152">[![Configurar el ObjectDataSource para utilizar el método GetProductsByCategoryID(categoryID)](master-detail-filtering-with-two-dropdownlists-vb/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-152">[![Configure the ObjectDataSource to Use the GetProductsByCategoryID(categoryID) Method](master-detail-filtering-with-two-dropdownlists-vb/_static/image26.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image25.png)</span></span>

<span data-ttu-id="31fcc-153">**Figura 9**: configurar el ObjectDataSource que se utilizan los `GetProductsByCategoryID(categoryID)` método ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-153">**Figure 9**: Configure the ObjectDataSource to Use the `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image27.png))</span></span>


<span data-ttu-id="31fcc-154">En el paso final del asistente es preciso especificar el valor de la *`categoryID`* parámetro.</span><span class="sxs-lookup"><span data-stu-id="31fcc-154">In the final step of the wizard we need to specify the value of the *`categoryID`* parameter.</span></span> <span data-ttu-id="31fcc-155">Asignar este parámetro para el elemento seleccionado de la `Categories` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="31fcc-155">Assign this parameter to the selected item from the `Categories` DropDownList.</span></span>


<span data-ttu-id="31fcc-156">[![Extraer el valor del parámetro categoryID de la lista desplegable de categorías](master-detail-filtering-with-two-dropdownlists-vb/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-156">[![Pull the categoryID Parameter Value from the Categories DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image29.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image28.png)</span></span>

<span data-ttu-id="31fcc-157">**Figura 10**: extraer el *`categoryID`* valor del parámetro de la `Categories` DropDownList ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-157">**Figure 10**: Pull the *`categoryID`* Parameter Value from the `Categories` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image30.png))</span></span>


<span data-ttu-id="31fcc-158">Con ObjectDataSource configurado, lo único que queda es especificar qué campos del origen de datos se usan para la presentación y el valor de los elementos de DropDownList.</span><span class="sxs-lookup"><span data-stu-id="31fcc-158">With the ObjectDataSource configured, all that remains is to specify what data source fields are used for the display and value of the DropDownList's items.</span></span> <span data-ttu-id="31fcc-159">Mostrar la `ProductName` campo y use la `ProductID` campo como valor.</span><span class="sxs-lookup"><span data-stu-id="31fcc-159">Display the `ProductName` field and use the `ProductID` field as the value.</span></span>


<span data-ttu-id="31fcc-160">[![Especificar los campos de origen de datos utilizados para texto y las propiedades de valor de ListItems del DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-160">[![Specify the Data Source Fields Used for the DropDownList's ListItems' Text and Value Properties](master-detail-filtering-with-two-dropdownlists-vb/_static/image32.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image31.png)</span></span>

<span data-ttu-id="31fcc-161">**Figura 11**: especificar los campos de origen de datos utilizan para la DropDownList `ListItem` s' `Text` y `Value` propiedades ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-161">**Figure 11**: Specify the Data Source Fields Used for the DropDownList's `ListItem` s' `Text` and `Value` Properties ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image33.png))</span></span>


<span data-ttu-id="31fcc-162">Con el ObjectDataSource y `ProductsByCategory` DropDownList configurado nuestra página mostrará dos listas desplegables: la primera mostrará una lista de todas las categorías de mientras que el segundo mostrará una lista de los productos que pertenecen a la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="31fcc-162">With the ObjectDataSource and `ProductsByCategory` DropDownList configured our page will display two DropDownLists: the first will list all of the categories while the second will list those products belonging to the selected category.</span></span> <span data-ttu-id="31fcc-163">Cuando el usuario selecciona una nueva categoría en el primer DropDownList, surgirán una devolución de datos y el segundo DropDownList se se vuelve a enlazar, que muestra los productos que pertenecen a la categoría recién seleccionada.</span><span class="sxs-lookup"><span data-stu-id="31fcc-163">When the user selects a new category from the first DropDownList, a postback will ensue and the second DropDownList will be rebound, showing those products that belong to the newly selected category.</span></span> <span data-ttu-id="31fcc-164">Figuras 12 y 13 mostrar `MasterDetailsDetails.aspx` en acción cuando se ven a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="31fcc-164">Figures 12 and 13 show `MasterDetailsDetails.aspx` in action when viewed through a browser.</span></span>


<span data-ttu-id="31fcc-165">[![Cuando visita primero a la página, se selecciona la categoría de bebidas](master-detail-filtering-with-two-dropdownlists-vb/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-165">[![When First Visiting the Page, the Beverages Category is Selected](master-detail-filtering-with-two-dropdownlists-vb/_static/image35.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image34.png)</span></span>

<span data-ttu-id="31fcc-166">**Figura 12**: al primero visitar la página, se selecciona la categoría bebidas ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-166">**Figure 12**: When First Visiting the Page, the Beverages Category is Selected ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image36.png))</span></span>


<span data-ttu-id="31fcc-167">[![Si se elige una categoría diferente muestra los productos de la categoría nueva](master-detail-filtering-with-two-dropdownlists-vb/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-167">[![Choosing a Different Category Displays the New Category's Products](master-detail-filtering-with-two-dropdownlists-vb/_static/image38.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image37.png)</span></span>

<span data-ttu-id="31fcc-168">**Figura 13**: elegir un diferentes pantallas de categoría productos a la nueva categoría ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-168">**Figure 13**: Choosing a Different Category Displays the New Category's Products ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image39.png))</span></span>


<span data-ttu-id="31fcc-169">Actualmente el `productsByCategory` DropDownList, si se cambian, *no* provocado un postback.</span><span class="sxs-lookup"><span data-stu-id="31fcc-169">Currently the `productsByCategory` DropDownList, when changed, does *not* cause a postback.</span></span> <span data-ttu-id="31fcc-170">Sin embargo, queremos una devolución de datos que se produzca una vez que se agrega un DetailsView para ver los detalles del producto seleccionado (paso 3).</span><span class="sxs-lookup"><span data-stu-id="31fcc-170">However, we will want a postback to occur once we add a DetailsView to display the selected product's details (Step 3).</span></span> <span data-ttu-id="31fcc-171">Por lo tanto, active la casilla de verificación Habilitar AutoPostBack desde la `productsByCategory` etiqueta inteligente de DropDownList.</span><span class="sxs-lookup"><span data-stu-id="31fcc-171">Therefore, check the Enable AutoPostBack checkbox from the `productsByCategory` DropDownList's smart tag.</span></span>


<span data-ttu-id="31fcc-172">[![Habilitar la característica de AutoPostBack para el productsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-172">[![Enable the AutoPostBack Feature for the productsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image41.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image40.png)</span></span>

<span data-ttu-id="31fcc-173">**Figura 14**: habilitar la característica de AutoPostBack para la `productsByCategory` DropDownList ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-173">**Figure 14**: Enable the AutoPostBack Feature for the `productsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image42.png))</span></span>


## <a name="step-3-using-a-detailsview-to-display-details-for-the-selected-product"></a><span data-ttu-id="31fcc-174">Paso 3: Usar DetailsView para mostrar detalles del producto seleccionado</span><span class="sxs-lookup"><span data-stu-id="31fcc-174">Step 3: Using a DetailsView to Display Details for the Selected Product</span></span>

<span data-ttu-id="31fcc-175">Es el último paso mostrar los detalles del producto seleccionado en un DetailsView.</span><span class="sxs-lookup"><span data-stu-id="31fcc-175">The final step is to display the details for the selected product in a DetailsView.</span></span> <span data-ttu-id="31fcc-176">Para lograr esto, agregue un DetailsView a la página, establezca su `ID` propiedad `ProductDetails`y crear un nuevo origen ObjectDataSource para él.</span><span class="sxs-lookup"><span data-stu-id="31fcc-176">To accomplish this, add a DetailsView to the page, set its `ID` property to `ProductDetails`, and create a new ObjectDataSource for it.</span></span> <span data-ttu-id="31fcc-177">Configurar este ObjectDataSource para extraer los datos de la `ProductsBLL` la clase `GetProductByProductID(productID)` método utilizando el valor seleccionado de la `ProductsByCategory` DropDownList para el valor de la *`productID`* parámetro.</span><span class="sxs-lookup"><span data-stu-id="31fcc-177">Configure this ObjectDataSource to pull its data from the `ProductsBLL` class's `GetProductByProductID(productID)` method using the selected value of the `ProductsByCategory` DropDownList for the value of the *`productID`* parameter.</span></span>


<span data-ttu-id="31fcc-178">[![Elija usar la clase ProductsBLL](master-detail-filtering-with-two-dropdownlists-vb/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-178">[![Choose to Use the ProductsBLL Class](master-detail-filtering-with-two-dropdownlists-vb/_static/image44.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image43.png)</span></span>

<span data-ttu-id="31fcc-179">**Figura 15**: optar por usar la `ProductsBLL` clase ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-179">**Figure 15**: Choose to Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image45.png))</span></span>


<span data-ttu-id="31fcc-180">[![Configurar el ObjectDataSource para utilizar el método GetProductByProductID(productID)](master-detail-filtering-with-two-dropdownlists-vb/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-180">[![Configure the ObjectDataSource to Use the GetProductByProductID(productID) Method](master-detail-filtering-with-two-dropdownlists-vb/_static/image47.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image46.png)</span></span>

<span data-ttu-id="31fcc-181">**Figura 16**: configurar el ObjectDataSource que se utilizan los `GetProductByProductID(productID)` método ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image48.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-181">**Figure 16**: Configure the ObjectDataSource to Use the `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image48.png))</span></span>


<span data-ttu-id="31fcc-182">[![Extraer el valor del parámetro productID de ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-182">[![Pull the productID Parameter Value from the ProductsByCategory DropDownList](master-detail-filtering-with-two-dropdownlists-vb/_static/image50.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image49.png)</span></span>

<span data-ttu-id="31fcc-183">**Figura 17**: extraer el *`productID`* valor del parámetro de la `ProductsByCategory` DropDownList ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image51.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-183">**Figure 17**: Pull the *`productID`* Parameter Value from the `ProductsByCategory` DropDownList ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image51.png))</span></span>


<span data-ttu-id="31fcc-184">Puede mostrar cualquiera de los campos disponibles en la `ProductDetails` DetailsView.</span><span class="sxs-lookup"><span data-stu-id="31fcc-184">You can choose to display any of the available fields in the `ProductDetails` DetailsView.</span></span> <span data-ttu-id="31fcc-185">He optado por eliminar la `ProductID`, `SupplierID`, y `CategoryID` campos y cambiar el orden y con el formato de los campos restantes.</span><span class="sxs-lookup"><span data-stu-id="31fcc-185">I've opted to remove the `ProductID`, `SupplierID`, and `CategoryID` fields and reordered and formatted the remaining fields.</span></span> <span data-ttu-id="31fcc-186">Además, ha retirado la DetailsView `Height` y `Width` propiedades, lo que permite la DetailsView expandir el ancho necesario para mostrar mejor sus datos en lugar de tener limitada a un tamaño especificado.</span><span class="sxs-lookup"><span data-stu-id="31fcc-186">In addition, I cleared out the DetailsView's `Height` and `Width` properties, allowing the DetailsView to expand to the width needed to best display its data rather than having it constrained to a specified size.</span></span> <span data-ttu-id="31fcc-187">El marcado completo aparece a continuación:</span><span class="sxs-lookup"><span data-stu-id="31fcc-187">The full markup appears below:</span></span>


[!code-aspx[Main](master-detail-filtering-with-two-dropdownlists-vb/samples/sample1.aspx)]

<span data-ttu-id="31fcc-188">Tómese un momento para probar la `MasterDetailsDetails.aspx` página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="31fcc-188">Take a moment to try out the `MasterDetailsDetails.aspx` page in a browser.</span></span> <span data-ttu-id="31fcc-189">A primera vista puede parecer que todo funciona según sea necesario, pero no hay un pequeño problema.</span><span class="sxs-lookup"><span data-stu-id="31fcc-189">At first glance it may appear that everything is working as desired, but there's a subtle problem.</span></span> <span data-ttu-id="31fcc-190">Cuando se elige una nueva categoría la `ProductsByCategory` DropDownList se actualiza para incluir los productos de la categoría seleccionada, pero la `ProductDetails` DetailsView continuó a mostrar la información de producto anterior.</span><span class="sxs-lookup"><span data-stu-id="31fcc-190">When you choose a new category the `ProductsByCategory` DropDownList is updated to include those products for the selected category, but the `ProductDetails` DetailsView continued to show the previous product information.</span></span> <span data-ttu-id="31fcc-191">DetailsView se actualiza cuando se elige un producto diferente para la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="31fcc-191">The DetailsView is updated when choosing a different product for the selected category.</span></span> <span data-ttu-id="31fcc-192">Además, si probar exhaustivamente suficientemente, encontrará que si elige continuamente nuevas categorías (por ejemplo, elegir bebidas desde el `Categories` DropDownList y, a continuación, condimentos, a continuación, repostería) cada selección de la categoría hace que la `ProductDetails`DetailsView que actualizarse.</span><span class="sxs-lookup"><span data-stu-id="31fcc-192">Furthermore, if you test thoroughly enough, you'll find that if you continually choose new categories (such as choosing Beverages from the `Categories` DropDownList, then Condiments, then Confections) every other category selection causes the `ProductDetails` DetailsView to be refreshed.</span></span>

<span data-ttu-id="31fcc-193">Con el fin de concretar este problema, echemos un vistazo a un ejemplo concreto.</span><span class="sxs-lookup"><span data-stu-id="31fcc-193">To help concretize this problem, let's look at a specific example.</span></span> <span data-ttu-id="31fcc-194">Cuando visite la página por primera vez, se selecciona la categoría bebidas y los productos relacionados se cargan en el `ProductsByCategory` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="31fcc-194">When you first visit the page the Beverages category is selected and the related products are loaded in the `ProductsByCategory` DropDownList.</span></span> <span data-ttu-id="31fcc-195">Chai es el producto seleccionado y sus detalles se muestran en la `ProductDetails` DetailsView, tal como se muestra en la figura 18.</span><span class="sxs-lookup"><span data-stu-id="31fcc-195">Chai is the selected product and its details are displayed in the `ProductDetails` DetailsView, as shown in Figure 18.</span></span>


<span data-ttu-id="31fcc-196">[![Detalles del producto seleccionado se muestran en un DetailsView](master-detail-filtering-with-two-dropdownlists-vb/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-196">[![The Selected Product's Details are Displayed in a DetailsView](master-detail-filtering-with-two-dropdownlists-vb/_static/image53.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image52.png)</span></span>

<span data-ttu-id="31fcc-197">**Figura 18**: detalles de la seleccionada del producto se muestran en un DetailsView ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image54.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-197">**Figure 18**: The Selected Product's Details are Displayed in a DetailsView ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image54.png))</span></span>


<span data-ttu-id="31fcc-198">Si cambia la selección de la categoría de bebidas en condimentos, se produce un postback y `ProductsByCategory` DropDownList se actualiza en consecuencia, pero el DetailsView aún muestra detalles de Chai.</span><span class="sxs-lookup"><span data-stu-id="31fcc-198">If you change the category selection from Beverages to Condiments, a postback occurs and the `ProductsByCategory` DropDownList is updated accordingly, but the DetailsView still displays details for Chai.</span></span>


<span data-ttu-id="31fcc-199">[![Detalles de previamente seleccionada del producto son sigue mostrando](master-detail-filtering-with-two-dropdownlists-vb/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-199">[![The Previously Selected Product's Details are Still Displayed](master-detail-filtering-with-two-dropdownlists-vb/_static/image56.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image55.png)</span></span>

<span data-ttu-id="31fcc-200">**Figura 19**: detalles de la previamente seleccionada del producto son sigue mostrando ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image57.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-200">**Figure 19**: The Previously Selected Product's Details are Still Displayed ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image57.png))</span></span>


<span data-ttu-id="31fcc-201">Un nuevo producto en la lista de selección actualiza DetailsView según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="31fcc-201">Picking a new product from the list refreshes the DetailsView as expected.</span></span> <span data-ttu-id="31fcc-202">Si se elige una categoría nueva después de cambiar el producto, DetailsView nuevo no actualiza.</span><span class="sxs-lookup"><span data-stu-id="31fcc-202">If you pick a new category after changing the product, the DetailsView again won't refresh.</span></span> <span data-ttu-id="31fcc-203">Sin embargo, si selecciona una nueva categoría en lugar de elegir un nuevo producto, podría actualizar DetailsView.</span><span class="sxs-lookup"><span data-stu-id="31fcc-203">However, if instead of choosing a new product you selected a new category, the DetailsView would refresh.</span></span> <span data-ttu-id="31fcc-204">¿Que en el mundo está sucediendo aquí?</span><span class="sxs-lookup"><span data-stu-id="31fcc-204">What in the world is going on here?</span></span>

<span data-ttu-id="31fcc-205">El problema es un problema de tiempo de ciclo de vida de la página.</span><span class="sxs-lookup"><span data-stu-id="31fcc-205">The problem is a timing issue in the page's lifecycle.</span></span> <span data-ttu-id="31fcc-206">Cada vez que se solicita una página pasa a través de una serie de pasos como su representación.</span><span class="sxs-lookup"><span data-stu-id="31fcc-206">Whenever a page is requested it proceeds through a number of steps as its rendering.</span></span> <span data-ttu-id="31fcc-207">En uno de estos pasos ObjectDataSource controla Compruebe si alguno de sus `SelectParameters` valores han cambiado.</span><span class="sxs-lookup"><span data-stu-id="31fcc-207">In one of these steps the ObjectDataSource controls check to see if any of their `SelectParameters` values have changed.</span></span> <span data-ttu-id="31fcc-208">Si es así, el control Web de datos enlazado a ObjectDataSource sabe que necesita actualizar su presentación.</span><span class="sxs-lookup"><span data-stu-id="31fcc-208">If so, the data Web control bound to the ObjectDataSource knows that it needs to refresh its display.</span></span> <span data-ttu-id="31fcc-209">Por ejemplo, cuando se selecciona una nueva categoría, el `ProductsByCategoryDataSource` ObjectDataSource detecta que han cambiado sus valores de parámetro y el `ProductsByCategory` DropDownList, vuelve a enlazar, obtener los productos para la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="31fcc-209">For example, when a new category is selected, the `ProductsByCategoryDataSource` ObjectDataSource detects that its parameter values have changed and the `ProductsByCategory` DropDownList rebinds itself, getting the products for the selected category.</span></span>

<span data-ttu-id="31fcc-210">El problema que surge en esta situación es que se produce el punto en el ciclo de vida de la página que el ObjectDataSources buscan parámetros modificados *antes de* volver a enlazar los controles Web de datos asociados.</span><span class="sxs-lookup"><span data-stu-id="31fcc-210">The problem that arises in this situation is that the point in the page lifecycle that the ObjectDataSources check for changed parameters occurs *before* the rebinding of the associated data Web controls.</span></span> <span data-ttu-id="31fcc-211">Por lo tanto, al seleccionar una nueva categoría la `ProductsByCategoryDataSource` ObjectDataSource detecta un cambio en el valor del parámetro.</span><span class="sxs-lookup"><span data-stu-id="31fcc-211">Therefore, when selecting a new category the `ProductsByCategoryDataSource` ObjectDataSource detects a change in its parameter's value.</span></span> <span data-ttu-id="31fcc-212">ObjectDataSource utilizado por el `ProductDetails` DetailsView, sin embargo, no tenga en cuenta los cambios porque el `ProductsByCategory` DropDownList aún no se vuelve a enlazar.</span><span class="sxs-lookup"><span data-stu-id="31fcc-212">The ObjectDataSource used by the `ProductDetails` DetailsView, however, doesn't note any such changes because the `ProductsByCategory` DropDownList has yet to be rebound.</span></span> <span data-ttu-id="31fcc-213">Más adelante en el ciclo de vida del `ProductsByCategory` DropDownList, vuelve a enlazar a su ObjectDataSource, arrastrar los productos para la categoría recién seleccionada.</span><span class="sxs-lookup"><span data-stu-id="31fcc-213">Later in the lifecycle the `ProductsByCategory` DropDownList rebinds to its ObjectDataSource, grabbing the products for the newly selected category.</span></span> <span data-ttu-id="31fcc-214">Mientras el `ProductsByCategory` ha cambiado el valor de DropDownList, el `ProductDetails` ObjectDataSource de DetailsView ya ha realizado la comprobación del valor de parámetro; por lo tanto, DetailsView muestra los resultados anteriores.</span><span class="sxs-lookup"><span data-stu-id="31fcc-214">While the `ProductsByCategory` DropDownList's value has changed, the `ProductDetails` DetailsView's ObjectDataSource has already done its parameter value check; therefore, the DetailsView displays its previous results.</span></span> <span data-ttu-id="31fcc-215">Esta interacción se representa en la figura 20.</span><span class="sxs-lookup"><span data-stu-id="31fcc-215">This interaction is depicted in Figure 20.</span></span>


<span data-ttu-id="31fcc-216">[![Cambia el valor de ProductsByCategory DropDownList después ObjectDataSource de ProductDetails DetailsView comprueba los cambios](master-detail-filtering-with-two-dropdownlists-vb/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-216">[![The ProductsByCategory DropDownList Value Changes After the ProductDetails DetailsView's ObjectDataSource Checks for Changes](master-detail-filtering-with-two-dropdownlists-vb/_static/image59.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image58.png)</span></span>

<span data-ttu-id="31fcc-217">**Figura 20**: el `ProductsByCategory` DropDownList valor cambios tras la `ProductDetails` ObjectDataSource comprueba de DetailsView los cambios ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image60.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-217">**Figure 20**: The `ProductsByCategory` DropDownList Value Changes After the `ProductDetails` DetailsView's ObjectDataSource Checks for Changes ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image60.png))</span></span>


<span data-ttu-id="31fcc-218">Para solucionar esto es necesario volver a enlazar explícitamente el `ProductDetails` DetailsView después de la `ProductsByCategory` DropDownList se ha enlazado.</span><span class="sxs-lookup"><span data-stu-id="31fcc-218">To remedy this we need to explicitly rebind the `ProductDetails` DetailsView after the `ProductsByCategory` DropDownList has been bound.</span></span> <span data-ttu-id="31fcc-219">Podemos lograr esto mediante una llamada a la `ProductDetails` de DetailsView `DataBind()` método cuando el `ProductsByCategory` de DropDownList `DataBound` desencadena el evento.</span><span class="sxs-lookup"><span data-stu-id="31fcc-219">We can accomplish this by calling the `ProductDetails` DetailsView's `DataBind()` method when the `ProductsByCategory` DropDownList's `DataBound` event fires.</span></span> <span data-ttu-id="31fcc-220">Agregue el siguiente código de controlador de eventos para el `MasterDetailsDetails.aspx` clase de código subyacente de la página (hacen referencia a la "[establecer mediante programación los valores de parámetro de ObjectDataSource](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" para obtener una explicación sobre cómo agregar un controlador de eventos):</span><span class="sxs-lookup"><span data-stu-id="31fcc-220">Add the following event handler code to the `MasterDetailsDetails.aspx` page's code-behind class (refer to the "[Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)" for a discussion on how to add an event handler):</span></span>


[!code-vb[Main](master-detail-filtering-with-two-dropdownlists-vb/samples/sample2.vb)]

<span data-ttu-id="31fcc-221">Después de esta llamada explícita a la `ProductDetails` de DetailsView `DataBind()` se ha agregado el método, el tutorial funciona según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="31fcc-221">After this explicit call to the `ProductDetails` DetailsView's `DataBind()` method has been added, the tutorial works as expected.</span></span> <span data-ttu-id="31fcc-222">Aspectos destacados de figura 21 ¿cómo cambiado puede solucionar el problema anterior.</span><span class="sxs-lookup"><span data-stu-id="31fcc-222">Figure 21 highlights how this changed remedied our earlier problem.</span></span>


<span data-ttu-id="31fcc-223">[![ProductDetails DetailsView es desencadena el evento del explícitamente actualiza cuando el ProductsByCategory DropDownList enlace de datos](master-detail-filtering-with-two-dropdownlists-vb/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image61.png)</span><span class="sxs-lookup"><span data-stu-id="31fcc-223">[![The ProductDetails DetailsView is Explicitly Refreshed When the ProductsByCategory DropDownList's DataBound Event Fires](master-detail-filtering-with-two-dropdownlists-vb/_static/image62.png)](master-detail-filtering-with-two-dropdownlists-vb/_static/image61.png)</span></span>

<span data-ttu-id="31fcc-224">**Figura 21**: el `ProductDetails` DetailsView resulta explícitamente actualiza el `ProductsByCategory` del DropDownList `DataBound` desencadena el evento ([haga clic aquí para ver la imagen a tamaño completo](master-detail-filtering-with-two-dropdownlists-vb/_static/image63.png))</span><span class="sxs-lookup"><span data-stu-id="31fcc-224">**Figure 21**: The `ProductDetails` DetailsView is Explicitly Refreshed When the `ProductsByCategory` DropDownList's `DataBound` Event Fires ([Click to view full-size image](master-detail-filtering-with-two-dropdownlists-vb/_static/image63.png))</span></span>


## <a name="summary"></a><span data-ttu-id="31fcc-225">Resumen</span><span class="sxs-lookup"><span data-stu-id="31fcc-225">Summary</span></span>

<span data-ttu-id="31fcc-226">DropDownList sirve como un elemento de la interfaz de usuario ideal para los informes de maestro y detalles donde hay una relación uno a varios entre los registros maestro y detalles.</span><span class="sxs-lookup"><span data-stu-id="31fcc-226">The DropDownList serves as an ideal user interface element for master/detail reports where there is a one-to-many relationship between the master and detail records.</span></span> <span data-ttu-id="31fcc-227">En el tutorial anterior, hemos visto cómo usar un único DropDownList para filtrar los productos que se muestran en la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="31fcc-227">In the preceding tutorial we saw how to use a single DropDownList to filter the products displayed by the selected category.</span></span> <span data-ttu-id="31fcc-228">En este tutorial reemplazamos GridView de productos con un DropDownList y utiliza un DetailsView para mostrar los detalles del producto seleccionado.</span><span class="sxs-lookup"><span data-stu-id="31fcc-228">In this tutorial we replaced the GridView of products with a DropDownList, and used a DetailsView to display the details of the selected product.</span></span> <span data-ttu-id="31fcc-229">Los conceptos tratados en este tutorial se pueden extender con facilidad a los modelos de datos que implican varias relaciones de uno a varios, como clientes, pedidos y elementos del pedido.</span><span class="sxs-lookup"><span data-stu-id="31fcc-229">The concepts discussed in this tutorial can easily be extended to data models involving multiple one-to-many relationships, such as customers, orders, and order items.</span></span> <span data-ttu-id="31fcc-230">En general, siempre puede agregar un DropDownList para cada una de las entidades de "uno" de las relaciones de uno a varios.</span><span class="sxs-lookup"><span data-stu-id="31fcc-230">In general, you can always add a DropDownList for each of the "one" entities in the one-to-many relationships.</span></span>

<span data-ttu-id="31fcc-231">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="31fcc-231">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="31fcc-232">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="31fcc-232">About the Author</span></span>

<span data-ttu-id="31fcc-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de siete libros sobre ASP/ASP.NET y fundador de [4GuysFromRolla.com](http://www.4guysfromrolla.com), ha trabajado con las tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="31fcc-233">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="31fcc-234">Scott funciona como un consultor independiente, instructor y escritor.</span><span class="sxs-lookup"><span data-stu-id="31fcc-234">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="31fcc-235">Su último libro es [*SAM enseñar a usted mismo ASP.NET 2.0 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="31fcc-235">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="31fcc-236">Puede ponerse en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) o a través de su blog, que se pueden encontrar en [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="31fcc-236">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="31fcc-237">Agradecimientos especiales a</span><span class="sxs-lookup"><span data-stu-id="31fcc-237">Special Thanks To</span></span>

<span data-ttu-id="31fcc-238">Esta serie de tutoriales se revisó por varios revisores útiles.</span><span class="sxs-lookup"><span data-stu-id="31fcc-238">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="31fcc-239">Revisor inicial para este tutorial era Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="31fcc-239">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="31fcc-240">¿Está interesado en revisar mi próximos artículos MSDN?</span><span class="sxs-lookup"><span data-stu-id="31fcc-240">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="31fcc-241">Si es así, me quitar una línea en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="31fcc-241">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="31fcc-242">[Anterior](master-detail-filtering-with-a-dropdownlist-vb.md)
> [Siguiente](master-detail-filtering-across-two-pages-vb.md)</span><span class="sxs-lookup"><span data-stu-id="31fcc-242">[Previous](master-detail-filtering-with-a-dropdownlist-vb.md)
[Next](master-detail-filtering-across-two-pages-vb.md)</span></span>
