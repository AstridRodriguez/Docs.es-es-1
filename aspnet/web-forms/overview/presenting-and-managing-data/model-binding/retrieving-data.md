---
uid: web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
title: Recuperar y mostrar los datos con modelo de enlace y formularios web | Documentos de Microsoft
author: tfitzmac
description: Esta serie de tutoriales muestra los aspectos básicos del uso de enlace de modelos con un proyecto de formularios Web Forms de ASP.NET. Enlace de modelos hace interacción con los datos más directa-...
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/27/2014
ms.topic: article
ms.assetid: 9f24fb82-c7ac-48da-b8e2-51b3da17e365
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
msc.type: authoredcontent
ms.openlocfilehash: 26873efa5dbfdbdab39a52cfb9cfd5a65c8231a3
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/06/2018
---
<a name="retrieving-and-displaying-data-with-model-binding-and-web-forms"></a><span data-ttu-id="1f490-104">Recuperar y mostrar los datos con el enlace de modelos y formularios web forms</span><span class="sxs-lookup"><span data-stu-id="1f490-104">Retrieving and displaying data with model binding and web forms</span></span>
====================
<span data-ttu-id="1f490-105">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="1f490-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="1f490-106">Esta serie de tutoriales muestra los aspectos básicos del uso de enlace de modelos con un proyecto de formularios Web Forms de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1f490-106">This tutorial series demonstrates basic aspects of using model binding with an ASP.NET Web Forms project.</span></span> <span data-ttu-id="1f490-107">Enlace de modelos hace interacción con los datos más sencilla de trabajar con datos de objetos de origen (por ejemplo, ObjectDataSource o SqlDataSource).</span><span class="sxs-lookup"><span data-stu-id="1f490-107">Model binding makes data interaction more straight-forward than dealing with data source objects (such as ObjectDataSource or SqlDataSource).</span></span> <span data-ttu-id="1f490-108">Esta serie comienza con material introductorio y se mueve al conceptos más avanzados en tutoriales posteriores.</span><span class="sxs-lookup"><span data-stu-id="1f490-108">This series starts with introductory material and moves to more advanced concepts in later tutorials.</span></span>
> 
> <span data-ttu-id="1f490-109">El modelo de enlace funciona con cualquier tecnología de acceso a datos.</span><span class="sxs-lookup"><span data-stu-id="1f490-109">The model binding pattern works with any data access technology.</span></span> <span data-ttu-id="1f490-110">En este tutorial, va a usar Entity Framework, pero puede usar la tecnología de acceso a datos que le resulte más familiar.</span><span class="sxs-lookup"><span data-stu-id="1f490-110">In this tutorial, you will use Entity Framework, but you could use the data access technology that is most familiar to you.</span></span> <span data-ttu-id="1f490-111">Desde un control de servidor enlazado a datos, como un control ListView, GridView, DetailsView o FormView, especifique los nombres de los métodos que se utilizará para seleccionar, actualizar, eliminar y crear datos.</span><span class="sxs-lookup"><span data-stu-id="1f490-111">From a data-bound server control, such as a GridView, ListView, DetailsView, or FormView control, you specify the names of the methods to use for selecting, updating, deleting, and creating data.</span></span> <span data-ttu-id="1f490-112">En este tutorial, especifique un valor para el SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="1f490-112">In this tutorial, you will specify a value for the SelectMethod.</span></span>
> 
> <span data-ttu-id="1f490-113">Dentro de ese método, proporcionar la lógica para recuperar los datos.</span><span class="sxs-lookup"><span data-stu-id="1f490-113">Within that method, you provide the logic for retrieving the data.</span></span> <span data-ttu-id="1f490-114">En el siguiente tutorial, establecerá valores para UpdateMethod, DeleteMethod y InsertMethod.</span><span class="sxs-lookup"><span data-stu-id="1f490-114">In the next tutorial, you will set values for UpdateMethod, DeleteMethod and InsertMethod.</span></span>
> 
> <span data-ttu-id="1f490-115">También puede [descargar](https://go.microsoft.com/fwlink/?LinkId=286116) el proyecto completo en C# o VB.</span><span class="sxs-lookup"><span data-stu-id="1f490-115">You can [download](https://go.microsoft.com/fwlink/?LinkId=286116) the complete project in C# or VB.</span></span> <span data-ttu-id="1f490-116">El código que se puede descargar funciona con Visual Studio 2012 o Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="1f490-116">The downloadable code works with either Visual Studio 2012 or Visual Studio 2013.</span></span> <span data-ttu-id="1f490-117">Utiliza la plantilla de Visual Studio 2012, que es ligeramente diferente de la plantilla de Visual Studio 2013 que se muestra en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="1f490-117">It uses the Visual Studio 2012 template, which is slightly different than the Visual Studio 2013 template shown in this tutorial.</span></span>
> 
> <span data-ttu-id="1f490-118">En el tutorial se ejecute la aplicación en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="1f490-118">In the tutorial you run the application in Visual Studio.</span></span> <span data-ttu-id="1f490-119">También puede hacer la aplicación disponible a través de Internet mediante la implementación en un proveedor de hospedaje.</span><span class="sxs-lookup"><span data-stu-id="1f490-119">You can also make the application available over the Internet by deploying it to a hosting provider.</span></span> <span data-ttu-id="1f490-120">Microsoft ofrece el hospedaje web gratuito para hasta 10 sitios web en un</span><span class="sxs-lookup"><span data-stu-id="1f490-120">Microsoft offers free web hosting for up to 10 web sites in a</span></span>  
>  <span data-ttu-id="1f490-121">[liberar la cuenta de prueba de Azure](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span><span class="sxs-lookup"><span data-stu-id="1f490-121">[free Azure trial account](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span></span> <span data-ttu-id="1f490-122">Para obtener información sobre cómo implementar un proyecto web de Visual Studio para aplicaciones de Web del servicio de aplicación de Azure, consulte la [implementación de Web de ASP.NET con Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) serie.</span><span class="sxs-lookup"><span data-stu-id="1f490-122">For information about how to deploy a Visual Studio web project to Azure App Service Web Apps, see the [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) series.</span></span> <span data-ttu-id="1f490-123">Este tutorial también muestra cómo usar migraciones de Entity Framework Code First para implementar la base de datos de SQL Server en la base de datos de SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="1f490-123">That tutorial also shows how to use Entity Framework Code First Migrations to deploy your SQL Server database to Azure SQL Database.</span></span>
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="1f490-124">Versiones de software que se usa en el tutorial</span><span class="sxs-lookup"><span data-stu-id="1f490-124">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="1f490-125">Microsoft Visual Studio 2013 o Microsoft Visual Studio Express 2013 para Web</span><span class="sxs-lookup"><span data-stu-id="1f490-125">Microsoft Visual Studio 2013 or Microsoft Visual Studio Express 2013 for Web</span></span>
>   
> 
> <span data-ttu-id="1f490-126">Este tutorial también funciona con Visual Studio 2012, pero habrá algunas diferencias en la plantilla de proyecto y la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="1f490-126">This tutorial also works with Visual Studio 2012 but there will be some differences in the user interface and project template.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="1f490-127">Lo que vamos a compilar</span><span class="sxs-lookup"><span data-stu-id="1f490-127">What you'll build</span></span>

<span data-ttu-id="1f490-128">En este tutorial, deberá:</span><span class="sxs-lookup"><span data-stu-id="1f490-128">In this tutorial, you'll:</span></span>

1. <span data-ttu-id="1f490-129">Generar objetos de datos que reflejan una universidad con los alumnos inscritos en cursos</span><span class="sxs-lookup"><span data-stu-id="1f490-129">Build data objects that reflect a university with students enrolled in courses</span></span>
2. <span data-ttu-id="1f490-130">Crear tablas de base de datos de los objetos</span><span class="sxs-lookup"><span data-stu-id="1f490-130">Build database tables from the objects</span></span>
3. <span data-ttu-id="1f490-131">Rellenar la base de datos con datos de prueba</span><span class="sxs-lookup"><span data-stu-id="1f490-131">Populate the database with test data</span></span>
4. <span data-ttu-id="1f490-132">Mostrar datos en un formulario web Forms</span><span class="sxs-lookup"><span data-stu-id="1f490-132">Display data in a web form</span></span>

## <a name="set-up-project"></a><span data-ttu-id="1f490-133">Configurar el proyecto</span><span class="sxs-lookup"><span data-stu-id="1f490-133">Set up project</span></span>

<span data-ttu-id="1f490-134">En Visual Studio 2013, cree un nuevo **aplicación Web ASP.NET** llama **ContosoUniversityModelBinding**.</span><span class="sxs-lookup"><span data-stu-id="1f490-134">In Visual Studio 2013, create a new **ASP.NET Web Application** called **ContosoUniversityModelBinding**.</span></span>

![Crear proyecto](retrieving-data/_static/image2.png)

<span data-ttu-id="1f490-136">Seleccione la plantilla de formularios Web Forms y dejar el resto de opciones predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="1f490-136">Select the Web Forms template, and leave the other default options.</span></span> <span data-ttu-id="1f490-137">Haga clic en Aceptar para configurar el proyecto.</span><span class="sxs-lookup"><span data-stu-id="1f490-137">Click OK to setup the project.</span></span>

![Seleccione los formularios web forms](retrieving-data/_static/image3.png)

<span data-ttu-id="1f490-139">En primer lugar, deberá tomar un par de pequeños cambios para personalizar la apariencia del sitio.</span><span class="sxs-lookup"><span data-stu-id="1f490-139">First, you will make a couple of small changes to customize the appearance of the site.</span></span> <span data-ttu-id="1f490-140">Abra la **Site.Master** archivo y cambie el título para incluir la Universidad de Contoso en lugar de mi aplicación ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1f490-140">Open the **Site.Master** file, and change the title to include Contoso University instead of My ASP.NET Application.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample1.aspx?highlight=1)]

<span data-ttu-id="1f490-141">A continuación, cambie el texto del encabezado de **nombre de la aplicación** a **Contoso Universidad**.</span><span class="sxs-lookup"><span data-stu-id="1f490-141">Then, change the header text from **Application name** to **Contoso University**.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample2.aspx?highlight=7)]

<span data-ttu-id="1f490-142">También en Site.Master, cambie los vínculos de navegación que aparecen en el encabezado para reflejar las páginas que son relevantes para este sitio.</span><span class="sxs-lookup"><span data-stu-id="1f490-142">Also in Site.Master, change the navigation links that appear in the header to reflect the pages that are relevant to this site.</span></span> <span data-ttu-id="1f490-143">No necesitará cualquiera el **sobre** página o **póngase en contacto con** por lo que se pueden quitar los vínculos de página.</span><span class="sxs-lookup"><span data-stu-id="1f490-143">You will not need either the **About** page or the **Contact** page so those links can be removed.</span></span> <span data-ttu-id="1f490-144">En su lugar, necesitará un vínculo a una página denominada **estudiantes**.</span><span class="sxs-lookup"><span data-stu-id="1f490-144">Instead, you will need a link to a page called **Students**.</span></span> <span data-ttu-id="1f490-145">Esta página aún no se ha creado.</span><span class="sxs-lookup"><span data-stu-id="1f490-145">This page has not been created yet.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample3.aspx)]

<span data-ttu-id="1f490-146">Guarde y cierre Site.Master.</span><span class="sxs-lookup"><span data-stu-id="1f490-146">Save and close Site.Master.</span></span>

<span data-ttu-id="1f490-147">Ahora, creará el formulario web Forms para mostrar los datos de los alumnos.</span><span class="sxs-lookup"><span data-stu-id="1f490-147">Now, you'll create the web form for displaying student data.</span></span> <span data-ttu-id="1f490-148">Haga clic en el proyecto, y **agregar** una **nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="1f490-148">Right-click your project, and **Add** a **New Item**.</span></span> <span data-ttu-id="1f490-149">Seleccione el **formulario Web con página maestra** plantilla y asígnele el nombre **Students.aspx**.</span><span class="sxs-lookup"><span data-stu-id="1f490-149">Select the **Web Form with Master Page** template, and name it **Students.aspx**.</span></span>

![Crear página](retrieving-data/_static/image5.png)

<span data-ttu-id="1f490-151">Seleccione **Site.Master** como la página maestra para el nuevo formulario web.</span><span class="sxs-lookup"><span data-stu-id="1f490-151">Select **Site.Master** as the master page for the new web form.</span></span>

## <a name="create-the-data-models-and-database"></a><span data-ttu-id="1f490-152">Crear la base de datos y modelos de datos</span><span class="sxs-lookup"><span data-stu-id="1f490-152">Create the data models and database</span></span>

<span data-ttu-id="1f490-153">Migraciones de Code First usará para crear objetos y las tablas de base de datos correspondiente.</span><span class="sxs-lookup"><span data-stu-id="1f490-153">You will use Code First Migrations to create objects and the corresponding database tables.</span></span> <span data-ttu-id="1f490-154">Estas tablas almacenará información acerca de los alumnos y sus cursos.</span><span class="sxs-lookup"><span data-stu-id="1f490-154">These tables will store information about the students and their courses.</span></span>

<span data-ttu-id="1f490-155">En la carpeta Models, agregue una nueva clase denominada **UniversityModels.cs**.</span><span class="sxs-lookup"><span data-stu-id="1f490-155">In the Models folder, add a new class named **UniversityModels.cs**.</span></span>

![Crear clase de modelo](retrieving-data/_static/image7.png)

<span data-ttu-id="1f490-157">En este archivo, defina las clases SchoolContext, estudiantes, inscripción y curso como sigue:</span><span class="sxs-lookup"><span data-stu-id="1f490-157">In this file, define the SchoolContext, Student, Enrollment, and Course classes as follows:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample4.cs)]

<span data-ttu-id="1f490-158">La clase SchoolContext se deriva de DbContext, que administra la conexión de base de datos y los cambios en los datos.</span><span class="sxs-lookup"><span data-stu-id="1f490-158">The SchoolContext class derives from DbContext, which manages the database connection and changes in the data.</span></span>

<span data-ttu-id="1f490-159">En la clase Student, observe los atributos que se han aplicado a la **FirstName**, **LastName**, y **año** propiedades.</span><span class="sxs-lookup"><span data-stu-id="1f490-159">In the Student class, notice the attributes that have been applied to the **FirstName**, **LastName**, and **Year** properties.</span></span> <span data-ttu-id="1f490-160">Estos atributos se usará para la validación de datos en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="1f490-160">These attributes will be used for data validation in this tutorial.</span></span> <span data-ttu-id="1f490-161">Para simplificar el código para este proyecto de demostración, estas propiedades se han marcado con atributos de validación de datos.</span><span class="sxs-lookup"><span data-stu-id="1f490-161">To simplify the code for this demonstration project, only these properties were marked with data-validation attributes.</span></span> <span data-ttu-id="1f490-162">En un proyecto real, se aplicaría atributos de validación para todas las propiedades que se deben validados datos, como propiedades en las clases de curso e inscripción.</span><span class="sxs-lookup"><span data-stu-id="1f490-162">In a real project, you would apply validation attributes to all properties that need validated data, such as properties in the Enrollment and Course classes.</span></span>

<span data-ttu-id="1f490-163">Save UniversityModels.cs.</span><span class="sxs-lookup"><span data-stu-id="1f490-163">Save UniversityModels.cs.</span></span>

<span data-ttu-id="1f490-164">Utilizará las herramientas de migraciones de Code First para configurar una base de datos basado en estas clases.</span><span class="sxs-lookup"><span data-stu-id="1f490-164">You will use the tools for Code First Migrations to set up a database based on these classes.</span></span>

<span data-ttu-id="1f490-165">En **Package Manager Console**, ejecute el comando:</span><span class="sxs-lookup"><span data-stu-id="1f490-165">In **Package Manager Console**, run the command:</span></span>  
`enable-migrations -ContextTypeName ContosoUniversityModelBinding.Models.SchoolContext`

<span data-ttu-id="1f490-166">Si el comando se completa correctamente, recibirá un mensaje que indica que se han habilitado las migraciones,</span><span class="sxs-lookup"><span data-stu-id="1f490-166">If the command completes successfully you will receive a message stating migrations have been enabled,</span></span>

![habilitar las migraciones](retrieving-data/_static/image8.png)

<span data-ttu-id="1f490-168">Tenga en cuenta que un nuevo archivo denominado **archivo Configuration.cs que** se ha creado.</span><span class="sxs-lookup"><span data-stu-id="1f490-168">Notice that a new file named **Configuration.cs** has been created.</span></span> <span data-ttu-id="1f490-169">En Visual Studio, este archivo se abre automáticamente después de crearlo.</span><span class="sxs-lookup"><span data-stu-id="1f490-169">In Visual Studio, this file is automatically opened after it is created.</span></span> <span data-ttu-id="1f490-170">La clase de configuración contiene un **inicialización** método que permite rellenar previamente las tablas de base de datos con datos de prueba.</span><span class="sxs-lookup"><span data-stu-id="1f490-170">The Configuration class contains a **Seed** method which enables you to pre-populate the database tables with test data.</span></span>

<span data-ttu-id="1f490-171">Agregue el código siguiente al método de inicialización.</span><span class="sxs-lookup"><span data-stu-id="1f490-171">Add the following code to the Seed method.</span></span> <span data-ttu-id="1f490-172">Debe agregar una **con** instrucción para el **ContosoUniversityModelBinding.Models** espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="1f490-172">You'll need to add a **using** statement for the **ContosoUniversityModelBinding.Models** namespace.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample5.cs)]

<span data-ttu-id="1f490-173">Guarde el archivo Configuration.cs que.</span><span class="sxs-lookup"><span data-stu-id="1f490-173">Save Configuration.cs.</span></span>

<span data-ttu-id="1f490-174">En la consola de administrador de paquetes, ejecute el comando `add-migration initial`.</span><span class="sxs-lookup"><span data-stu-id="1f490-174">In the Package Manager Console, run the command `add-migration initial`.</span></span>

<span data-ttu-id="1f490-175">A continuación, ejecute el comando `update-database`.</span><span class="sxs-lookup"><span data-stu-id="1f490-175">Then, run the command `update-database`.</span></span>

<span data-ttu-id="1f490-176">Si recibe una excepción cuando se ejecuta este comando, es posible que los valores de StudentID y CourseID han variado desde los valores en el método de inicialización.</span><span class="sxs-lookup"><span data-stu-id="1f490-176">If you receive an exception when running this command, it is possible that the values for StudentID and CourseID have varied from the values in the Seed method.</span></span> <span data-ttu-id="1f490-177">Abra las tablas en la base de datos y busque los valores existentes de StudentID y CourseID.</span><span class="sxs-lookup"><span data-stu-id="1f490-177">Open those tables in the database and find existing values for StudentID and CourseID.</span></span> <span data-ttu-id="1f490-178">Agregue esos valores en el código para la propagación de la tabla de inscripciones.</span><span class="sxs-lookup"><span data-stu-id="1f490-178">Add those values in the code for seeding the Enrollments table.</span></span>

<span data-ttu-id="1f490-179">Se ha agregado el archivo de base de datos, pero está oculto actualmente en el proyecto.</span><span class="sxs-lookup"><span data-stu-id="1f490-179">The database file has been added, but it is currently hidden in the project.</span></span> <span data-ttu-id="1f490-180">Haga clic en **mostrar todos los archivos** para mostrar el archivo.</span><span class="sxs-lookup"><span data-stu-id="1f490-180">Click **Show All Files** to display the file.</span></span>

![Mostrar todos los archivos](retrieving-data/_static/image10.png)

<span data-ttu-id="1f490-182">Observe que el archivo .mdf aparece ahora en la aplicación\_carpeta de datos.</span><span class="sxs-lookup"><span data-stu-id="1f490-182">Notice the .mdf file now appears in the App\_Data folder.</span></span>

![archivo de base de datos](retrieving-data/_static/image12.png)

<span data-ttu-id="1f490-184">Haga doble clic en el archivo .mdf y abra el Explorador de servidores.</span><span class="sxs-lookup"><span data-stu-id="1f490-184">Double-click the .mdf file and open the Server Explorer.</span></span> <span data-ttu-id="1f490-185">Las tablas ahora existen y se rellenan con datos.</span><span class="sxs-lookup"><span data-stu-id="1f490-185">The tables now exist and are populated with data.</span></span>

![tablas de bases de datos](retrieving-data/_static/image14.png)

## <a name="display-data-from-students-and-related-tables"></a><span data-ttu-id="1f490-187">Mostrar los datos de los estudiantes y las tablas relacionadas</span><span class="sxs-lookup"><span data-stu-id="1f490-187">Display data from Students and related tables</span></span>

<span data-ttu-id="1f490-188">Con los datos en la base de datos, ya está listo para recuperar los datos y mostrarlos en una página web.</span><span class="sxs-lookup"><span data-stu-id="1f490-188">With data in the database, you are now ready to retrieve that data and display it in a web page.</span></span> <span data-ttu-id="1f490-189">Usará un **GridView** control para mostrar los datos en filas y columnas.</span><span class="sxs-lookup"><span data-stu-id="1f490-189">You will use a **GridView** control to display the data in columns and rows.</span></span>

<span data-ttu-id="1f490-190">Abra Students.aspx y busque el **MainContent** marcador de posición.</span><span class="sxs-lookup"><span data-stu-id="1f490-190">Open Students.aspx, and locate the **MainContent** placeholder.</span></span> <span data-ttu-id="1f490-191">Dentro de ese marcador de posición, agregue un **GridView** control que incluye el código siguiente.</span><span class="sxs-lookup"><span data-stu-id="1f490-191">Within that placeholder, add a **GridView** control that includes the following code.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample6.aspx)]

<span data-ttu-id="1f490-192">Hay un par de conceptos importantes en este código de marcado para el que debe tener en cuenta.</span><span class="sxs-lookup"><span data-stu-id="1f490-192">There are a couple of important concepts in this markup code for you to notice.</span></span> <span data-ttu-id="1f490-193">En primer lugar, tenga en cuenta que se establece un valor para el **SelectMethod** propiedad en el elemento de GridView.</span><span class="sxs-lookup"><span data-stu-id="1f490-193">First, notice that a value is set for the **SelectMethod** property in the GridView element.</span></span> <span data-ttu-id="1f490-194">Este valor especifica el nombre del método que se utiliza para recuperar los datos del control GridView.</span><span class="sxs-lookup"><span data-stu-id="1f490-194">This value specifies the name of the method that is used for retrieving data for the GridView.</span></span> <span data-ttu-id="1f490-195">Este método creará en el paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="1f490-195">You will create this method in the next step.</span></span> <span data-ttu-id="1f490-196">En segundo lugar, tenga en cuenta que la **ItemType** propiedad se establece en la clase de estudiante que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="1f490-196">Second, notice that the **ItemType** property is set to the Student class that you created earlier.</span></span> <span data-ttu-id="1f490-197">Al establecer este valor, puede hacer referencia a las propiedades de dicha clase en el código de marcado.</span><span class="sxs-lookup"><span data-stu-id="1f490-197">By setting this value, you can refer to properties of that class in the markup code.</span></span> <span data-ttu-id="1f490-198">Por ejemplo, la clase Student contiene una colección con el nombre de inscripciones.</span><span class="sxs-lookup"><span data-stu-id="1f490-198">For example, the Student class contains a collection named Enrollments.</span></span> <span data-ttu-id="1f490-199">Puede usar **Item.Enrollments** para recuperar esa colección y, a continuación, utilice la sintaxis LINQ para recuperar la suma de créditos inscritos para cada alumno.</span><span class="sxs-lookup"><span data-stu-id="1f490-199">You can use **Item.Enrollments** to retrieve that collection and then use LINQ syntax to retrieve the sum of enrolled credits for each student.</span></span>

<span data-ttu-id="1f490-200">En el archivo de código subyacente, debe agregar el método que se especifica para el **SelectMethod** valor.</span><span class="sxs-lookup"><span data-stu-id="1f490-200">In the code-behind file, you need to add the method that is specified for the **SelectMethod** value.</span></span> <span data-ttu-id="1f490-201">Abra **Students.aspx.cs**y agregue **con** instrucciones para la **ContosoUniversityModelBinding.Models** y **System.Data.Entity**los espacios de nombres.</span><span class="sxs-lookup"><span data-stu-id="1f490-201">Open **Students.aspx.cs**, and add **using** statements for the **ContosoUniversityModelBinding.Models** and **System.Data.Entity** namespaces.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample7.cs)]

<span data-ttu-id="1f490-202">A continuación, agregue el método siguiente.</span><span class="sxs-lookup"><span data-stu-id="1f490-202">Then, add the following method.</span></span> <span data-ttu-id="1f490-203">Tenga en cuenta que el nombre de este método coincide con el nombre proporcionado para SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="1f490-203">Notice that the name of this method matches the name you provided for SelectMethod.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample8.cs)]

<span data-ttu-id="1f490-204">El **Include** cláusula mejora el rendimiento de esta consulta, pero no es esencial para la consulta para que funcione.</span><span class="sxs-lookup"><span data-stu-id="1f490-204">The **Include** clause improves the performance of this query but is not essential for the query to work.</span></span> <span data-ttu-id="1f490-205">Sin la cláusula Include, los datos se recuperan mediante la carga diferida, lo que implica el envío de que una consulta independiente para la base de datos relacionados de cada vez que se recuperan los datos.</span><span class="sxs-lookup"><span data-stu-id="1f490-205">Without the Include clause, the data would be retrieved using lazy loading, which involves sending a separate query to the database each time related data is retrieved.</span></span> <span data-ttu-id="1f490-206">Al proporcionar la cláusula Include, los datos se recuperan con carga diligente, lo que significa que se recuperen todos los datos relacionados mediante una única consulta de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="1f490-206">By providing the Include clause, the data is retrieved using eager loading, which means all of the related data is retrieved through a single query of the database.</span></span> <span data-ttu-id="1f490-207">En casos donde la mayoría de los datos relacionados no es puede ser utilizada, diligente carga puede ser menos eficiente porque se recuperan más datos.</span><span class="sxs-lookup"><span data-stu-id="1f490-207">In cases where most of the related data is not be used, eager loading can be less efficient because more data is retrieved.</span></span> <span data-ttu-id="1f490-208">Sin embargo, en este caso, carga diligente proporciona el mejor rendimiento porque los datos relacionados se muestran para cada registro.</span><span class="sxs-lookup"><span data-stu-id="1f490-208">However, in this case, eager loading provides the best performance because the related data is displayed for each record.</span></span>

<span data-ttu-id="1f490-209">Para obtener más información acerca de consideraciones sobre el rendimiento al cargar los datos relacionados, vea la sección titulada **Lazy, diligente y explícitas de carga de datos relacionados** en el [leer los datos relacionados con Entity Framework en un ASP Aplicación de MVC .NET](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) tema.</span><span class="sxs-lookup"><span data-stu-id="1f490-209">For more information about performance consideration when loading related data, see the section titled **Lazy, Eager, and Explicit Loading of Related Data** in the [Reading Related Data with the Entity Framework in an ASP.NET MVC Application](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) topic.</span></span>

<span data-ttu-id="1f490-210">De forma predeterminada, los datos se ordenan por los valores de la propiedad marcada como la clave.</span><span class="sxs-lookup"><span data-stu-id="1f490-210">By default, the data is sorted by the values of the property marked as the key.</span></span> <span data-ttu-id="1f490-211">Puede agregar una cláusula OrderBy para especificar un valor diferente para la ordenación.</span><span class="sxs-lookup"><span data-stu-id="1f490-211">You can add an OrderBy clause to specify a different value for sorting.</span></span> <span data-ttu-id="1f490-212">En este ejemplo, la propiedad de StudentID predeterminada se utiliza para ordenar.</span><span class="sxs-lookup"><span data-stu-id="1f490-212">In this example, the default StudentID property is used for sorting.</span></span> <span data-ttu-id="1f490-213">En el [ordenación, paginación y filtrado de datos](sorting-paging-and-filtering-data.md) tema, permitirá al usuario seleccionar una columna para ordenar.</span><span class="sxs-lookup"><span data-stu-id="1f490-213">In the [Sorting, Paging, and Filtering Data](sorting-paging-and-filtering-data.md) topic, you will enable the user to select a column for sorting.</span></span>

<span data-ttu-id="1f490-214">Ejecutar la aplicación web y navegue a la página de los alumnos.</span><span class="sxs-lookup"><span data-stu-id="1f490-214">Run your web application, and navigate to the Students page.</span></span> <span data-ttu-id="1f490-215">La página de los estudiantes que muestra la siguiente información de estudiantes.</span><span class="sxs-lookup"><span data-stu-id="1f490-215">The Students page displays the following student information.</span></span>

![Mostrar datos](retrieving-data/_static/image16.png)

## <a name="automatic-generation-of-model-binding-methods"></a><span data-ttu-id="1f490-217">Generación automática de los métodos de enlace de modelo</span><span class="sxs-lookup"><span data-stu-id="1f490-217">Automatic generation of model binding methods</span></span>

<span data-ttu-id="1f490-218">Cuando se trabaja a través de esta serie de tutoriales, simplemente copie el código del tutorial al proyecto.</span><span class="sxs-lookup"><span data-stu-id="1f490-218">When working through this tutorial series, you can simply copy the code from the tutorial to your project.</span></span> <span data-ttu-id="1f490-219">Sin embargo, una desventaja de este enfoque es que puede no conocen la existencia de la característica proporcionada por Visual Studio para generar automáticamente código para los métodos de enlace de modelos.</span><span class="sxs-lookup"><span data-stu-id="1f490-219">However, one disadvantage of this approach is that you may not become aware of the feature provided by Visual Studio to automatically generate code for model binding methods.</span></span> <span data-ttu-id="1f490-220">Cuando se trabaja en sus propios proyectos, generación automática de código puede ahorrarle tiempo y ayudarle a obtener una idea de cómo implementar una operación.</span><span class="sxs-lookup"><span data-stu-id="1f490-220">When working on your own projects, automatic code generation can save you time and help you gain a sense of how to implement an operation.</span></span> <span data-ttu-id="1f490-221">Esta sección describe la característica de generación automática de código.</span><span class="sxs-lookup"><span data-stu-id="1f490-221">This section describes the automatic code generation feature.</span></span> <span data-ttu-id="1f490-222">Esta sección solo es informativa y no contiene ningún código que se debe implementar en el proyecto.</span><span class="sxs-lookup"><span data-stu-id="1f490-222">This section is only informational and does not contain any code you need to implement in your project.</span></span>

<span data-ttu-id="1f490-223">Al establecer un valor para el **SelectMethod**, **UpdateMethod**, **InsertMethod**, o **DeleteMethod** propiedades en el código de marcado Puede seleccionar la **crear nuevo método** opción.</span><span class="sxs-lookup"><span data-stu-id="1f490-223">When setting a value for the **SelectMethod**, **UpdateMethod**, **InsertMethod**, or **DeleteMethod** properties in the markup code, you can select the **Create New Method** option.</span></span>

![Crear nuevo método](retrieving-data/_static/image18.png)

<span data-ttu-id="1f490-225">Visual Studio no solo crea un método en el código subyacente con la firma correcta, sino que también genera código de implementación que le ayudarán a realizar la operación.</span><span class="sxs-lookup"><span data-stu-id="1f490-225">Visual Studio not only creates a method in the code-behind with the proper signature, but also generates implementation code to assist you with performing the operation.</span></span> <span data-ttu-id="1f490-226">Si se establece primero la **ItemType** propiedad antes de usar la característica de generación automática de código, el código generado utilizará ese tipo para las operaciones.</span><span class="sxs-lookup"><span data-stu-id="1f490-226">If you first set the **ItemType** property before using the automatic code generation feature, the generated code will use that type for the operations.</span></span> <span data-ttu-id="1f490-227">Por ejemplo, al establecer la propiedad UpdateMethod, automáticamente se genera el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="1f490-227">For example, when setting the UpdateMethod property, the following code is automatically generated:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample9.cs)]

<span data-ttu-id="1f490-228">Una vez más, el código anterior no deben agregarse al proyecto.</span><span class="sxs-lookup"><span data-stu-id="1f490-228">Again, the above code does not need to be added to your project.</span></span> <span data-ttu-id="1f490-229">En el tutorial siguiente, se implementarán métodos para actualizar, eliminar y agregar datos nuevos.</span><span class="sxs-lookup"><span data-stu-id="1f490-229">In the next tutorial, you will implement methods for updating, deleting and adding new data.</span></span>

## <a name="conclusion"></a><span data-ttu-id="1f490-230">Conclusión</span><span class="sxs-lookup"><span data-stu-id="1f490-230">Conclusion</span></span>

<span data-ttu-id="1f490-231">En este tutorial, ha creado clases del modelo de datos y genera una base de datos a partir de esas clases.</span><span class="sxs-lookup"><span data-stu-id="1f490-231">In this tutorial, you created data model classes and generated a database from those classes.</span></span> <span data-ttu-id="1f490-232">Rellena las tablas de base de datos con datos de prueba.</span><span class="sxs-lookup"><span data-stu-id="1f490-232">You filled the database tables with test data.</span></span> <span data-ttu-id="1f490-233">Usa el enlace de modelos para recuperar datos de la base de datos y, a continuación, muestra los datos en un control GridView.</span><span class="sxs-lookup"><span data-stu-id="1f490-233">You used model binding to retrieve data from the database, and then displayed the data in a GridView.</span></span>

<span data-ttu-id="1f490-234">En la siguiente [tutorial](updating-deleting-and-creating-data.md) de esta serie, le permitirá actualizar, eliminar y crear datos.</span><span class="sxs-lookup"><span data-stu-id="1f490-234">In the next [tutorial](updating-deleting-and-creating-data.md) in this series, you will enable updating, deleting, and creating data.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="1f490-235">Siguiente</span><span class="sxs-lookup"><span data-stu-id="1f490-235">Next</span></span>](updating-deleting-and-creating-data.md)
