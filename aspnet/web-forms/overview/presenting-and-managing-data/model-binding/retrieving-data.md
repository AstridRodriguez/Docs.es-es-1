---
uid: web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
title: Recuperar y mostrar datos con formularios web y el enlace de modelos | Microsoft Docs
author: Rick-Anderson
description: Esta serie de tutoriales muestra los aspectos básicos del uso de enlace de modelos con un proyecto de formularios Web Forms de ASP.NET. Enlace de modelos permite interactuar con los datos más sencilla de...
ms.author: riande
ms.date: 02/27/2014
ms.assetid: 9f24fb82-c7ac-48da-b8e2-51b3da17e365
msc.legacyurl: /web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
msc.type: authoredcontent
ms.openlocfilehash: b05f3780d7c4e4734b35c0d9377a89d6f3edb0f8
ms.sourcegitcommit: 2d3e5422d530203efdaf2014d1d7df31f88d08d0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/05/2018
ms.locfileid: "51021344"
---
<a name="retrieving-and-displaying-data-with-model-binding-and-web-forms"></a><span data-ttu-id="175f7-104">Recuperar y mostrar datos con enlace de modelos y formularios web forms</span><span class="sxs-lookup"><span data-stu-id="175f7-104">Retrieving and displaying data with model binding and web forms</span></span>
====================
<span data-ttu-id="175f7-105">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="175f7-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="175f7-106">Esta serie de tutoriales muestra los aspectos básicos del uso de enlace de modelos con un proyecto de formularios Web Forms de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="175f7-106">This tutorial series demonstrates basic aspects of using model binding with an ASP.NET Web Forms project.</span></span> <span data-ttu-id="175f7-107">Enlace de modelos permite interactuar con los datos más sencilla de tratar con datos de objetos de origen (como ObjectDataSource o SqlDataSource).</span><span class="sxs-lookup"><span data-stu-id="175f7-107">Model binding makes data interaction more straight-forward than dealing with data source objects (such as ObjectDataSource or SqlDataSource).</span></span> <span data-ttu-id="175f7-108">Esta serie comienza con material introductorio y mueve a conceptos más avanzados en los tutoriales posteriores.</span><span class="sxs-lookup"><span data-stu-id="175f7-108">This series starts with introductory material and moves to more advanced concepts in later tutorials.</span></span>
> 
> <span data-ttu-id="175f7-109">El patrón de enlace modelo funciona con cualquier tecnología de acceso a datos.</span><span class="sxs-lookup"><span data-stu-id="175f7-109">The model binding pattern works with any data access technology.</span></span> <span data-ttu-id="175f7-110">En este tutorial, va a usar Entity Framework, pero podría usar la tecnología de acceso a datos que le resulte más familiar.</span><span class="sxs-lookup"><span data-stu-id="175f7-110">In this tutorial, you will use Entity Framework, but you could use the data access technology that is most familiar to you.</span></span> <span data-ttu-id="175f7-111">Desde un control de servidor enlazado a datos, como un control ListView, GridView, DetailsView o FormView, especifique los nombres de los métodos que se usará para seleccionar, actualizar, eliminar y crear datos.</span><span class="sxs-lookup"><span data-stu-id="175f7-111">From a data-bound server control, such as a GridView, ListView, DetailsView, or FormView control, you specify the names of the methods to use for selecting, updating, deleting, and creating data.</span></span> <span data-ttu-id="175f7-112">En este tutorial, especificará un valor para el SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="175f7-112">In this tutorial, you will specify a value for the SelectMethod.</span></span>
> 
> <span data-ttu-id="175f7-113">Dentro de ese método, proporcionan la lógica para recuperar los datos.</span><span class="sxs-lookup"><span data-stu-id="175f7-113">Within that method, you provide the logic for retrieving the data.</span></span> <span data-ttu-id="175f7-114">En el siguiente tutorial, establecerá los valores para UpdateMethod, InsertMethod y la DeleteMethod.</span><span class="sxs-lookup"><span data-stu-id="175f7-114">In the next tutorial, you will set values for UpdateMethod, DeleteMethod and InsertMethod.</span></span>
> 
> <span data-ttu-id="175f7-115">También puede [descargar](https://go.microsoft.com/fwlink/?LinkId=286116) el proyecto completo en C# o VB.</span><span class="sxs-lookup"><span data-stu-id="175f7-115">You can [download](https://go.microsoft.com/fwlink/?LinkId=286116) the complete project in C# or VB.</span></span> <span data-ttu-id="175f7-116">El código descargable funciona con Visual Studio 2012 o Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="175f7-116">The downloadable code works with either Visual Studio 2012 or Visual Studio 2013.</span></span> <span data-ttu-id="175f7-117">Usa la plantilla de Visual Studio 2012, que es ligeramente diferente de la plantilla de Visual Studio 2013 que se muestra en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="175f7-117">It uses the Visual Studio 2012 template, which is slightly different than the Visual Studio 2013 template shown in this tutorial.</span></span>
> 
> <span data-ttu-id="175f7-118">En el tutorial para ejecutar la aplicación en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="175f7-118">In the tutorial you run the application in Visual Studio.</span></span> <span data-ttu-id="175f7-119">Se puede también que la aplicación esté disponible a través de Internet mediante su implementación en un proveedor de hospedaje.</span><span class="sxs-lookup"><span data-stu-id="175f7-119">You can also make the application available over the Internet by deploying it to a hosting provider.</span></span> <span data-ttu-id="175f7-120">Microsoft ofrece hospedaje web gratuito para hasta 10 sitios web en un</span><span class="sxs-lookup"><span data-stu-id="175f7-120">Microsoft offers free web hosting for up to 10 web sites in a</span></span>  
>  <span data-ttu-id="175f7-121">[cuenta de evaluación de Azure gratuita](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span><span class="sxs-lookup"><span data-stu-id="175f7-121">[free Azure trial account](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span></span> <span data-ttu-id="175f7-122">Para obtener información acerca de cómo implementar un proyecto web de Visual Studio en Azure App Service Web Apps, consulte el [implementación Web de ASP.NET con Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) serie.</span><span class="sxs-lookup"><span data-stu-id="175f7-122">For information about how to deploy a Visual Studio web project to Azure App Service Web Apps, see the [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) series.</span></span> <span data-ttu-id="175f7-123">Este tutorial también muestra cómo usar migraciones de Entity Framework Code First para implementar la base de datos de SQL Server en Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="175f7-123">That tutorial also shows how to use Entity Framework Code First Migrations to deploy your SQL Server database to Azure SQL Database.</span></span>
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="175f7-124">Versiones de software que se usa en el tutorial</span><span class="sxs-lookup"><span data-stu-id="175f7-124">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="175f7-125">Microsoft Visual Studio 2013 o Microsoft Visual Studio Express 2013 para Web</span><span class="sxs-lookup"><span data-stu-id="175f7-125">Microsoft Visual Studio 2013 or Microsoft Visual Studio Express 2013 for Web</span></span>
>   
> 
> <span data-ttu-id="175f7-126">Este tutorial también funciona con Visual Studio 2012, pero habrá algunas diferencias en la plantilla de proyecto y la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="175f7-126">This tutorial also works with Visual Studio 2012 but there will be some differences in the user interface and project template.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="175f7-127">¿Qué va a crear</span><span class="sxs-lookup"><span data-stu-id="175f7-127">What you'll build</span></span>

<span data-ttu-id="175f7-128">En este tutorial, necesitará:</span><span class="sxs-lookup"><span data-stu-id="175f7-128">In this tutorial, you'll:</span></span>

1. <span data-ttu-id="175f7-129">Generar objetos de datos que reflejan una universidad con los estudiantes matriculados en cursos</span><span class="sxs-lookup"><span data-stu-id="175f7-129">Build data objects that reflect a university with students enrolled in courses</span></span>
2. <span data-ttu-id="175f7-130">Crear tablas de base de datos de los objetos</span><span class="sxs-lookup"><span data-stu-id="175f7-130">Build database tables from the objects</span></span>
3. <span data-ttu-id="175f7-131">Rellenar la base de datos con datos de prueba</span><span class="sxs-lookup"><span data-stu-id="175f7-131">Populate the database with test data</span></span>
4. <span data-ttu-id="175f7-132">Mostrar datos en un formulario web Forms</span><span class="sxs-lookup"><span data-stu-id="175f7-132">Display data in a web form</span></span>

## <a name="set-up-project"></a><span data-ttu-id="175f7-133">Configuración de proyecto</span><span class="sxs-lookup"><span data-stu-id="175f7-133">Set up project</span></span>

<span data-ttu-id="175f7-134">En Visual Studio 2013, cree un nuevo **aplicación Web ASP.NET** llamado **ContosoUniversityModelBinding**.</span><span class="sxs-lookup"><span data-stu-id="175f7-134">In Visual Studio 2013, create a new **ASP.NET Web Application** called **ContosoUniversityModelBinding**.</span></span>

![Crear proyecto](retrieving-data/_static/image2.png)

<span data-ttu-id="175f7-136">Seleccione la plantilla de formularios Web Forms y deje las demás opciones de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="175f7-136">Select the Web Forms template, and leave the other default options.</span></span> <span data-ttu-id="175f7-137">Haga clic en Aceptar para el proyecto de instalación.</span><span class="sxs-lookup"><span data-stu-id="175f7-137">Click OK to setup the project.</span></span>

![Seleccione los formularios web forms](retrieving-data/_static/image3.png)

<span data-ttu-id="175f7-139">En primer lugar, hará que un par de pequeños cambios para personalizar la apariencia del sitio.</span><span class="sxs-lookup"><span data-stu-id="175f7-139">First, you will make a couple of small changes to customize the appearance of the site.</span></span> <span data-ttu-id="175f7-140">Abra el **Site.Master** de archivo y cambie el título para incluir Contoso University en lugar de mi aplicación ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="175f7-140">Open the **Site.Master** file, and change the title to include Contoso University instead of My ASP.NET Application.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample1.aspx?highlight=1)]

<span data-ttu-id="175f7-141">A continuación, cambie el texto del encabezado de **nombre de la aplicación** a **Contoso University**.</span><span class="sxs-lookup"><span data-stu-id="175f7-141">Then, change the header text from **Application name** to **Contoso University**.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample2.aspx?highlight=7)]

<span data-ttu-id="175f7-142">También en Site.Master, cambie los vínculos de navegación que aparecen en el encabezado para reflejar las páginas que son relevantes para este sitio.</span><span class="sxs-lookup"><span data-stu-id="175f7-142">Also in Site.Master, change the navigation links that appear in the header to reflect the pages that are relevant to this site.</span></span> <span data-ttu-id="175f7-143">No necesitará cualquiera el **sobre** página o el **póngase en contacto con** para esos vínculos se pueden quitar de la página.</span><span class="sxs-lookup"><span data-stu-id="175f7-143">You will not need either the **About** page or the **Contact** page so those links can be removed.</span></span> <span data-ttu-id="175f7-144">En su lugar, tendrá un vínculo a una página denominada **estudiantes**.</span><span class="sxs-lookup"><span data-stu-id="175f7-144">Instead, you will need a link to a page called **Students**.</span></span> <span data-ttu-id="175f7-145">Esta página aún no se ha creado.</span><span class="sxs-lookup"><span data-stu-id="175f7-145">This page has not been created yet.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample3.aspx)]

<span data-ttu-id="175f7-146">Guarde y cierre Site.Master.</span><span class="sxs-lookup"><span data-stu-id="175f7-146">Save and close Site.Master.</span></span>

<span data-ttu-id="175f7-147">Ahora, creará el formulario web Forms para mostrar los datos de estudiante.</span><span class="sxs-lookup"><span data-stu-id="175f7-147">Now, you'll create the web form for displaying student data.</span></span> <span data-ttu-id="175f7-148">Haga clic en el proyecto, y **agregar** un **nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="175f7-148">Right-click your project, and **Add** a **New Item**.</span></span> <span data-ttu-id="175f7-149">Seleccione el **formulario Web Forms con página maestra** plantilla y asígnele el nombre **Students.aspx**.</span><span class="sxs-lookup"><span data-stu-id="175f7-149">Select the **Web Form with Master Page** template, and name it **Students.aspx**.</span></span>

![Crear página](retrieving-data/_static/image5.png)

<span data-ttu-id="175f7-151">Seleccione **Site.Master** como la página maestra para el nuevo formulario web.</span><span class="sxs-lookup"><span data-stu-id="175f7-151">Select **Site.Master** as the master page for the new web form.</span></span>

## <a name="create-the-data-models-and-database"></a><span data-ttu-id="175f7-152">Crear la base de datos y modelos de datos</span><span class="sxs-lookup"><span data-stu-id="175f7-152">Create the data models and database</span></span>

<span data-ttu-id="175f7-153">Usará migraciones de Code First para crear objetos y las tablas de base de datos correspondiente.</span><span class="sxs-lookup"><span data-stu-id="175f7-153">You will use Code First Migrations to create objects and the corresponding database tables.</span></span> <span data-ttu-id="175f7-154">Estas tablas almacena información acerca de los alumnos y sus cursos.</span><span class="sxs-lookup"><span data-stu-id="175f7-154">These tables will store information about the students and their courses.</span></span>

<span data-ttu-id="175f7-155">En la carpeta Models, agregue una nueva clase denominada **UniversityModels.cs**.</span><span class="sxs-lookup"><span data-stu-id="175f7-155">In the Models folder, add a new class named **UniversityModels.cs**.</span></span>

![Crear clase de modelo](retrieving-data/_static/image7.png)

<span data-ttu-id="175f7-157">En este archivo, defina las clases SchoolContext, estudiantes, inscripción y curso como sigue:</span><span class="sxs-lookup"><span data-stu-id="175f7-157">In this file, define the SchoolContext, Student, Enrollment, and Course classes as follows:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample4.cs)]

<span data-ttu-id="175f7-158">La clase SchoolContext se deriva de DbContext, que administra la conexión de base de datos y los cambios en los datos.</span><span class="sxs-lookup"><span data-stu-id="175f7-158">The SchoolContext class derives from DbContext, which manages the database connection and changes in the data.</span></span>

<span data-ttu-id="175f7-159">En la clase Student, observe los atributos que se han aplicado a la **FirstName**, **LastName**, y **año** propiedades.</span><span class="sxs-lookup"><span data-stu-id="175f7-159">In the Student class, notice the attributes that have been applied to the **FirstName**, **LastName**, and **Year** properties.</span></span> <span data-ttu-id="175f7-160">Estos atributos se usará para la validación de datos en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="175f7-160">These attributes will be used for data validation in this tutorial.</span></span> <span data-ttu-id="175f7-161">Para simplificar el código para este proyecto de demostración, estas propiedades se marcaron con atributos de validación de datos.</span><span class="sxs-lookup"><span data-stu-id="175f7-161">To simplify the code for this demonstration project, only these properties were marked with data-validation attributes.</span></span> <span data-ttu-id="175f7-162">En un proyecto real, los atributos de validación se aplicaría a todas las propiedades que necesitan los datos validados, como las propiedades en las clases de inscripción y curso.</span><span class="sxs-lookup"><span data-stu-id="175f7-162">In a real project, you would apply validation attributes to all properties that need validated data, such as properties in the Enrollment and Course classes.</span></span>

<span data-ttu-id="175f7-163">Guardar UniversityModels.cs.</span><span class="sxs-lookup"><span data-stu-id="175f7-163">Save UniversityModels.cs.</span></span>

<span data-ttu-id="175f7-164">Utilizará las herramientas para migraciones de Code First para configurar una base de datos basado en estas clases.</span><span class="sxs-lookup"><span data-stu-id="175f7-164">You will use the tools for Code First Migrations to set up a database based on these classes.</span></span>

<span data-ttu-id="175f7-165">En **Package Manager Console**, ejecute el comando:</span><span class="sxs-lookup"><span data-stu-id="175f7-165">In **Package Manager Console**, run the command:</span></span>  
`enable-migrations -ContextTypeName ContosoUniversityModelBinding.Models.SchoolContext`

<span data-ttu-id="175f7-166">Si el comando se completa correctamente, recibirá un mensaje que indica que se han habilitado las migraciones,</span><span class="sxs-lookup"><span data-stu-id="175f7-166">If the command completes successfully you will receive a message stating migrations have been enabled,</span></span>

![Habilitación de migraciones](retrieving-data/_static/image8.png)

<span data-ttu-id="175f7-168">Tenga en cuenta que un nuevo archivo denominado **Configuration.cs** se ha creado.</span><span class="sxs-lookup"><span data-stu-id="175f7-168">Notice that a new file named **Configuration.cs** has been created.</span></span> <span data-ttu-id="175f7-169">En Visual Studio, este archivo se abre automáticamente después de crearlo.</span><span class="sxs-lookup"><span data-stu-id="175f7-169">In Visual Studio, this file is automatically opened after it is created.</span></span> <span data-ttu-id="175f7-170">La clase de configuración contiene un **inicialización** método que permite rellenar previamente las tablas de base de datos con datos de prueba.</span><span class="sxs-lookup"><span data-stu-id="175f7-170">The Configuration class contains a **Seed** method which enables you to pre-populate the database tables with test data.</span></span>

<span data-ttu-id="175f7-171">Agregue el código siguiente al método de inicialización.</span><span class="sxs-lookup"><span data-stu-id="175f7-171">Add the following code to the Seed method.</span></span> <span data-ttu-id="175f7-172">Deberá agregar un **mediante** instrucción para el **ContosoUniversityModelBinding.Models** espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="175f7-172">You'll need to add a **using** statement for the **ContosoUniversityModelBinding.Models** namespace.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample5.cs)]

<span data-ttu-id="175f7-173">Guardar Configuration.cs.</span><span class="sxs-lookup"><span data-stu-id="175f7-173">Save Configuration.cs.</span></span>

<span data-ttu-id="175f7-174">En la consola de administrador de paquetes, ejecute el comando `add-migration initial`.</span><span class="sxs-lookup"><span data-stu-id="175f7-174">In the Package Manager Console, run the command `add-migration initial`.</span></span>

<span data-ttu-id="175f7-175">A continuación, ejecute el comando `update-database`.</span><span class="sxs-lookup"><span data-stu-id="175f7-175">Then, run the command `update-database`.</span></span>

<span data-ttu-id="175f7-176">Si recibe una excepción al ejecutar este comando, es posible que los valores de StudentID y CourseID han variado desde los valores en el método de inicialización.</span><span class="sxs-lookup"><span data-stu-id="175f7-176">If you receive an exception when running this command, it is possible that the values for StudentID and CourseID have varied from the values in the Seed method.</span></span> <span data-ttu-id="175f7-177">Abra esas tablas en la base de datos y busque los valores existentes de StudentID y CourseID.</span><span class="sxs-lookup"><span data-stu-id="175f7-177">Open those tables in the database and find existing values for StudentID and CourseID.</span></span> <span data-ttu-id="175f7-178">Agregue esos valores en el código para la propagación de la tabla de inscripciones.</span><span class="sxs-lookup"><span data-stu-id="175f7-178">Add those values in the code for seeding the Enrollments table.</span></span>

<span data-ttu-id="175f7-179">Se ha agregado el archivo de base de datos, pero actualmente está oculto en el proyecto.</span><span class="sxs-lookup"><span data-stu-id="175f7-179">The database file has been added, but it is currently hidden in the project.</span></span> <span data-ttu-id="175f7-180">Haga clic en **mostrar todos los archivos** para mostrar el archivo.</span><span class="sxs-lookup"><span data-stu-id="175f7-180">Click **Show All Files** to display the file.</span></span>

![Mostrar todos los archivos](retrieving-data/_static/image10.png)

<span data-ttu-id="175f7-182">Observe que el archivo .mdf aparece ahora en la aplicación\_carpeta de datos.</span><span class="sxs-lookup"><span data-stu-id="175f7-182">Notice the .mdf file now appears in the App\_Data folder.</span></span>

![archivo de base de datos](retrieving-data/_static/image12.png)

<span data-ttu-id="175f7-184">Haga doble clic en el archivo .mdf y abra el Explorador de servidores.</span><span class="sxs-lookup"><span data-stu-id="175f7-184">Double-click the .mdf file and open the Server Explorer.</span></span> <span data-ttu-id="175f7-185">Las tablas ya existen y se rellenan con datos.</span><span class="sxs-lookup"><span data-stu-id="175f7-185">The tables now exist and are populated with data.</span></span>

![tablas de bases de datos](retrieving-data/_static/image14.png)

## <a name="display-data-from-students-and-related-tables"></a><span data-ttu-id="175f7-187">Mostrar los datos de los estudiantes y las tablas relacionadas</span><span class="sxs-lookup"><span data-stu-id="175f7-187">Display data from Students and related tables</span></span>

<span data-ttu-id="175f7-188">Con datos de la base de datos, ahora está listo para recuperar los datos y mostrarlos en una página web.</span><span class="sxs-lookup"><span data-stu-id="175f7-188">With data in the database, you are now ready to retrieve that data and display it in a web page.</span></span> <span data-ttu-id="175f7-189">Usará un **GridView** control para mostrar los datos en filas y columnas.</span><span class="sxs-lookup"><span data-stu-id="175f7-189">You will use a **GridView** control to display the data in columns and rows.</span></span>

<span data-ttu-id="175f7-190">Abra Students.aspx y busque el **MainContent** marcador de posición.</span><span class="sxs-lookup"><span data-stu-id="175f7-190">Open Students.aspx, and locate the **MainContent** placeholder.</span></span> <span data-ttu-id="175f7-191">Dentro de ese marcador de posición, agregue un **GridView** control que incluye el código siguiente.</span><span class="sxs-lookup"><span data-stu-id="175f7-191">Within that placeholder, add a **GridView** control that includes the following code.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample6.aspx)]

<span data-ttu-id="175f7-192">Hay un par de conceptos importantes en este código de marcado para que tenga en cuenta.</span><span class="sxs-lookup"><span data-stu-id="175f7-192">There are a couple of important concepts in this markup code for you to notice.</span></span> <span data-ttu-id="175f7-193">En primer lugar, tenga en cuenta que se establece un valor para el **SelectMethod** propiedad en el elemento GridView.</span><span class="sxs-lookup"><span data-stu-id="175f7-193">First, notice that a value is set for the **SelectMethod** property in the GridView element.</span></span> <span data-ttu-id="175f7-194">Este valor especifica el nombre del método que se usa para recuperar datos del control GridView.</span><span class="sxs-lookup"><span data-stu-id="175f7-194">This value specifies the name of the method that is used for retrieving data for the GridView.</span></span> <span data-ttu-id="175f7-195">Este método se creará en el paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="175f7-195">You will create this method in the next step.</span></span> <span data-ttu-id="175f7-196">En segundo lugar, tenga en cuenta que el **ItemType** propiedad está establecida en la clase Student que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="175f7-196">Second, notice that the **ItemType** property is set to the Student class that you created earlier.</span></span> <span data-ttu-id="175f7-197">Al establecer este valor, se puede hacer referencia a las propiedades de dicha clase en el código de marcado.</span><span class="sxs-lookup"><span data-stu-id="175f7-197">By setting this value, you can refer to properties of that class in the markup code.</span></span> <span data-ttu-id="175f7-198">Por ejemplo, la clase Student contiene una colección denominada inscripciones.</span><span class="sxs-lookup"><span data-stu-id="175f7-198">For example, the Student class contains a collection named Enrollments.</span></span> <span data-ttu-id="175f7-199">Puede usar **Item.Enrollments** para recuperar esa colección y, a continuación, utilice la sintaxis LINQ para recuperar la suma de créditos inscritos para cada alumno.</span><span class="sxs-lookup"><span data-stu-id="175f7-199">You can use **Item.Enrollments** to retrieve that collection and then use LINQ syntax to retrieve the sum of enrolled credits for each student.</span></span>

<span data-ttu-id="175f7-200">En el archivo de código subyacente, deberá agregar el método que se ha especificado para el **SelectMethod** valor.</span><span class="sxs-lookup"><span data-stu-id="175f7-200">In the code-behind file, you need to add the method that is specified for the **SelectMethod** value.</span></span> <span data-ttu-id="175f7-201">Abra **Students.aspx.cs**y agregue **mediante** instrucciones para la **ContosoUniversityModelBinding.Models** y **System.Data.Entity**espacios de nombres.</span><span class="sxs-lookup"><span data-stu-id="175f7-201">Open **Students.aspx.cs**, and add **using** statements for the **ContosoUniversityModelBinding.Models** and **System.Data.Entity** namespaces.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample7.cs)]

<span data-ttu-id="175f7-202">A continuación, agregue el siguiente método.</span><span class="sxs-lookup"><span data-stu-id="175f7-202">Then, add the following method.</span></span> <span data-ttu-id="175f7-203">Tenga en cuenta que el nombre de este método coincide con el nombre proporcionado para SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="175f7-203">Notice that the name of this method matches the name you provided for SelectMethod.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample8.cs)]

<span data-ttu-id="175f7-204">El **Include** cláusula mejora el rendimiento de esta consulta, pero no es esencial para la consulta para que funcione.</span><span class="sxs-lookup"><span data-stu-id="175f7-204">The **Include** clause improves the performance of this query but is not essential for the query to work.</span></span> <span data-ttu-id="175f7-205">Sin la cláusula Include, se recuperan los datos mediante la carga diferida, lo que implica el envío de que una consulta independiente para la base de datos cada vez relacionados se recuperan los datos.</span><span class="sxs-lookup"><span data-stu-id="175f7-205">Without the Include clause, the data would be retrieved using lazy loading, which involves sending a separate query to the database each time related data is retrieved.</span></span> <span data-ttu-id="175f7-206">Al proporcionar la cláusula Include, los datos se recuperan mediante la carga diligente, lo que significa que todos los datos relacionados se recuperan a través de una sola consulta de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="175f7-206">By providing the Include clause, the data is retrieved using eager loading, which means all of the related data is retrieved through a single query of the database.</span></span> <span data-ttu-id="175f7-207">En casos donde la mayoría de los datos relacionados es que no sea la carga diligente, utilizada puede ser menos eficiente porque se recuperan más datos.</span><span class="sxs-lookup"><span data-stu-id="175f7-207">In cases where most of the related data is not be used, eager loading can be less efficient because more data is retrieved.</span></span> <span data-ttu-id="175f7-208">Sin embargo, en este caso, la carga diligente proporciona el mejor rendimiento porque los datos relacionados se muestran para cada registro.</span><span class="sxs-lookup"><span data-stu-id="175f7-208">However, in this case, eager loading provides the best performance because the related data is displayed for each record.</span></span>

<span data-ttu-id="175f7-209">Para obtener más información acerca de la consideración de rendimiento al cargar los datos relacionados, vea la sección titulada **explícita de carga de datos relacionados, diligente y diferida** en el [leer los datos relacionados con Entity Framework en un ASP Aplicación de MVC de .NET](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) tema.</span><span class="sxs-lookup"><span data-stu-id="175f7-209">For more information about performance consideration when loading related data, see the section titled **Lazy, Eager, and Explicit Loading of Related Data** in the [Reading Related Data with the Entity Framework in an ASP.NET MVC Application](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) topic.</span></span>

<span data-ttu-id="175f7-210">De forma predeterminada, los datos se ordenan por los valores de la propiedad marcada como la clave.</span><span class="sxs-lookup"><span data-stu-id="175f7-210">By default, the data is sorted by the values of the property marked as the key.</span></span> <span data-ttu-id="175f7-211">Puede agregar una cláusula OrderBy para especificar un valor diferente para la ordenación.</span><span class="sxs-lookup"><span data-stu-id="175f7-211">You can add an OrderBy clause to specify a different value for sorting.</span></span> <span data-ttu-id="175f7-212">En este ejemplo, la propiedad de StudentID predeterminada se utiliza para ordenar.</span><span class="sxs-lookup"><span data-stu-id="175f7-212">In this example, the default StudentID property is used for sorting.</span></span> <span data-ttu-id="175f7-213">En el [datos filtrado, paginación y ordenación](sorting-paging-and-filtering-data.md) tema, permitirá al usuario seleccionar una columna para ordenar.</span><span class="sxs-lookup"><span data-stu-id="175f7-213">In the [Sorting, Paging, and Filtering Data](sorting-paging-and-filtering-data.md) topic, you will enable the user to select a column for sorting.</span></span>

<span data-ttu-id="175f7-214">Ejecutar la aplicación web y vaya a la página Students.</span><span class="sxs-lookup"><span data-stu-id="175f7-214">Run your web application, and navigate to the Students page.</span></span> <span data-ttu-id="175f7-215">La página Students muestra la siguiente información de estudiantes.</span><span class="sxs-lookup"><span data-stu-id="175f7-215">The Students page displays the following student information.</span></span>

![Mostrar datos](retrieving-data/_static/image16.png)

## <a name="automatic-generation-of-model-binding-methods"></a><span data-ttu-id="175f7-217">Generación automática de los métodos de enlace de modelos</span><span class="sxs-lookup"><span data-stu-id="175f7-217">Automatic generation of model binding methods</span></span>

<span data-ttu-id="175f7-218">Cuando se trabaja a través de esta serie de tutoriales, simplemente copie el código del tutorial al proyecto.</span><span class="sxs-lookup"><span data-stu-id="175f7-218">When working through this tutorial series, you can simply copy the code from the tutorial to your project.</span></span> <span data-ttu-id="175f7-219">Sin embargo, una desventaja de este enfoque es que es posible que no será consciente de la característica proporcionada por Visual Studio para generar automáticamente código para los métodos de enlace de modelos.</span><span class="sxs-lookup"><span data-stu-id="175f7-219">However, one disadvantage of this approach is that you may not become aware of the feature provided by Visual Studio to automatically generate code for model binding methods.</span></span> <span data-ttu-id="175f7-220">Cuando se trabaja en sus propios proyectos, generación automática de código puede ahorrarle tiempo y ayudarle a obtener una idea de cómo implementar una operación.</span><span class="sxs-lookup"><span data-stu-id="175f7-220">When working on your own projects, automatic code generation can save you time and help you gain a sense of how to implement an operation.</span></span> <span data-ttu-id="175f7-221">En esta sección se describe la característica de generación automática de código.</span><span class="sxs-lookup"><span data-stu-id="175f7-221">This section describes the automatic code generation feature.</span></span> <span data-ttu-id="175f7-222">Esta sección solo es informativa y no contiene ningún código que necesita para implementar en el proyecto.</span><span class="sxs-lookup"><span data-stu-id="175f7-222">This section is only informational and does not contain any code you need to implement in your project.</span></span>

<span data-ttu-id="175f7-223">Al establecer un valor para el **SelectMethod**, **UpdateMethod**, **InsertMethod**, o **DeleteMethod** propiedades en el código de marcado Puede seleccionar la **crear un nuevo método** opción.</span><span class="sxs-lookup"><span data-stu-id="175f7-223">When setting a value for the **SelectMethod**, **UpdateMethod**, **InsertMethod**, or **DeleteMethod** properties in the markup code, you can select the **Create New Method** option.</span></span>

![Crear nuevo método](retrieving-data/_static/image18.png)

<span data-ttu-id="175f7-225">Visual Studio no solo crea un método en el código subyacente con la firma correcta, sino que también genera código de implementación que le ayuden a realizar la operación.</span><span class="sxs-lookup"><span data-stu-id="175f7-225">Visual Studio not only creates a method in the code-behind with the proper signature, but also generates implementation code to assist you with performing the operation.</span></span> <span data-ttu-id="175f7-226">Si se establece en primer lugar el **ItemType** propiedad antes de usar la característica de generación automática de código, el código generado utilizará ese tipo para las operaciones.</span><span class="sxs-lookup"><span data-stu-id="175f7-226">If you first set the **ItemType** property before using the automatic code generation feature, the generated code will use that type for the operations.</span></span> <span data-ttu-id="175f7-227">Por ejemplo, al establecer la propiedad UpdateMethod, automáticamente se genera el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="175f7-227">For example, when setting the UpdateMethod property, the following code is automatically generated:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample9.cs)]

<span data-ttu-id="175f7-228">De nuevo, el código anterior no deben agregarse al proyecto.</span><span class="sxs-lookup"><span data-stu-id="175f7-228">Again, the above code does not need to be added to your project.</span></span> <span data-ttu-id="175f7-229">En el tutorial siguiente, se implementarán métodos para actualizar, eliminar y agregar datos nuevos.</span><span class="sxs-lookup"><span data-stu-id="175f7-229">In the next tutorial, you will implement methods for updating, deleting and adding new data.</span></span>

## <a name="conclusion"></a><span data-ttu-id="175f7-230">Conclusión</span><span class="sxs-lookup"><span data-stu-id="175f7-230">Conclusion</span></span>

<span data-ttu-id="175f7-231">En este tutorial, creó clases de modelo de datos y genera una base de datos de esas clases.</span><span class="sxs-lookup"><span data-stu-id="175f7-231">In this tutorial, you created data model classes and generated a database from those classes.</span></span> <span data-ttu-id="175f7-232">Rellena las tablas de base de datos con datos de prueba.</span><span class="sxs-lookup"><span data-stu-id="175f7-232">You filled the database tables with test data.</span></span> <span data-ttu-id="175f7-233">Usa el enlace de modelos para recuperar datos de la base de datos y, a continuación, muestra los datos en un control GridView.</span><span class="sxs-lookup"><span data-stu-id="175f7-233">You used model binding to retrieve data from the database, and then displayed the data in a GridView.</span></span>

<span data-ttu-id="175f7-234">En los próximos [tutorial](updating-deleting-and-creating-data.md) en esta serie, permitirá actualizar, eliminar y crear datos.</span><span class="sxs-lookup"><span data-stu-id="175f7-234">In the next [tutorial](updating-deleting-and-creating-data.md) in this series, you will enable updating, deleting, and creating data.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="175f7-235">Siguiente</span><span class="sxs-lookup"><span data-stu-id="175f7-235">Next</span></span>](updating-deleting-and-creating-data.md)
