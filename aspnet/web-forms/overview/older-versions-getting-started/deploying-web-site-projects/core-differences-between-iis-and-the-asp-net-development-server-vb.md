---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/core-differences-between-iis-and-the-asp-net-development-server-vb
title: Principales diferencias entre IIS y el servidor de desarrollo de ASP.NET (VB) | Documentos de Microsoft
author: rick-anderson
description: "Cuando se prueba una aplicación de ASP.NET localmente, lo más probable es que usa el servidor Web de desarrollo de ASP.NET. Sin embargo, el sitio Web de producción es más probable pow..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 04/01/2009
ms.topic: article
ms.assetid: 090e9205-52f3-4d72-ae31-44775b8b8421
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/core-differences-between-iis-and-the-asp-net-development-server-vb
msc.type: authoredcontent
ms.openlocfilehash: 4fb0b71792422a75efa5d936ffc7b88a8ec19a57
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/10/2017
---
<a name="core-differences-between-iis-and-the-aspnet-development-server-vb"></a><span data-ttu-id="a411d-104">Diferencias principales entre IIS y el servidor de desarrollo de ASP.NET (VB)</span><span class="sxs-lookup"><span data-stu-id="a411d-104">Core Differences Between IIS and the ASP.NET Development Server (VB)</span></span>
====================
<span data-ttu-id="a411d-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="a411d-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="a411d-106">[Descargar código](http://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_06_VB.zip) o [descarga de PDF](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial06_WebServerDiff_vb.pdf)</span><span class="sxs-lookup"><span data-stu-id="a411d-106">[Download Code](http://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_06_VB.zip) or [Download PDF](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial06_WebServerDiff_vb.pdf)</span></span>

> <span data-ttu-id="a411d-107">Cuando se prueba una aplicación de ASP.NET localmente, lo más probable es que usa el servidor Web de desarrollo de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a411d-107">When testing an ASP.NET application locally, chances are you are using the ASP.NET Development Web Server.</span></span> <span data-ttu-id="a411d-108">Sin embargo, el sitio Web de producción es más probable es que IIS apagada.</span><span class="sxs-lookup"><span data-stu-id="a411d-108">However, the production website is most likely powered IIS.</span></span> <span data-ttu-id="a411d-109">Hay algunas diferencias entre la forma en que estos servidores web controlan las solicitudes, y estas diferencias pueden tener consecuencias importantes.</span><span class="sxs-lookup"><span data-stu-id="a411d-109">There are some differences between how these web servers handle requests, and these differences can have important consequences.</span></span> <span data-ttu-id="a411d-110">Este tutorial explora algunas de las diferencias más relevante.</span><span class="sxs-lookup"><span data-stu-id="a411d-110">This tutorial explores some of the more germane differences.</span></span>


## <a name="introduction"></a><span data-ttu-id="a411d-111">Introducción</span><span class="sxs-lookup"><span data-stu-id="a411d-111">Introduction</span></span>

<span data-ttu-id="a411d-112">Cada vez que un usuario visita una aplicación ASP.NET su explorador envía una solicitud al sitio Web.</span><span class="sxs-lookup"><span data-stu-id="a411d-112">Whenever a user visits an ASP.NET application his browser sends a request to the website.</span></span> <span data-ttu-id="a411d-113">Dicha solicitud se recoge el software de servidor web, que se coordina con el tiempo de ejecución ASP.NET para generar y devolver el contenido para el recurso solicitado.</span><span class="sxs-lookup"><span data-stu-id="a411d-113">That request is picked up by the web server software, which coordinates with the ASP.NET runtime to generate and return the content for the requested resource.</span></span> <span data-ttu-id="a411d-114">El[**I** nternet **I** nformación **S** ervices (IIS)](http://en.wikipedia.org/wiki/Internet_Information_Services) son un conjunto de servicios que proporcionan funcionalidad común basado en Internet para Servidores de Windows.</span><span class="sxs-lookup"><span data-stu-id="a411d-114">The[**I** nternet **I** nformation **S** ervices (IIS)](http://en.wikipedia.org/wiki/Internet_Information_Services) are a suite of services that provide common Internet-based functionality for Windows servers.</span></span> <span data-ttu-id="a411d-115">IIS es el servidor web que se usan normalmente para las aplicaciones ASP.NET en entornos de producción; es muy probable que el software de servidor web que utiliza el proveedor de hospedaje web para dar servicio a la aplicación de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a411d-115">IIS is the most commonly used web server for ASP.NET applications in production environments; it's most likely the web server software being used by your web host provider to serve your ASP.NET application.</span></span> <span data-ttu-id="a411d-116">IIS también puede usarse como el software de servidor web en el entorno de desarrollo, aunque esto conlleva la instalación de IIS y configurarlo correctamente.</span><span class="sxs-lookup"><span data-stu-id="a411d-116">IIS can also be used as the web server software in the development environment, although this entails installing IIS and properly configuring it.</span></span>


<span data-ttu-id="a411d-117">El servidor de desarrollo de ASP.NET es una opción de servidor web alternativo para el entorno de desarrollo; se suministra con y se integra en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a411d-117">The ASP.NET Development Server is an alternative web server option for the development environment; it ships with and is integrated into Visual Studio.</span></span> <span data-ttu-id="a411d-118">A menos que la aplicación web se ha configurado para usar IIS, el servidor de desarrollo de ASP.NET se inicia automáticamente y se usa como el servidor web la primera vez que visite una página web desde dentro de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a411d-118">Unless the web application has been configured to use IIS, the ASP.NET Development Server is automatically started and used as the web server the first time you visit a web page from within Visual Studio.</span></span> <span data-ttu-id="a411d-119">Las aplicaciones web de demostración hemos creado en el [ *determinar qué archivos deben implementarse* ](determining-what-files-need-to-be-deployed-vb.md) tutorial fueron ambas aplicaciones web basados en el sistema de archivos que no se han configurado para usar IIS.</span><span class="sxs-lookup"><span data-stu-id="a411d-119">The demo web applications we created back in the [*Determining What Files Need to Be Deployed*](determining-what-files-need-to-be-deployed-vb.md) tutorial were both file system-based web applications that were not configured to use IIS.</span></span> <span data-ttu-id="a411d-120">Por lo tanto, al visitar cualquiera de estos sitios Web desde dentro de Visual Studio se utiliza el servidor de desarrollo de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a411d-120">Therefore, when visiting either of these websites from within Visual Studio the ASP.NET Development Server is used.</span></span>

<span data-ttu-id="a411d-121">En un mundo perfecto sería idénticos los entornos de desarrollo y producción.</span><span class="sxs-lookup"><span data-stu-id="a411d-121">In a perfect world the development and production environments would be identical.</span></span> <span data-ttu-id="a411d-122">Sin embargo, como se explicó en el tutorial anterior no es común para los entornos que tienen una configuración que no son iguales.</span><span class="sxs-lookup"><span data-stu-id="a411d-122">However, as we discussed in the preceding tutorial it is not uncommon for the environments to have differing configuration settings.</span></span> <span data-ttu-id="a411d-123">Uso de software de servidor web diferente en los entornos, agrega otra variable que se debe tener en cuenta al implementar una aplicación.</span><span class="sxs-lookup"><span data-stu-id="a411d-123">Using different web server software in the environments adds another variable that must be taken into consideration when deploying an application.</span></span> <span data-ttu-id="a411d-124">Este tutorial trata las diferencias clave entre IIS y el servidor de desarrollo de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a411d-124">This tutorial covers the key differences between IIS and the ASP.NET Development Server.</span></span> <span data-ttu-id="a411d-125">Debido a estas diferencias existen escenarios donde el código que se ejecuta completamente en el entorno de desarrollo produce una excepción o se comporta de manera diferente cuando se ejecuta en producción.</span><span class="sxs-lookup"><span data-stu-id="a411d-125">Because of these differences there are scenarios where code that runs flawlessly in the development environment throws an exception or behaves differently when executed in production.</span></span>

## <a name="security-context-differences"></a><span data-ttu-id="a411d-126">Diferencias de contexto de seguridad</span><span class="sxs-lookup"><span data-stu-id="a411d-126">Security Context Differences</span></span>

<span data-ttu-id="a411d-127">Cada vez que el software del servidor web controla una solicitud entrante asocia dicha solicitud con un contexto de seguridad determinada.</span><span class="sxs-lookup"><span data-stu-id="a411d-127">Whenever the web server software handles an incoming request it associates that request with a particular security context.</span></span> <span data-ttu-id="a411d-128">Esta información de contexto de seguridad se utiliza el sistema operativo para determinar qué acciones están permitidas por la solicitud.</span><span class="sxs-lookup"><span data-stu-id="a411d-128">This security context information is used by the operating system to determine what actions are permissible by the request.</span></span> <span data-ttu-id="a411d-129">Por ejemplo, una página ASP.NET puede incluir código que registra algunos mensajes en un archivo en disco.</span><span class="sxs-lookup"><span data-stu-id="a411d-129">For example, an ASP.NET page might include code that logs some message to a file on disk.</span></span> <span data-ttu-id="a411d-130">De esta página de ASP.NET se ejecute sin errores, el contexto de seguridad debe tener la correspondiente permisos de nivel de sistema de archivos, es decir, permisos de escritura en ese archivo.</span><span class="sxs-lookup"><span data-stu-id="a411d-130">In order for this ASP.NET page to execute without error, the security context must have the appropriate file system-level permissions, namely write permissions on that file.</span></span>

<span data-ttu-id="a411d-131">El servidor de desarrollo de ASP.NET asocia las solicitudes entrantes con el contexto de seguridad del usuario que ha iniciado sesión actualmente.</span><span class="sxs-lookup"><span data-stu-id="a411d-131">The ASP.NET Development Server associates incoming requests with the security context of the currently logged on user.</span></span> <span data-ttu-id="a411d-132">Si ha iniciado sesión el escritorio como administrador, las páginas ASP.NET atendidas por el servidor de desarrollo de ASP.NET tendrá los mismos derechos de acceso como administrador.</span><span class="sxs-lookup"><span data-stu-id="a411d-132">If you are logged on to your desktop as an administrator, then the ASP.NET pages served by the ASP.NET Development Server will have the same access rights as an administrator.</span></span> <span data-ttu-id="a411d-133">Sin embargo, las solicitudes ASP.NET administradas por IIS están asociadas a una cuenta de equipo específico.</span><span class="sxs-lookup"><span data-stu-id="a411d-133">However, ASP.NET requests handled by IIS are associated with a specific machine account.</span></span> <span data-ttu-id="a411d-134">De forma predeterminada, la cuenta de equipo de servicio de red se usa por IIS versiones 6 y 7, aunque el proveedor de hospedaje web ha configurado una cuenta única para cada cliente.</span><span class="sxs-lookup"><span data-stu-id="a411d-134">By default, the Network Service machine account is used by IIS versions 6 and 7, although your web host provider may have configured a unique account for each customer.</span></span> <span data-ttu-id="a411d-135">Es más, el proveedor de hospedaje web probablemente ha dado permisos limitados para esta cuenta de equipo.</span><span class="sxs-lookup"><span data-stu-id="a411d-135">What's more, your web host provider has likely given limited permissions to this machine account.</span></span> <span data-ttu-id="a411d-136">El resultado neto es que pueden tener páginas web que se ejecute sin errores en el entorno de desarrollo, pero generar excepciones relacionadas con la autorización cuando se hospeda en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="a411d-136">The net result is that you may have web pages that execute without error in the development environment, but generate authorization-related exceptions when hosted in the production environment.</span></span>

<span data-ttu-id="a411d-137">Para mostrar este tipo de error en la acción he creado una página en el sitio Web de reseñas de libros que crea un archivo en disco que almacena la fecha y hora más recientes que alguien ve los *enseñar a usted mismo ASP.NET 3.5 en 24 horas* revisar.</span><span class="sxs-lookup"><span data-stu-id="a411d-137">To show this type of error in action I've created a page in the Book Reviews website that creates a file on disk that stores the most recent date and time someone viewed the *Teach Yourself ASP.NET 3.5 in 24 Hours* review.</span></span> <span data-ttu-id="a411d-138">Para poder continuar, abra el `~/Tech/TYASP35.aspx` página y agregue el código siguiente a la `Page_Load` controlador de eventos:</span><span class="sxs-lookup"><span data-stu-id="a411d-138">To follow along, open the `~/Tech/TYASP35.aspx` page and add the following code to the `Page_Load` event handler:</span></span>

[!code-vb[Main](core-differences-between-iis-and-the-asp-net-development-server-vb/samples/sample1.vb)]

> [!NOTE]
> <span data-ttu-id="a411d-139">El [ `File.WriteAllText` método](https://msdn.microsoft.com/en-us/library/system.io.file.writealltext.aspx) crea un nuevo archivo si no existe y, a continuación, escribe el contenido especificado.</span><span class="sxs-lookup"><span data-stu-id="a411d-139">The [`File.WriteAllText` method](https://msdn.microsoft.com/en-us/library/system.io.file.writealltext.aspx) creates a new file if it does not exist and then writes the specified contents to it.</span></span> <span data-ttu-id="a411d-140">Si el archivo ya existe, se sobrescribe su contenido existente.</span><span class="sxs-lookup"><span data-stu-id="a411d-140">If the file already exists, it's existing content is overwritten.</span></span>


<span data-ttu-id="a411d-141">A continuación, visite la *enseñar a usted mismo ASP.NET 3.5 en 24 horas* página de revisión de libro en el entorno de desarrollo con el servidor de desarrollo de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a411d-141">Next, visit the *Teach Yourself ASP.NET 3.5 in 24 Hours* book review page in the development environment using the ASP.NET Development Server.</span></span> <span data-ttu-id="a411d-142">Si damos por hecho que ha iniciado sesión en el equipo con una cuenta que tenga los permisos adecuados para crear y modificar un archivo de texto en la web directorio raíz de la aplicación la revisión del libro parece igual que antes, pero cada vez que la página visita la fecha y hora del usuario  Dirección IP se almacena en el `LastTYASP35Access.txt` archivo.</span><span class="sxs-lookup"><span data-stu-id="a411d-142">Assuming that you are logged on to your computer with an account that has adequate permissions to create and modify a text file in the web application's root directory the book review appears the same as before, but each time the page is visited the date and time and user's IP address is stored in the `LastTYASP35Access.txt` file.</span></span> <span data-ttu-id="a411d-143">Diríjase a este archivo; debería ver un mensaje similar al que se muestra en la figura 1.</span><span class="sxs-lookup"><span data-stu-id="a411d-143">Point your browser to this file; you should see a message similar to the one shown in Figure 1.</span></span>


<span data-ttu-id="a411d-144">[![El archivo de texto contiene la última fecha y hora se ha visitado la revisión del libro&lt;](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image2.png)](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="a411d-144">[![The Text File Contains the Last Date and Time the Book Review was Visited&lt;](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image2.png)](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image1.png)</span></span>

<span data-ttu-id="a411d-145">**Figura 1**: el archivo de texto contiene la última fecha y hora se ha visitado la revisión del libro ([haga clic aquí para ver la imagen a tamaño completo](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="a411d-145">**Figure 1**: The Text File Contains the Last Date and Time the Book Review was Visited([Click to view full-size image](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image3.png))</span></span>


<span data-ttu-id="a411d-146">Implementar la aplicación web en producción y, a continuación, visite hospedado *enseñar a usted mismo ASP.NET 3.5 en 24 horas* página de revisión del libro.</span><span class="sxs-lookup"><span data-stu-id="a411d-146">Deploy the web application to production and then visit the hosted *Teach Yourself ASP.NET 3.5 in 24 Hours* book review page.</span></span> <span data-ttu-id="a411d-147">En este momento ya sea debería ver la página de revisión del libro como normal o el mensaje de error que se muestra en la figura 2.</span><span class="sxs-lookup"><span data-stu-id="a411d-147">At this point you should either see the book review page as normal or the error message shown in Figure 2.</span></span> <span data-ttu-id="a411d-148">Algunos proveedores de host web conceda permisos de escritura a la cuenta anónima de máquina ASP.NET, en el que caso la página funcionará sin errores.</span><span class="sxs-lookup"><span data-stu-id="a411d-148">Some web host providers grant write permissions to the anonymous ASP.NET machine account, in which case the page will work without error.</span></span> <span data-ttu-id="a411d-149">Si, sin embargo, el proveedor de hospedaje web prohíbe el acceso de escritura para la cuenta anónima un [ `UnauthorizedAccessException` excepción](https://msdn.microsoft.com/en-us/library/system.unauthorizedaccessexception.aspx) se inicia cuando el `TYASP35.aspx` página intenta escribir la fecha y hora actuales a la `LastTYASP35Access.txt` archivo.</span><span class="sxs-lookup"><span data-stu-id="a411d-149">If, however, your web host provider prohibits write access for the anonymous account then an [`UnauthorizedAccessException` exception](https://msdn.microsoft.com/en-us/library/system.unauthorizedaccessexception.aspx) is raised when the `TYASP35.aspx` page attempts to write the current date and time to the `LastTYASP35Access.txt` file.</span></span>


<span data-ttu-id="a411d-150">[![La cuenta de equipo predeterminado utilizada por IIS no tiene permisos para escribir en el sistema de archivos](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image5.png)](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="a411d-150">[![The Default Machine Account Used by IIS Does Not Have Permissions to Write to the File System](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image5.png)](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image4.png)</span></span>

<span data-ttu-id="a411d-151">**Figura 2**: el valor predeterminado máquina cuenta utilizada por IIS Does no tiene permisos para escribir en el sistema de archivos ([haga clic aquí para ver la imagen a tamaño completo](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="a411d-151">**Figure 2**: The Default Machine Account Used by IIS Does Not Have Permissions to Write to the File System ([Click to view full-size image](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image6.png))</span></span>


<span data-ttu-id="a411d-152">Las buenas noticias son que la mayoría de los proveedores de host de web tiene algún tipo de herramienta de permisos que le permite especificar permisos de sistema de archivos en su sitio Web.</span><span class="sxs-lookup"><span data-stu-id="a411d-152">The good news is that most web host providers have some sort of permissions tool that allows you to specify file system permissions in your website.</span></span> <span data-ttu-id="a411d-153">Conceder el acceso anónimo de escritura de cuenta ASP.NET en el directorio raíz y, a continuación, volver a visitar la página de revisión del libro.</span><span class="sxs-lookup"><span data-stu-id="a411d-153">Grant the anonymous ASP.NET account write access to the root directory and then revisit the book review page.</span></span> <span data-ttu-id="a411d-154">(Si es necesario, póngase en contacto con su proveedor de hospedaje web para obtener ayuda acerca de cómo conceder permisos de escritura para la cuenta ASP.NET predeterminada.) Este tiempo debe cargar la página sin errores y la `LastTYASP35Access.txt` archivo debe crearse correctamente.</span><span class="sxs-lookup"><span data-stu-id="a411d-154">(If needed, contact your web host provider for assistance on how to grant write permissions to the default ASP.NET account.) This time the page should load without error and the `LastTYASP35Access.txt` file should be created successfully.</span></span>

<span data-ttu-id="a411d-155">La distancia aquí es que, dado que el servidor de desarrollo de ASP.NET funciona en un contexto de seguridad diferente que IIS, es posible que las páginas ASP.NET que leen o escriben en el sistema de archivos, leer o escribir en el registro de eventos de Windows, o leer o escribir en las ventanas  Registro funcionan según lo previsto en el desarrollo, pero generan excepciones cuando se encuentra en producción.</span><span class="sxs-lookup"><span data-stu-id="a411d-155">The take away here is that because the ASP.NET Development Server operates under a different security context than IIS, it is possible that your ASP.NET pages that read or write to the file system, read from or write to the Windows Event Log, or read or write to the Windows registry will work as expected on development but generate exceptions when on production.</span></span> <span data-ttu-id="a411d-156">Cuando cree una aplicación web que se implementará en un entorno de hospedaje compartido, no leen o escriben en el registro de eventos o el registro de Windows.</span><span class="sxs-lookup"><span data-stu-id="a411d-156">When building a web application that will be deployed to a shared web hosting environment, do not read or write to the Event Log or the Windows registry.</span></span> <span data-ttu-id="a411d-157">Además, tome nota de las páginas ASP.NET que leer o escribir en el sistema de archivos ya que puede ser necesario conceder privilegios y escritura en las carpetas correspondientes en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="a411d-157">Also take note of any ASP.NET pages that read from or write to the file system as you may need to grant read and write privileges on the appropriate folders in the production environment.</span></span>

## <a name="differences-on-serving-static-content"></a><span data-ttu-id="a411d-158">Diferencias en servir contenido estático</span><span class="sxs-lookup"><span data-stu-id="a411d-158">Differences On Serving Static Content</span></span>

<span data-ttu-id="a411d-159">Otra diferencia principal entre IIS y el servidor de desarrollo de ASP.NET es cómo controlan las solicitudes de contenido estático.</span><span class="sxs-lookup"><span data-stu-id="a411d-159">Another core difference between IIS and the ASP.NET Development Server is how they handle requests for static content.</span></span> <span data-ttu-id="a411d-160">Todas las solicitudes que lleguen en el servidor de desarrollo de ASP.NET, ya sea para una página ASP.NET, una imagen o un archivo de JavaScript, se procesan en tiempo de ejecución de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a411d-160">Every request that comes into the ASP.NET Development Server, whether for an ASP.NET page, an image, or a JavaScript file, is processed by the ASP.NET runtime.</span></span> <span data-ttu-id="a411d-161">De forma predeterminada, IIS sólo, invoca el tiempo de ejecución ASP.NET cuando llega una solicitud para un recurso ASP.NET, como una página web ASP.NET, un servicio Web y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="a411d-161">By default, IIS only invokes the ASP.NET runtime when a request comes in for an ASP.NET resource, such as an ASP.NET web page, a Web Service, and so forth.</span></span> <span data-ttu-id="a411d-162">Las solicitudes de contenido estático: imágenes, archivos CSS, archivos JavaScript, archivos PDF, archivos ZIP y similares - recuperadas por IIS sin la participación de la ejecución de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a411d-162">Requests for static content - images, CSS files, JavaScript files, PDF files, ZIP files, and the like - are retrieved by IIS without the involvement of the ASP.NET runtime.</span></span> <span data-ttu-id="a411d-163">(Es posible indicar a IIS para que funcione con el tiempo de ejecución ASP.NET cuando servir contenido estático, consulte la sección "Realizar la autenticación mediante formularios y autenticación de direcciones URL en archivos estáticos con IIS 7" en este tutorial para obtener más información.)</span><span class="sxs-lookup"><span data-stu-id="a411d-163">(It is possible to instruct IIS to work with the ASP.NET runtime when serving static content; consult the "Performing Forms-Based Authentication and URL Authentication on Static Files with IIS 7" section in this tutorial for more information.)</span></span>

<span data-ttu-id="a411d-164">El tiempo de ejecución ASP.NET realiza una serie de pasos para generar el contenido solicitado, incluido (identificar al solicitante) de autenticación y autorización (determinar si el solicitante tiene permiso para ver el contenido solicitado).</span><span class="sxs-lookup"><span data-stu-id="a411d-164">The ASP.NET runtime performs a number of steps to generate the requested content, including authentication (identifying the requestor) and authorization (determining if the requestor has permission to view the requested content).</span></span> <span data-ttu-id="a411d-165">Es una forma de autenticación popular *autenticación basada en formularios*, en que se identifica un usuario, escriba sus credenciales - normalmente un nombre de usuario y contraseña - en cuadros de texto en una página web.</span><span class="sxs-lookup"><span data-stu-id="a411d-165">A popular form of authentication is *forms-based authentication*, in which a user is identified by entering their credentials - usually a username and password - into textboxes on a web page.</span></span> <span data-ttu-id="a411d-166">Tras validar sus credenciales, se almacena el sitio Web de un *vale de autenticación* cookie en el explorador del usuario, que se envía con cada solicitud posterior para el sitio Web y lo que se usa para autenticar al usuario.</span><span class="sxs-lookup"><span data-stu-id="a411d-166">Upon validating their credentials, the website stores an *authentication ticket* cookie on the user's browser, which is sent with every subsequent request to the website and is what is used to authenticate the user.</span></span> <span data-ttu-id="a411d-167">Además, es posible especificar *autorizaciones de direcciones URL* reglas que dictan lo que los usuarios pueden o no se puede obtener acceso a una carpeta concreta.</span><span class="sxs-lookup"><span data-stu-id="a411d-167">Moreover, it is possible to specify *URL authorization* rules that dictate what users can or cannot access a particular folder.</span></span> <span data-ttu-id="a411d-168">Muchos sitios Web ASP.NET usa autenticación basada en formularios y la autorización de dirección URL para admitir las cuentas de usuario y para definir las partes del sitio que solo están disponibles para los usuarios autenticados o usuarios que pertenecen a una función determinada.</span><span class="sxs-lookup"><span data-stu-id="a411d-168">Many ASP.NET websites use forms-based authentication and URL authorization to support user accounts and to define portions of the site that are only accessible to authenticated users or users that belong to a certain role.</span></span>

> [!NOTE]
> <span data-ttu-id="a411d-169">Para realizar un examen exhaustivo de ASP. Autenticación basada en formularios de NET, autorización URL y otras características relacionadas con la cuenta de usuario, asegúrese de desproteger mi [tutoriales de seguridad del sitio Web](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).</span><span class="sxs-lookup"><span data-stu-id="a411d-169">For a thorough examination of ASP.NET's forms-based authentication, URL authorization, and other user account-related features, be sure to check out my [Website Security Tutorials](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md).</span></span>


<span data-ttu-id="a411d-170">Considere la posibilidad de un sitio Web que es compatible con cuentas de usuario mediante autorización basada en formularios y dispone de una carpeta que, con autorización de URL, está configurada para permitir que solo los usuarios autenticados.</span><span class="sxs-lookup"><span data-stu-id="a411d-170">Consider a website that supports user accounts using forms-based authorization and has a folder that, using URL authorization, is configured to only allow authenticated users.</span></span> <span data-ttu-id="a411d-171">Imagine que esta carpeta contiene las páginas ASP.NET y archivos PDF y que la intención es que los usuarios autenticados solo pueden ver estos archivos PDF.</span><span class="sxs-lookup"><span data-stu-id="a411d-171">Imagine that this folder contains ASP.NET pages and PDF files and that the intent is that only authenticated users can view these PDF files.</span></span>

<span data-ttu-id="a411d-172">¿Qué ocurre si un visitante intenta ver uno de estos archivos PDF, escriba la dirección URL directamente en la barra de direcciones de su explorador?</span><span class="sxs-lookup"><span data-stu-id="a411d-172">What happens if a visitor attempts to view one of these PDF files by entering the URL directly in his browser's Address bar?</span></span> <span data-ttu-id="a411d-173">Para obtener información, vamos a crear una nueva carpeta en el sitio de reseñas de libros, agregar algunos archivos PDF y configurar el sitio para usar autorización de dirección URL para impedir que los usuarios anónimos visitar esta carpeta.</span><span class="sxs-lookup"><span data-stu-id="a411d-173">To find out, let's create a new folder in the Book Reviews site, add some PDF files, and configure the site to use URL authorization to prohibit anonymous users from visiting this folder.</span></span> <span data-ttu-id="a411d-174">Si descarga la aplicación de demostración verá que he creado una carpeta denominada `PrivateDocs` y se agrega un archivo PDF desde mi [tutoriales de seguridad del sitio Web](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md) (cómo adecuado).</span><span class="sxs-lookup"><span data-stu-id="a411d-174">If you download the demo application you'll see that I created a folder called `PrivateDocs` and added a PDF from my [Website Security Tutorials](../../older-versions-security/introduction/security-basics-and-asp-net-support-cs.md) (how fitting!).</span></span> <span data-ttu-id="a411d-175">El `PrivateDocs` carpeta también contiene un `Web.config` archivo que especifica las reglas de autorización de dirección URL para denegar a los usuarios anónimos:</span><span class="sxs-lookup"><span data-stu-id="a411d-175">The `PrivateDocs` folder also contains a `Web.config` file that specifies the URL authorization rules to deny anonymous users:</span></span>

[!code-xml[Main](core-differences-between-iis-and-the-asp-net-development-server-vb/samples/sample2.xml)]

<span data-ttu-id="a411d-176">Por último, configura la aplicación web para utilizar la autenticación basada en formularios al actualizar el archivo Web.config en el directorio raíz, reemplazando:</span><span class="sxs-lookup"><span data-stu-id="a411d-176">Finally, I configured the web application to use forms-based authentication by updating the Web.config file in the root directory, replacing:</span></span>

[!code-xml[Main](core-differences-between-iis-and-the-asp-net-development-server-vb/samples/sample3.xml)]

<span data-ttu-id="a411d-177">Con:</span><span class="sxs-lookup"><span data-stu-id="a411d-177">With:</span></span>

[!code-xml[Main](core-differences-between-iis-and-the-asp-net-development-server-vb/samples/sample4.xml)]

<span data-ttu-id="a411d-178">Use el servidor de desarrollo de ASP.NET, visite el sitio y escriba la dirección URL directa a uno de los archivos PDF en la barra de direcciones de su explorador.</span><span class="sxs-lookup"><span data-stu-id="a411d-178">Using the ASP.NET Development Server, visit the site and enter the direct URL to one of the PDF files in your browser's Address bar.</span></span> <span data-ttu-id="a411d-179">Si ha descargado del sitio Web asociado a este tutorial que la dirección URL debe ser similar:`http://localhost:portNumber/PrivateDocs/aspnet_tutorial01_Basics_vb.pdf`</span><span class="sxs-lookup"><span data-stu-id="a411d-179">If you downloaded the website associated with this tutorial the URL should look something like: `http://localhost:portNumber/PrivateDocs/aspnet_tutorial01_Basics_vb.pdf`</span></span>

<span data-ttu-id="a411d-180">Escribir esta dirección URL en la barra de direcciones hace que el explorador enviar una solicitud al servidor de desarrollo de ASP.NET para el archivo.</span><span class="sxs-lookup"><span data-stu-id="a411d-180">Entering this URL into the Address bar causes the browser to send a request to the ASP.NET Development Server for the file.</span></span> <span data-ttu-id="a411d-181">El servidor de desarrollo de ASP.NET cederá la solicitud para el tiempo de ejecución ASP.NET para su procesamiento.</span><span class="sxs-lookup"><span data-stu-id="a411d-181">The ASP.NET Development Server hands off the request to the ASP.NET runtime for processing.</span></span> <span data-ttu-id="a411d-182">Porque nos hemos no han iniciado sesión y que la `Web.config` en el `PrivateDocs` carpeta está configurada para denegar el acceso anónimo, el tiempo de ejecución ASP.NET nos redirige automáticamente a la página de inicio de sesión, `Login.aspx` (consulte la figura 3).</span><span class="sxs-lookup"><span data-stu-id="a411d-182">Because we have not yet logged in, and because the `Web.config` in the `PrivateDocs` folder is configured to deny anonymous access, the ASP.NET runtime automatically redirects us to the login page, `Login.aspx` (see Figure 3).</span></span> <span data-ttu-id="a411d-183">Cuando se redirige al usuario a la página de inicio de sesión, ASP.NET incluye una `ReturnUrl` parámetro de cadena de consulta que indique la página el usuario estaba intentando ver.</span><span class="sxs-lookup"><span data-stu-id="a411d-183">When redirecting the user to the log in page, ASP.NET includes a `ReturnUrl` querystring parameter that indicates the page the user was attempting to view.</span></span> <span data-ttu-id="a411d-184">Después de iniciar sesión correctamente en el usuario puede devolverse a esta página.</span><span class="sxs-lookup"><span data-stu-id="a411d-184">After successfully logging in the user can be returned to this page.</span></span>


<span data-ttu-id="a411d-185">[![Los usuarios no autorizados son redirigirá automáticamente a la página de inicio de sesión](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image8.png)](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="a411d-185">[![Unauthorized Users are Automatically Redirected to the Login Page](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image8.png)](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image7.png)</span></span>

<span data-ttu-id="a411d-186">**Figura 3**: los usuarios no autorizados son redirigirá automáticamente a la página de inicio de sesión ([haga clic aquí para ver la imagen a tamaño completo](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="a411d-186">**Figure 3**: Unauthorized Users are Automatically Redirected to the Login Page ([Click to view full-size image](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image9.png))</span></span>


<span data-ttu-id="a411d-187">Ahora veamos cómo esto se comporta en producción.</span><span class="sxs-lookup"><span data-stu-id="a411d-187">Now let's see how this behaves on production.</span></span> <span data-ttu-id="a411d-188">Implementar la aplicación y escriba la dirección URL directa a uno de los archivos PDF de la `PrivateDocs` carpeta en producción.</span><span class="sxs-lookup"><span data-stu-id="a411d-188">Deploy your application and enter the direct URL to one of the PDFs in the `PrivateDocs` folder in production.</span></span> <span data-ttu-id="a411d-189">Esto le pide su explorador para que envíe una solicitud de IIS para el archivo.</span><span class="sxs-lookup"><span data-stu-id="a411d-189">This prompts your browser to send a request IIS for the file.</span></span> <span data-ttu-id="a411d-190">Dado que se solicita un archivo estático, IIS recupera y devuelve el archivo sin invocar el tiempo de ejecución ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a411d-190">Because a static file is requested, IIS retrieves and returns the file without invoking the ASP.NET runtime.</span></span> <span data-ttu-id="a411d-191">Como resultado, no había ninguna comprobación de autorización de dirección URL que realizar; el contenido del documento PDF supuestamente privado es accesible para cualquier usuario que conozca la dirección URL directa al archivo.</span><span class="sxs-lookup"><span data-stu-id="a411d-191">As a result, there was no URL authorization check performed; the contents of the supposedly private PDF are accessible to anyone who knows the direct URL to the file.</span></span>


<span data-ttu-id="a411d-192">[![Los usuarios anónimos pueden descargar los archivos de PDF de Private escribiendo la dirección URL directa al archivo](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image11.png)](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="a411d-192">[![Anonymous Users Can Download the Private PDF Files By Entering the Direct URL to the File](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image11.png)](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image10.png)</span></span>

<span data-ttu-id="a411d-193">**Figura 4**: los usuarios anónimos pueden descargar la privada PDF archivos al escribir la dirección URL directa al archivo ([haga clic aquí para ver la imagen a tamaño completo](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="a411d-193">**Figure 4**: Anonymous Users Can Download the Private PDF Files By Entering the Direct URL to the File ([Click to view full-size image](core-differences-between-iis-and-the-asp-net-development-server-vb/_static/image12.png))</span></span>


### <a name="performing-forms-based-authentication-and-url-authentication-on-static-files-with-iis-7"></a><span data-ttu-id="a411d-194">Realizar la autenticación basada en formularios y autenticación de direcciones URL en archivos estáticos con IIS 7</span><span class="sxs-lookup"><span data-stu-id="a411d-194">Performing Forms-Based Authentication and URL Authentication on Static Files with IIS 7</span></span>

<span data-ttu-id="a411d-195">Hay un par de técnicas que puede usar para proteger el contenido estático de usuarios no autorizados.</span><span class="sxs-lookup"><span data-stu-id="a411d-195">There are a couple of techniques you can use to protect static content from unauthorized users.</span></span> <span data-ttu-id="a411d-196">IIS 7 introdujo el *canalización integrada*, que combina el flujo de trabajo de IIS con el flujo de trabajo de runtime ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a411d-196">IIS 7 introduced the *integrated pipeline*, which marries IIS's workflow with the ASP.NET runtime's workflow.</span></span> <span data-ttu-id="a411d-197">En pocas palabras, puede indicar a IIS para invocar los módulos de autorización y autenticación del runtime ASP.NET todas las solicitudes entrantes (incluido el contenido estático, como archivos PDF).</span><span class="sxs-lookup"><span data-stu-id="a411d-197">In a nutshell, you can instruct IIS to invoke the ASP.NET runtime's authentication and authorization modules all incoming requests (including static content like PDF files).</span></span> <span data-ttu-id="a411d-198">Póngase en contacto con su proveedor de hospedaje web para obtener información sobre cómo configurar su sitio Web para utilizar la canalización integrada.</span><span class="sxs-lookup"><span data-stu-id="a411d-198">Contact your web host provider to find out how to configure your website to use the integrated pipeline.</span></span>

<span data-ttu-id="a411d-199">Una vez que IIS se ha configurado para usar la canalización integrada agregue el siguiente marcado para la `Web.config` archivo en el directorio raíz:</span><span class="sxs-lookup"><span data-stu-id="a411d-199">Once IIS has been configured to use the integrated pipeline add the following markup to the `Web.config` file in the root directory:</span></span>

[!code-xml[Main](core-differences-between-iis-and-the-asp-net-development-server-vb/samples/sample5.xml)]

<span data-ttu-id="a411d-200">Esta marca indica a 7 de IIS para utilizar los módulos de autenticación y autorización basada en ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a411d-200">This markup instructs IIS 7 to use the ASP.NET-based authentication and authorization modules.</span></span> <span data-ttu-id="a411d-201">Volver a implementar la aplicación y, a continuación, volver a visitar el archivo PDF.</span><span class="sxs-lookup"><span data-stu-id="a411d-201">Re-deploy your application and then re-visit the PDF file.</span></span> <span data-ttu-id="a411d-202">Este tiempo cuando IIS administra la solicitud ofrece lógica de autenticación y autorización del runtime ASP.NET una oportunidad para inspeccionar la solicitud.</span><span class="sxs-lookup"><span data-stu-id="a411d-202">This time when IIS handles the request it gives the ASP.NET runtime's authentication and authorization logic an opportunity to inspect the request.</span></span> <span data-ttu-id="a411d-203">Dado que solo los usuarios autenticados están autorizados para ver el contenido de la `PrivateDocs` carpeta, el visitante anónimo se redirige automáticamente a la página de inicio de sesión (hacen referencia a la figura 3).</span><span class="sxs-lookup"><span data-stu-id="a411d-203">Because only authenticated users are authorized to view the contents in the `PrivateDocs` folder, the anonymous visitor is automatically redirected to the login page (refer back to Figure 3).</span></span>

> [!NOTE]
> <span data-ttu-id="a411d-204">Si su proveedor de hospedaje web sigue utilizando IIS 6 no puede usar la característica de canalización integrada.</span><span class="sxs-lookup"><span data-stu-id="a411d-204">If your web host provider is still using IIS 6 then you cannot use the integrated pipeline feature.</span></span> <span data-ttu-id="a411d-205">Una solución es colocar los documentos privados en una carpeta que prohíbe el acceso HTTP (como `App_Data`) y, a continuación, cree una página para dar servicio a estos documentos.</span><span class="sxs-lookup"><span data-stu-id="a411d-205">One workaround is to put your private documents in a folder that prohibits HTTP access (such as `App_Data`) and then create a page to serve these documents.</span></span> <span data-ttu-id="a411d-206">Esta página podría denominarse `GetPDF.aspx`y se pasa el nombre del documento PDF a través de un parámetro de cadena de consulta.</span><span class="sxs-lookup"><span data-stu-id="a411d-206">This page might be called `GetPDF.aspx`, and is passed the name of the PDF through a querystring parameter.</span></span> <span data-ttu-id="a411d-207">El `GetPDF.aspx` página pueda comprobar primero que el usuario tiene permiso para ver el archivo y, en ese caso, utilizaría el [ `Response.WriteFile(filePath)` ](https://msdn.microsoft.com/en-us/library/system.web.httpresponse.writefile.aspx) método para devolver el contenido del archivo PDF solicitado al cliente solicitante.</span><span class="sxs-lookup"><span data-stu-id="a411d-207">The `GetPDF.aspx` page would first verify that the user has permission to view the file and, if so, would use the [`Response.WriteFile(filePath)`](https://msdn.microsoft.com/en-us/library/system.web.httpresponse.writefile.aspx) method to send the contents of the requested PDF file back to the requesting client.</span></span> <span data-ttu-id="a411d-208">Esta técnica también funcionaría para IIS 7 si no desea habilitar la canalización integrada.</span><span class="sxs-lookup"><span data-stu-id="a411d-208">This technique would also work for IIS 7 if you did not wish to enable the integrated pipeline.</span></span>


## <a name="summary"></a><span data-ttu-id="a411d-209">Resumen</span><span class="sxs-lookup"><span data-stu-id="a411d-209">Summary</span></span>

<span data-ttu-id="a411d-210">Las aplicaciones Web en un entorno de producción se hospedan mediante software de servidor web de Microsoft IIS.</span><span class="sxs-lookup"><span data-stu-id="a411d-210">Web applications in a production environment are hosted using Microsoft's IIS web server software.</span></span> <span data-ttu-id="a411d-211">En el entorno de desarrollo, sin embargo, la aplicación puede estar hospedada mediante IIS o el servidor de desarrollo de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a411d-211">In the development environment, however, the application may be hosted using IIS or the ASP.NET Development Server.</span></span> <span data-ttu-id="a411d-212">Idealmente, debe usarse el mismo software de servidor web en ambos entornos porque utilizando software diferente agrega otra variable en la combinación.</span><span class="sxs-lookup"><span data-stu-id="a411d-212">Ideally, the same web server software should be used in both environments because using different software adds another variable in the mix.</span></span> <span data-ttu-id="a411d-213">Sin embargo, la facilidad de uso del servidor de desarrollo de ASP.NET lo convierte en una opción apropiada en el entorno de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="a411d-213">However, the ease of use of the ASP.NET Development Server makes it an attractive choice in the development environment.</span></span> <span data-ttu-id="a411d-214">Las buenas noticias son que hay solo unas pocas diferencias fundamentales entre IIS y el servidor de desarrollo de ASP.NET, y si está al corriente de estas diferencias puede tomar medidas para ayudar a garantizar que la aplicación funciona y funciona de la misma forma independientemente de la entorno.</span><span class="sxs-lookup"><span data-stu-id="a411d-214">The good news is that there are only a few fundamental differences between IIS and the ASP.NET Development Server, and if you are aware of these differences you can take steps to help ensure that the application works and functions the same way regardless of the environment.</span></span>

<span data-ttu-id="a411d-215">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="a411d-215">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="a411d-216">Información adicional</span><span class="sxs-lookup"><span data-stu-id="a411d-216">Further Reading</span></span>

<span data-ttu-id="a411d-217">Para obtener más información sobre los temas tratados en este tutorial, consulte los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="a411d-217">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="a411d-218">Integración de ASP.NET con IIS 7.0</span><span class="sxs-lookup"><span data-stu-id="a411d-218">ASP.NET Integration with IIS 7.0</span></span>](https://www.iis.net/learn/application-frameworks/building-and-running-aspnet-applications/aspnet-integration-with-iis)
- <span data-ttu-id="a411d-219">[Mediante la autenticación de foros ASP.NET con todos los tipos de contenido en IIS 7](https://blogs.iis.net/bills/archive/2007/05/19/using-asp-net-forms-authentication-with-all-types-of-content-with-iis7-video.aspx) (vídeo)</span><span class="sxs-lookup"><span data-stu-id="a411d-219">[Using ASP.NET Forums Authentication With All Types of Content on IIS 7](https://blogs.iis.net/bills/archive/2007/05/19/using-asp-net-forms-authentication-with-all-types-of-content-with-iis7-video.aspx) (Video)</span></span>
- [<span data-ttu-id="a411d-220">Servidores Web en Visual Web Developer</span><span class="sxs-lookup"><span data-stu-id="a411d-220">Web Servers in Visual Web Developer</span></span>](https://msdn.microsoft.com/en-us/library/58wxa9w5.aspx)

>[!div class="step-by-step"]
<span data-ttu-id="a411d-221">[Anterior](common-configuration-differences-between-development-and-production-vb.md)
[Siguiente](deploying-a-database-vb.md)</span><span class="sxs-lookup"><span data-stu-id="a411d-221">[Previous](common-configuration-differences-between-development-and-production-vb.md)
[Next](deploying-a-database-vb.md)</span></span>
