---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/configuring-the-production-web-application-to-use-the-production-database-vb
title: "Configuración de la aplicación Web de producción para usar la base de datos de producción (VB) | Documentos de Microsoft"
author: rick-anderson
description: "Como se describe en los tutoriales anteriores, no es raro para obtener información de configuración que difieren entre los entornos de desarrollo y producción. Se trata de es..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 04/23/2009
ms.topic: article
ms.assetid: a64a7aa0-6608-449e-83bf-1ef8cceee504
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/configuring-the-production-web-application-to-use-the-production-database-vb
msc.type: authoredcontent
ms.openlocfilehash: 60ef1f93efea777e9309ad8c664a2c6645f1ce80
ms.sourcegitcommit: 493a215355576cfa481773365de021bcf04bb9c7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/15/2018
---
<a name="configuring-the-production-web-application-to-use-the-production-database-vb"></a><span data-ttu-id="1b48e-104">Configuración de la aplicación Web de producción para usar la base de datos de producción (VB)</span><span class="sxs-lookup"><span data-stu-id="1b48e-104">Configuring the Production Web Application to Use the Production Database (VB)</span></span>
====================
<span data-ttu-id="1b48e-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="1b48e-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="1b48e-106">[Descargar código](http://download.microsoft.com/download/E/6/F/E6FE3A1F-EE3A-4119-989A-33D1A9F6F6DD/ASPNET_Hosting_Tutorial_08_VB.zip) o [descarga de PDF](http://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial08_DBConfig_vb.pdf)</span><span class="sxs-lookup"><span data-stu-id="1b48e-106">[Download Code](http://download.microsoft.com/download/E/6/F/E6FE3A1F-EE3A-4119-989A-33D1A9F6F6DD/ASPNET_Hosting_Tutorial_08_VB.zip) or [Download PDF](http://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial08_DBConfig_vb.pdf)</span></span>

> <span data-ttu-id="1b48e-107">Como se describe en los tutoriales anteriores, no es raro para obtener información de configuración que difieren entre los entornos de desarrollo y producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-107">As discussed in earlier tutorials, it is not uncommon for configuration information to differ between the development and production environments.</span></span> <span data-ttu-id="1b48e-108">Esto es especialmente cierto para las aplicaciones web orientadas a datos, como las cadenas de conexión de base de datos difieren entre los entornos de desarrollo y producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-108">This is especially true for data-driven web applications, as the database connection strings differ between the development and production environments.</span></span> <span data-ttu-id="1b48e-109">Este tutorial explora formas de configurar el entorno de producción para incluir la cadena de conexión adecuada con más detalle.</span><span class="sxs-lookup"><span data-stu-id="1b48e-109">This tutorial explores ways to configure the production environment to include the appropriate connection string in more detail.</span></span>


## <a name="introduction"></a><span data-ttu-id="1b48e-110">Introducción</span><span class="sxs-lookup"><span data-stu-id="1b48e-110">Introduction</span></span>

<span data-ttu-id="1b48e-111">Las aplicaciones de web controlada por datos suelen utilizar otra base de datos en desarrollo que cuando en producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-111">Data-driven web applications usually use a different database when in development than when in production.</span></span> <span data-ttu-id="1b48e-112">Para las aplicaciones hospedadas por un proveedor de hospedaje web y desarrollado localmente, la base de datos de desarrollo reside normalmente en el equipo del programador s mientras la base de datos de producción está hospedada en un servidor de base de datos en la instalación de s de empresa de hospedaje web.</span><span class="sxs-lookup"><span data-stu-id="1b48e-112">For applications hosted by a web host provider and developed locally, the development database typically resides on the developer s computer while the production database is hosted on a database server at the web hosting company s facility.</span></span> <span data-ttu-id="1b48e-113">Implementar una aplicación web controlada por datos implica copiar la base de datos de desarrollo en el servidor de base de datos de producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-113">Deploying a data-driven web application entails copying the development database to the production database server.</span></span> <span data-ttu-id="1b48e-114">En el tutorial anterior, observamos maneras de realizar este paso.</span><span class="sxs-lookup"><span data-stu-id="1b48e-114">In the previous tutorial we looked at ways to accomplish this step.</span></span>

<span data-ttu-id="1b48e-115">La aplicación web usa la información de un *cadena de conexión* para establecer una conexión con la base de datos.</span><span class="sxs-lookup"><span data-stu-id="1b48e-115">The web application uses the information in a *connection string* to establish a connection with the database.</span></span> <span data-ttu-id="1b48e-116">La cadena de conexión, que normalmente se almacena en `Web.config`, especifica el nombre del servidor de base de datos, el nombre de la base de datos, el contexto de seguridad y otra información.</span><span class="sxs-lookup"><span data-stu-id="1b48e-116">The connection string, which is typically stored in `Web.config`, specifies the database server name, the name of the database, the security context, and other information.</span></span> <span data-ttu-id="1b48e-117">Dado que la base de datos utilizado por la aplicación web depende de si la aplicación web se está ejecutando en los entornos de desarrollo o de producción, las cadenas de conexión deben distinguirse entre los dos entornos.</span><span class="sxs-lookup"><span data-stu-id="1b48e-117">Because the database used by the web application depends on whether the web application is running in the development or production environments, the connection strings must differ between the two environments.</span></span>

<span data-ttu-id="1b48e-118">No es raro para obtener información de configuración que difieren entre los entornos de desarrollo y producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-118">It is not uncommon for configuration information to differ between the development and production environments.</span></span> <span data-ttu-id="1b48e-119">El *comunes diferencias de configuración entre desarrollo y producción* tutorial explica técnicas para conservar información de configuración independientes entre estos dos entornos, así como obtener una breve descripción en cadenas de conexión de base de datos.</span><span class="sxs-lookup"><span data-stu-id="1b48e-119">The *Common Configuration Differences Between Development and Production* tutorial discussed techniques for maintaining separate configuration information between these two environments, as well as a brief discussion on database connection strings.</span></span> <span data-ttu-id="1b48e-120">Este tutorial explora formas de configurar el entorno de producción para incluir la cadena de conexión adecuada con más detalle.</span><span class="sxs-lookup"><span data-stu-id="1b48e-120">This tutorial explores ways to configure the production environment to include the appropriate connection string in more detail.</span></span>

## <a name="examining-the-connection-string-information"></a><span data-ttu-id="1b48e-121">Examinar la información de la cadena de conexión</span><span class="sxs-lookup"><span data-stu-id="1b48e-121">Examining the Connection String Information</span></span>

<span data-ttu-id="1b48e-122">La cadena de conexión utilizada por la aplicación web de reseñas de libros se almacena en el archivo de configuración de aplicación s `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="1b48e-122">The connection string used by the Book Reviews web application is stored in the application s configuration file, `Web.config`.</span></span> <span data-ttu-id="1b48e-123">`Web.config` incluye una sección especial para almacenar cadenas de conexión, un nombre muy apropiado [ &lt;connectionStrings&gt;](https://msdn.microsoft.com/library/bf7sd233.aspx).</span><span class="sxs-lookup"><span data-stu-id="1b48e-123">`Web.config` includes a special section for storing connection strings, aptly named [&lt;connectionStrings&gt;](https://msdn.microsoft.com/library/bf7sd233.aspx).</span></span> <span data-ttu-id="1b48e-124">El `Web.config` archivo para el sitio Web de reseñas de libros tiene una cadena de conexión definida en esta sección denominada `ReviewsConnectionString`:</span><span class="sxs-lookup"><span data-stu-id="1b48e-124">The `Web.config` file for the Book Reviews website has one connection string defined in this section named `ReviewsConnectionString`:</span></span>

[!code-xml[Main](configuring-the-production-web-application-to-use-the-production-database-vb/samples/sample1.xml)]

<span data-ttu-id="1b48e-125">La cadena de conexión: origen de datos =. \SQLEXPRESS; AttachDbFilename = | Seguridad DataDirectory|\Reviews.mdf;Integrated = True; User Instance = True: se compone de una serie de opciones y valores, con pares de opción y valor delimitados por punto y coma y cada opción y valor delimitados por un signo igual.</span><span class="sxs-lookup"><span data-stu-id="1b48e-125">The connection string - Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|\Reviews.mdf;Integrated Security=True;User Instance=True - is composed of a number of options and values, with option/value pairs delimited by a semicolon and each option and value delimited by an equals sign.</span></span> <span data-ttu-id="1b48e-126">Las cuatro opciones que se usan en esta cadena de conexión son:</span><span class="sxs-lookup"><span data-stu-id="1b48e-126">The four options used in this connection string are:</span></span>

- <span data-ttu-id="1b48e-127">`Data Source` -Especifica la ubicación del servidor de base de datos y el nombre de instancia del servidor de base de datos (si existe).</span><span class="sxs-lookup"><span data-stu-id="1b48e-127">`Data Source` - specifies the location of the database server and the database server instance name (if any).</span></span> <span data-ttu-id="1b48e-128">El valor `.\SQLEXPRESS`, es un ejemplo donde hay un servidor de base de datos y un nombre de instancia.</span><span class="sxs-lookup"><span data-stu-id="1b48e-128">The value, `.\SQLEXPRESS`, is an example where there is a database server and an instance name.</span></span> <span data-ttu-id="1b48e-129">El período especifica que el servidor de base de datos está en el mismo equipo que la aplicación; es el nombre de instancia `SQLEXPRESS`.</span><span class="sxs-lookup"><span data-stu-id="1b48e-129">The period specifies that the database server is on the same computer as the application; the instance name is `SQLEXPRESS`.</span></span>
- <span data-ttu-id="1b48e-130">`AttachDbFilename` -Especifica la ubicación del archivo de base de datos.</span><span class="sxs-lookup"><span data-stu-id="1b48e-130">`AttachDbFilename` - specifies the location of the database file.</span></span> <span data-ttu-id="1b48e-131">El valor contiene el marcador de posición `|DataDirectory|`, que se resuelve en la ruta de acceso completa de la aplicación s `App_Data` carpeta en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="1b48e-131">The value contains the placeholder `|DataDirectory|`, which is resolved to the full path of the application s `App_Data` folder at runtime.</span></span>
- <span data-ttu-id="1b48e-132">`Integrated Security` -un valor booleano que indica si se usa una nombre de usuario/contraseña especificada al conectarse a la base de datos (false) o las ventanas actuales credenciales de cuenta (true).</span><span class="sxs-lookup"><span data-stu-id="1b48e-132">`Integrated Security` - a Boolean value that indicates whether to use a specified username/password when connecting to the database (false) or the current Windows account credentials (true).</span></span>
- <span data-ttu-id="1b48e-133">`User Instance` -una opción de configuración específica de SQL Server Express Edition que indica si se debe permitir que los usuarios no administrativos en el equipo local, adjuntar y conectan a una base de datos de SQL Server Express Edition.</span><span class="sxs-lookup"><span data-stu-id="1b48e-133">`User Instance` - a configuration option specific to the SQL Server Express Editions that indicates whether to allow non-Administrative users on the local computer attach and connect to a SQL Server Express Edition database.</span></span> <span data-ttu-id="1b48e-134">Vea [instancias de SQL Server Express usuario](https://msdn.microsoft.com/library/ms254504.aspx) para obtener más información acerca de esta opción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-134">See [SQL Server Express User Instances](https://msdn.microsoft.com/library/ms254504.aspx) for more information on this setting.</span></span>
  

<span data-ttu-id="1b48e-135">Las opciones de cadena de conexión permitidos dependen de la base de datos se conecta a y el [ADO.NET](http://ADO.NET) proveedor de base de datos que se utiliza.</span><span class="sxs-lookup"><span data-stu-id="1b48e-135">The allowable connection string options depend on the database you are connecting to and the [ADO.NET](http://ADO.NET) database provider being used.</span></span> <span data-ttu-id="1b48e-136">Por ejemplo, la cadena de conexión para conectarse a Microsoft SQL Server difiere de base de datos que utiliza para conectarse a una base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="1b48e-136">For example, the connection string for connecting to a Microsoft SQL Server database differs from that used to connect to an Oracle database.</span></span> <span data-ttu-id="1b48e-137">Asimismo, si se conecta a una base de datos de Microsoft SQL Server que utiliza el proveedor SqlClient, utiliza una cadena de conexión diferente que cuando se utiliza el proveedor OLE DB.</span><span class="sxs-lookup"><span data-stu-id="1b48e-137">Likewise, connecting to a Microsoft SQL Server database using the SqlClient provider uses a different connection string than when using the OLE-DB provider.</span></span>

<span data-ttu-id="1b48e-138">Puede crear la cadena de conexión de base de datos manualmente mediante un sitio como [ConnectionStrings.com](http://www.connectionstrings.com/) como un recurso para qué opciones están disponibles.</span><span class="sxs-lookup"><span data-stu-id="1b48e-138">You can build the database connection string by hand using a site like [ConnectionStrings.com](http://www.connectionstrings.com/) as a resource for what options are available.</span></span> <span data-ttu-id="1b48e-139">Sin embargo, un enfoque más sencillo es agregar la base de datos en el Explorador de servidores en Visual Studio y, a continuación, para obtener la cadena de conexión de la ventana Propiedades.</span><span class="sxs-lookup"><span data-stu-id="1b48e-139">However, an easier approach is to add the database to the Server Explorer in Visual Studio and then to grab the connection string from the Properties window.</span></span> <span data-ttu-id="1b48e-140">Permitir que s use esta última técnica para construir la cadena de conexión al servidor de base de datos de producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-140">Let s use this latter technique for constructing the connection string to the production database server.</span></span>

<span data-ttu-id="1b48e-141">Abra Visual Studio y, a continuación, navegue hasta la ventana Explorador de servidores (en Visual Web Developer, esta ventana se denomina Explorador de base de datos).</span><span class="sxs-lookup"><span data-stu-id="1b48e-141">Open Visual Studio and then navigate to the Server Explorer window (in Visual Web Developer, this window is called Database Explorer).</span></span> <span data-ttu-id="1b48e-142">Haga doble clic en la opción de conexiones de datos y elija la opción de agregar conexión en el menú contextual.</span><span class="sxs-lookup"><span data-stu-id="1b48e-142">Right-click on the Data Connections option and choose the Add Connection option from the context menu.</span></span> <span data-ttu-id="1b48e-143">Se abrirá el asistente que se muestra en la figura 1.</span><span class="sxs-lookup"><span data-stu-id="1b48e-143">This brings up the wizard shown in Figure 1.</span></span> <span data-ttu-id="1b48e-144">Elija el origen de datos adecuado y haga clic en continuar.</span><span class="sxs-lookup"><span data-stu-id="1b48e-144">Choose the appropriate data source and click Continue.</span></span>


<span data-ttu-id="1b48e-145">[![Optar por agregar una nueva base de datos en el Explorador de servidores](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image2.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="1b48e-145">[![Choose to Add a New Database to the Server Explorer](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image2.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image1.jpg)</span></span> 

<span data-ttu-id="1b48e-146">**Figura 1**: optar por agregar una nueva base de datos en el Explorador de servidores ([haga clic aquí para ver la imagen a tamaño completo](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image3.jpg))</span><span class="sxs-lookup"><span data-stu-id="1b48e-146">**Figure 1**: Choose to Add a New Database to the Server Explorer ([Click to view full-size image](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image3.jpg))</span></span>


<span data-ttu-id="1b48e-147">A continuación, especifique los distintos información de conexión de base de datos (consulte la figura 2).</span><span class="sxs-lookup"><span data-stu-id="1b48e-147">Next, specify the various database connection information (see Figure 2).</span></span> <span data-ttu-id="1b48e-148">Cuando se registró con la empresa de hospedaje web debe han proporcionado información acerca de cómo conectarse a la base de datos - el nombre del servidor de base de datos, el nombre de la base de datos, el nombre de usuario y contraseña que se utilizará para conectarse a la base de datos y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="1b48e-148">When you signed up with your web hosting company they should have provided information on how to connect to the database - the database server name, the database name, the username and password to use to connect to the database, and so on.</span></span> <span data-ttu-id="1b48e-149">Después de escribir esta información, haga clic en Aceptar para completar a este asistente y agregar la base de datos en el Explorador de servidores.</span><span class="sxs-lookup"><span data-stu-id="1b48e-149">After entering this information click OK to complete this wizard and to add the database to the Server Explorer.</span></span>


<span data-ttu-id="1b48e-150">[![Especifique la información de conexión de base de datos](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image5.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="1b48e-150">[![Specify the Database Connection Information](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image5.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image4.jpg)</span></span> 

<span data-ttu-id="1b48e-151">**Figura 2**: especifique la información de conexión de base de datos ([haga clic aquí para ver la imagen a tamaño completo](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image6.jpg))</span><span class="sxs-lookup"><span data-stu-id="1b48e-151">**Figure 2**: Specify the Database Connection Information ([Click to view full-size image](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image6.jpg))</span></span>


<span data-ttu-id="1b48e-152">La base de datos del entorno de producción debe aparecer ahora en el Explorador de servidores.</span><span class="sxs-lookup"><span data-stu-id="1b48e-152">The production environment database should now be listed in the Server Explorer.</span></span> <span data-ttu-id="1b48e-153">Seleccione la base de datos desde el Explorador de servidores y vaya a la ventana Propiedades.</span><span class="sxs-lookup"><span data-stu-id="1b48e-153">Select the database from the Server Explorer and go to the Properties window.</span></span> <span data-ttu-id="1b48e-154">Allí encontrará una propiedad de cadena de conexión con la cadena de conexión de base de datos s con nombre.</span><span class="sxs-lookup"><span data-stu-id="1b48e-154">There you will find a property named Connection String with the database s connection string.</span></span> <span data-ttu-id="1b48e-155">Suponiendo que usa una base de datos de Microsoft SQL Server en producción y el proveedor SqlClient la cadena de conexión debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="1b48e-155">Assuming you are using a Microsoft SQL Server database on production and the SqlClient provider your connection string should look similar to the following:</span></span>

<span data-ttu-id="1b48e-156">**Origen de datos =*serverName*; Catálogo inicial =*databaseName*; Persist Security Info = True; Id. de usuario =*nombre de usuario*; Contraseña = * contraseña***</span><span class="sxs-lookup"><span data-stu-id="1b48e-156">**Data Source=*serverName*; Initial Catalog=*databaseName*; Persist Security Info=True; User ID=*username*; Password=*password***</span></span>

<span data-ttu-id="1b48e-157">Donde *serverName*, *databaseName*, *nombre de usuario*, y *contraseña* con los valores para el nombre del servidor de base de datos, la base de datos nombre y el nombre de usuario y la contraseña proporcionado por su compañía de host web.</span><span class="sxs-lookup"><span data-stu-id="1b48e-157">Where *serverName*, *databaseName*, *username*, and *password* are with the values for the database server name, the database name, and the username and password supplied to you by your web host company.</span></span>

## <a name="deploying-the-book-reviews-web-application"></a><span data-ttu-id="1b48e-158">Implementar la aplicación Web de revisiones de libro</span><span class="sxs-lookup"><span data-stu-id="1b48e-158">Deploying the Book Reviews Web Application</span></span>

<span data-ttu-id="1b48e-159">El tutorial anterior repasó copiar la base de datos de desarrollo en el entorno de producción, pero no exploró implementando la aplicación orientadas a datos.</span><span class="sxs-lookup"><span data-stu-id="1b48e-159">The preceding tutorial stepped through copying the development database to the production environment, but did not explore deploying the data-driven application.</span></span> <span data-ttu-id="1b48e-160">En este momento, el entorno de producción contiene la base de datos pero se usará la versión de la aplicación de revisiones de libro con revisiones estáticas.</span><span class="sxs-lookup"><span data-stu-id="1b48e-160">At this point the production environment contains the database but is using the version of the Book Reviews application with static reviews.</span></span> <span data-ttu-id="1b48e-161">Es necesario implementar la aplicación nueva, controlada por datos en el servidor de producción junto con la información de configuración actualizada.</span><span class="sxs-lookup"><span data-stu-id="1b48e-161">We need to deploy the new, data-driven application to the production server along with the updated configuration information.</span></span>

<span data-ttu-id="1b48e-162">Tómese un momento para implementar la aplicación orientadas a datos desde el entorno de desarrollo a producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-162">Take a moment to deploy the data-driven application from the development environment to production.</span></span> <span data-ttu-id="1b48e-163">Este proceso se describe en detalle en los tutoriales anteriores.</span><span class="sxs-lookup"><span data-stu-id="1b48e-163">This process was covered in detail in previous tutorials.</span></span> <span data-ttu-id="1b48e-164">Si necesita una actualización, consulte el *implementar su sitio Web mediante un cliente FTP* o *implementar su sitio Web en Visual Studio* tutoriales.</span><span class="sxs-lookup"><span data-stu-id="1b48e-164">If you need a refresher, see the *Deploying Your Website Using an FTP Client* or the *Deploying Your Website Using Visual Studio* tutorials.</span></span> <span data-ttu-id="1b48e-165">Debe asegurarse de que la cadena de conexión de base de datos de producción es el utilizado en el entorno de producción, lo que significa que una alternativa `Web.config` archivo debe implementarse.</span><span class="sxs-lookup"><span data-stu-id="1b48e-165">You will need to ensure that the production database connection string is the one used in the production environment, which means that an alternate `Web.config` file must be deployed.</span></span> <span data-ttu-id="1b48e-166">En concreto, esta característica modificar `Web.config` archivo s `<connectionStrings>` elemento debe contener la cadena de conexión de base de datos de producción y debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="1b48e-166">Specifically, this modified `Web.config` file s `<connectionStrings>` element needs to contain the production database connection string and should look similar to the following:</span></span>

[!code-xml[Main](configuring-the-production-web-application-to-use-the-production-database-vb/samples/sample2.xml)]

<span data-ttu-id="1b48e-167">Tenga en cuenta que la cadena de conexión en el `<connectionStrings>` elemento tiene el mismo nombre (`ReviewsConnectionString`), pero ahora contiene la cadena de conexión de base de datos de producción en lugar de la cadena de conexión de base de datos de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="1b48e-167">Note that the connection string in the `<connectionStrings>` element is named the same (`ReviewsConnectionString`), but now contains the production database connection string instead of the development database connection string.</span></span>

<span data-ttu-id="1b48e-168">A menos que tenga un flujo de trabajo de implementación más formal, modifique manualmente la `Web.config` archivo que se usará la cadena de conexión de base de datos de producción antes de implementar (teniendo en cuenta volver a usar la cadena de conexión de base de datos de desarrollo posteriormente) o mantener un independiente `Web.config` archivo con la información de configuración del entorno de producción que obtiene cargada en el entorno de producción como parte del proceso de implementación.</span><span class="sxs-lookup"><span data-stu-id="1b48e-168">Unless you have a more formalized deployment workflow, either manually modify the `Web.config` file to use the production database connection string before deploying (remembering to revert it back to using the development database connection string afterwards) or maintain a separate `Web.config` file with the production environment configuration information that gets uploaded to the production environment as part of the deployment process.</span></span>

> [!NOTE]
> <span data-ttu-id="1b48e-169">Si implementa accidentalmente un `Web.config` archivo que contiene la cadena de conexión de base de datos de desarrollo, a continuación, habrá un error cuando intente conectarse a la base de datos de la aplicación en producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-169">If you accidentally deploy a `Web.config` file that contains the development database connection string then there will be an error when the application on production attempts to connect to the database.</span></span> <span data-ttu-id="1b48e-170">Este error se manifiesta como un `SqlException` con un mensaje que indica que el servidor no se encontró o no estaba accesible.</span><span class="sxs-lookup"><span data-stu-id="1b48e-170">This error manifests as a `SqlException` with a message reporting that the server was not found or was not accessible.</span></span>


<span data-ttu-id="1b48e-171">Una vez que el sitio se ha implementado en producción, visite el sitio de producción a través del explorador.</span><span class="sxs-lookup"><span data-stu-id="1b48e-171">Once the site has been deployed to production, visit the production site through your browser.</span></span> <span data-ttu-id="1b48e-172">Debe ver y disfrutar de la misma experiencia de usuario que cuando se ejecuta localmente la aplicación orientadas a datos.</span><span class="sxs-lookup"><span data-stu-id="1b48e-172">You should see and enjoy the same user experience as when running the data-driven application locally.</span></span> <span data-ttu-id="1b48e-173">Por supuesto cuando visite el sitio Web en producción el sitio esté funcionando con el servidor de base de datos de producción, mientras que visita el sitio Web en el entorno de desarrollo utiliza la base de datos en el desarrollo.</span><span class="sxs-lookup"><span data-stu-id="1b48e-173">Of course when you visit the website on production the site is powered by the production database server, whereas visiting the website in the development environment uses the database in development.</span></span> <span data-ttu-id="1b48e-174">La figura 3 muestra la *enseñar a usted mismo ASP.NET 3.5 en 24 horas* revisar página desde el sitio Web en el entorno de producción (tenga en cuenta la dirección URL en la barra de direcciones de explorador s).</span><span class="sxs-lookup"><span data-stu-id="1b48e-174">Figure 3 shows the *Teach Yourself ASP.NET 3.5 in 24 Hours* review page from the website in the production environment (note the URL in the browser s Address bar).</span></span>


<span data-ttu-id="1b48e-175">[![La aplicación controlada por datos está ahora disponible en producción.](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image8.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image7.jpg)</span><span class="sxs-lookup"><span data-stu-id="1b48e-175">[![The Data-Driven Application is Now Available On Production!](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image8.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image7.jpg)</span></span> 

<span data-ttu-id="1b48e-176">**Figura 3**: The Data-Driven aplicación está ahora disponible en producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-176">**Figure 3**: The Data-Driven Application is Now Available On Production!</span></span> <span data-ttu-id="1b48e-177">([Haga clic aquí para ver la imagen a tamaño completo](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image9.jpg))</span><span class="sxs-lookup"><span data-stu-id="1b48e-177">([Click to view full-size image](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image9.jpg))</span></span>


### <a name="storing-connection-strings-in-a-separate-configuration-file"></a><span data-ttu-id="1b48e-178">Almacenar cadenas de conexión en un archivo de configuración independiente</span><span class="sxs-lookup"><span data-stu-id="1b48e-178">Storing Connection Strings in a Separate Configuration File</span></span>

<span data-ttu-id="1b48e-179">Una técnica común para mantener la información de configuración independientes en los entornos de desarrollo y producción consiste en tener dos versiones de la `Web.config`: uno para el entorno de desarrollo y otro para producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-179">A common technique for maintaining separate configuration information on the development and production environments is to have two versions of the `Web.config`: one for the development environment and one for production.</span></span> <span data-ttu-id="1b48e-180">Durante la implementación adecuado `Web.config` versión puede copiarse en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-180">At deploy-time the appropriate `Web.config` version can be copied to the production environment.</span></span> <span data-ttu-id="1b48e-181">Idealmente, se debería automatizar este proceso como parte del flujo de trabajo de implementación.</span><span class="sxs-lookup"><span data-stu-id="1b48e-181">Ideally, this process would be automated as part of the deployment workflow.</span></span>

<span data-ttu-id="1b48e-182">En lugar de mantener dos `Web.config` archivos, si lo desea, también puede proporcionan las diferencias más granulares.</span><span class="sxs-lookup"><span data-stu-id="1b48e-182">Instead of maintaining two separate `Web.config` files you can, optionally, provide more granular differences.</span></span> <span data-ttu-id="1b48e-183">Los elementos que componen el `Web.config` archivo se puede definir en un archivo de configuración externo que, a continuación, se hace referencia en el `Web.config` archivo.</span><span class="sxs-lookup"><span data-stu-id="1b48e-183">The elements that make up the `Web.config` file can be defined in an external configuration files that are then referenced in the `Web.config` file.</span></span> <span data-ttu-id="1b48e-184">En pocas palabras, puede tener una `Web.config` de archivos para ambos entornos que hace referencia a un archivo databaseConnectionStrings.config, que contiene las cadenas de conexión utilizado por la aplicación y deberían ser únicos para cada entorno.</span><span class="sxs-lookup"><span data-stu-id="1b48e-184">In a nutshell you can have one `Web.config` file for both environments that references a databaseConnectionStrings.config file, which would contain the connection strings used by the application and would be unique for each environment.</span></span> <span data-ttu-id="1b48e-185">Opino que separar la información de configuración que no son iguales en archivos independientes proporciona una más ordenada y sencilla `Web.config` archivo y mucho más claramente se describen las diferencias de configuración entre los entornos de desarrollo y producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-185">I find that separating the differing configuration information into separate files provides a tidier and simpler `Web.config` file and more clearly outlines the configuration differences between the development and production environments.</span></span>

<span data-ttu-id="1b48e-186">Para usar esta técnica, empiece por crear una nueva carpeta en la aplicación web denominada `ConfigSections`.</span><span class="sxs-lookup"><span data-stu-id="1b48e-186">To use this technique, start by creating a new folder in the web application named `ConfigSections`.</span></span> <span data-ttu-id="1b48e-187">A continuación, agregue dos archivos en esta nueva carpeta denominada databaseConnectionStrings.dev.config y databaseConnectionStrings.production.config. A continuación, copie el `<connectionStrings>` elemento de `Web.config` en los archivos databaseConnectionStrings.dev.config y databaseConnectionStrings.production.config y, a continuación, modifique la cadena de conexión en el databaseConnectionStrings.production.config de archivos para que especifica la cadena de conexión de base de datos de producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-187">Next, add two files to this new folder named databaseConnectionStrings.dev.config and databaseConnectionStrings.production.config. Next, copy the `<connectionStrings>` element from `Web.config` into the databaseConnectionStrings.dev.config and databaseConnectionStrings.production.config files, and then modify the connection string in the databaseConnectionStrings.production.config file so that it specifies the production database connection string.</span></span> <span data-ttu-id="1b48e-188">Por ejemplo, el archivo databaseConnectionStrings.dev.config debe contener solamente `<connectionStrings>` elemento con una cadena de conexión que hace referencia a la base de datos de desarrollo:</span><span class="sxs-lookup"><span data-stu-id="1b48e-188">For example, the databaseConnectionStrings.dev.config file should contain just the `<connectionStrings>` element with a connection string that references the development database:</span></span>

[!code-xml[Main](configuring-the-production-web-application-to-use-the-production-database-vb/samples/sample3.xml)]

<span data-ttu-id="1b48e-189">De forma similar, el archivo databaseConnectionStrings.production.config debe contener solo un `<connectionStrings>` elemento, pero que tiene la cadena de conexión de base de datos de producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-189">Similarly, the databaseConnectionStrings.production.config file should contain just a `<connectionStrings>` element, but one that has the production database connection string.</span></span>

<span data-ttu-id="1b48e-190">Realizar una copia del archivo databaseConnectionStrings.dev.config y asígnele el nombre databaseConnectionStrings.config.</span><span class="sxs-lookup"><span data-stu-id="1b48e-190">Make a copy of the databaseConnectionStrings.dev.config file and name it databaseConnectionStrings.config.</span></span>

> [!NOTE]
> <span data-ttu-id="1b48e-191">Puede asignar el archivo de configuración de un valor distinto de databaseConnectionStrings.config, si d desee, como `connectionStrings.config` o `dbInfo.config`.</span><span class="sxs-lookup"><span data-stu-id="1b48e-191">You can name the configuration file something other than databaseConnectionStrings.config, if you d like, such as `connectionStrings.config` or `dbInfo.config`.</span></span> <span data-ttu-id="1b48e-192">Sin embargo, asegúrese de asignar nombre al archivo con un `.config` extensión como `.config` archivos, de forma predeterminada, no se sirven mediante el motor ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1b48e-192">However, be sure to name the file with a `.config` extension as `.config` files are, by default, not served by the ASP.NET engine.</span></span> <span data-ttu-id="1b48e-193">Si asigna el nombre del archivo algo, como `connectionStrings.txt`, un usuario podría señalar su explorador para [www.yoursite.com/ConfigSettings/connectionStrings.txt](http://www.yoursite.com/ConfigSettings/connectionStrings.txt) y ver el contenido del archivo.</span><span class="sxs-lookup"><span data-stu-id="1b48e-193">If you name the file something else, like `connectionStrings.txt`, a user could point their browser to [www.yoursite.com/ConfigSettings/connectionStrings.txt](http://www.yoursite.com/ConfigSettings/connectionStrings.txt) and view the contents of the file!</span></span>


<span data-ttu-id="1b48e-194">En este momento la `ConfigSections` carpeta debe contener tres archivos (consulte la figura 4).</span><span class="sxs-lookup"><span data-stu-id="1b48e-194">At this point the `ConfigSections` folder should contain three files (see Figure 4).</span></span> <span data-ttu-id="1b48e-195">Los archivos databaseConnectionStrings.dev.config y databaseConnectionStrings.production.config contienen las cadenas de conexión para los entornos de desarrollo y producción, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="1b48e-195">The databaseConnectionStrings.dev.config and databaseConnectionStrings.production.config files contain the connection strings for the development and production environments, respectively.</span></span> <span data-ttu-id="1b48e-196">El archivo databaseConnectionStrings.config contiene la información de la cadena de conexión que se usará en la aplicación web en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="1b48e-196">The databaseConnectionStrings.config file contains the connection string information that will be used by the web application at runtime.</span></span> <span data-ttu-id="1b48e-197">Por lo tanto, el archivo databaseConnectionStrings.config debe ser idéntico al archivo databaseConnectionStrings.dev.config en el entorno de desarrollo, mientras que en producción y el archivo databaseConnectionStrings.config debe ser idéntico al databaseConnectionStrings.production.config.</span><span class="sxs-lookup"><span data-stu-id="1b48e-197">Consequently, the databaseConnectionStrings.config file should be identical to the databaseConnectionStrings.dev.config file in the development environment, whereas on production the databaseConnectionStrings.config file should be identical to databaseConnectionStrings.production.config.</span></span>


<span data-ttu-id="1b48e-198">[![ConfigSections](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image11.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image10.jpg)</span><span class="sxs-lookup"><span data-stu-id="1b48e-198">[![ConfigSections](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image11.jpg)](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image10.jpg)</span></span> 

<span data-ttu-id="1b48e-199">**Figura 4**: ConfigSections ([haga clic aquí para ver la imagen a tamaño completo](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image12.jpg))</span><span class="sxs-lookup"><span data-stu-id="1b48e-199">**Figure 4**: ConfigSections ([Click to view full-size image](configuring-the-production-web-application-to-use-the-production-database-vb/_static/image12.jpg))</span></span>


<span data-ttu-id="1b48e-200">Ahora necesitamos indicar a `Web.config` para usar el archivo databaseConnectionStrings.config para su almacén de cadenas de conexión.</span><span class="sxs-lookup"><span data-stu-id="1b48e-200">We now need to instruct `Web.config` to use the databaseConnectionStrings.config file for its connection string store.</span></span> <span data-ttu-id="1b48e-201">Abra `Web.config` y reemplace el elemento `<connectionStrings>` existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="1b48e-201">Open `Web.config` and replace the existing `<connectionStrings>` element with the following:</span></span>

[!code-xml[Main](configuring-the-production-web-application-to-use-the-production-database-vb/samples/sample4.xml)]

<span data-ttu-id="1b48e-202">El `configSource` atributo especifica una ruta de acceso física relativa a la `Web.config` archivo.</span><span class="sxs-lookup"><span data-stu-id="1b48e-202">The `configSource` attribute specifies a physical path relative to the `Web.config` file.</span></span> <span data-ttu-id="1b48e-203">Si la externa `.config` archivo se encuentra en el mismo directorio que `Web.config` , a continuación, establezca este atributo en el nombre de archivo de la `.config` archivo.</span><span class="sxs-lookup"><span data-stu-id="1b48e-203">If the external `.config` file is in the same directory as `Web.config` then set this attribute to the file name of the `.config` file.</span></span> <span data-ttu-id="1b48e-204">Si, en un subdirectorio, como es el caso de databaseConnectionStrings.config, especifican la subcarpeta con una barra diagonal inversa para delimitar los nombres de carpetas y archivos, como ConfigSections\databaseConnectionStrings.config.</span><span class="sxs-lookup"><span data-stu-id="1b48e-204">If it s in a subdirectory, as is the case with databaseConnectionStrings.config, specify the subfolder using a backslash to delimit the folder and file names, like ConfigSections\databaseConnectionStrings.config.</span></span>

<span data-ttu-id="1b48e-205">Con esta modificación, los entornos de desarrollo y producción puede tener el mismo `Web.config` archivo.</span><span class="sxs-lookup"><span data-stu-id="1b48e-205">With this modification, the development and production environments contain the same `Web.config` file.</span></span> <span data-ttu-id="1b48e-206">Ahora, la única diferencia es el archivo databaseConnectionStrings.config.</span><span class="sxs-lookup"><span data-stu-id="1b48e-206">Now the only difference is the databaseConnectionStrings.config file.</span></span> <span data-ttu-id="1b48e-207">Copie el archivo databaseConnectionStrings.production.config en producción y cambie su nombre a databaseConnectionStrings.config. Si, en el futuro, se realizan cambios en la cadena de conexión de base de datos de producción debe hacerlos al archivo databaseConnectionStrings.production.config y, a continuación, cargue ese archivo a la producción, cambiarle el nombre databaseConnectionStrings.config.</span><span class="sxs-lookup"><span data-stu-id="1b48e-207">Copy the databaseConnectionStrings.production.config file to production and rename it to databaseConnectionStrings.config. If, in the future, there are changes to the production database connection string you will need to make them to the databaseConnectionStrings.production.config file and then upload that file to production, renaming it databaseConnectionStrings.config.</span></span>

> [!NOTE]
> <span data-ttu-id="1b48e-208">Puede especificar la información para cualquier `Web.config` elemento en un archivo independiente y usar el `configSource` atributo para hacer referencia a ese archivo desde `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="1b48e-208">You may specify the information for any `Web.config` element in a separate file and use the `configSource` attribute to reference that file from within `Web.config`.</span></span>


## <a name="summary"></a><span data-ttu-id="1b48e-209">Resumen</span><span class="sxs-lookup"><span data-stu-id="1b48e-209">Summary</span></span>

<span data-ttu-id="1b48e-210">Las aplicaciones orientadas a datos normalmente usan bases de datos diferentes en los entornos de desarrollo y producción.</span><span class="sxs-lookup"><span data-stu-id="1b48e-210">Data-driven applications usually use different databases in the development and production environments.</span></span> <span data-ttu-id="1b48e-211">Por lo tanto, las cadenas de conexión de base de datos almacenadas en la configuración de s de aplicaciones web deben ser únicas para cada entorno.</span><span class="sxs-lookup"><span data-stu-id="1b48e-211">Consequently, the database connection strings stored in the web application s configuration must be unique per environment.</span></span> <span data-ttu-id="1b48e-212">En este tutorial explicamos cómo determinar la cadena de conexión de base de datos de producción y maneras de mantener la información de la cadena de conexión única en los dos entornos.</span><span class="sxs-lookup"><span data-stu-id="1b48e-212">In this tutorial we looked at how to determine the production database connection string and ways to maintain unique connection string information in the two environments.</span></span>

<span data-ttu-id="1b48e-213">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="1b48e-213">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="1b48e-214">Información adicional</span><span class="sxs-lookup"><span data-stu-id="1b48e-214">Further Reading</span></span>

<span data-ttu-id="1b48e-215">Para obtener más información sobre los temas tratados en este tutorial, consulte los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="1b48e-215">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="1b48e-216">Cadenas de conexión y archivos de configuración</span><span class="sxs-lookup"><span data-stu-id="1b48e-216">Connection Strings and Configuration Files</span></span>](https://msdn.microsoft.com/library/ms254494.aspx)
- [<span data-ttu-id="1b48e-217">Información de las cadenas de configuración @ ConnectionStrings.com la base de datos</span><span class="sxs-lookup"><span data-stu-id="1b48e-217">Database Configuration Strings Information @ ConnectionStrings.com</span></span>](http://www.connectionstrings.com/)
- [<span data-ttu-id="1b48e-218">Mover la configuración fuera del archivo Web.config</span><span class="sxs-lookup"><span data-stu-id="1b48e-218">Move Settings Out of the Web.config File</span></span>](http://www.asp101.com/tips/index.asp?id=154)
- [<span data-ttu-id="1b48e-219">Documentación técnica de la &lt;connectionStrings&gt; elemento</span><span class="sxs-lookup"><span data-stu-id="1b48e-219">Technical Documentation for the &lt;connectionStrings&gt; Element</span></span>](https://msdn.microsoft.com/library/bf7sd233.aspx)

>[!div class="step-by-step"]
<span data-ttu-id="1b48e-220">[Anterior](deploying-a-database-vb.md)
[Siguiente](configuring-a-website-that-uses-application-services-vb.md)</span><span class="sxs-lookup"><span data-stu-id="1b48e-220">[Previous](deploying-a-database-vb.md)
[Next](configuring-a-website-that-uses-application-services-vb.md)</span></span>
