---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
title: "Configurar permisos de equipo de implementación de compilaciones | Documentos de Microsoft"
author: jrjlee
description: "En este tema se describe cómo configurar permisos para habilitar el servidor de compilación implementar contenido en servidores web y servidores de base de datos como parte de una b automatizada..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: 2488a91e-b0a8-465a-b874-3233f724b56b
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
msc.type: authoredcontent
ms.openlocfilehash: cb3d013d69e36f97335ea31dd6e4997772ba2d8e
ms.sourcegitcommit: 493a215355576cfa481773365de021bcf04bb9c7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/15/2018
---
<a name="configuring-permissions-for-team-build-deployment"></a><span data-ttu-id="570ed-103">Configurar permisos de equipo de implementación de compilaciones</span><span class="sxs-lookup"><span data-stu-id="570ed-103">Configuring Permissions for Team Build Deployment</span></span>
====================
<span data-ttu-id="570ed-104">por [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="570ed-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="570ed-105">Descarga de PDF</span><span class="sxs-lookup"><span data-stu-id="570ed-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="570ed-106">En este tema se describe cómo configurar permisos para habilitar el servidor de compilación implementar contenido en servidores web y servidores de base de datos como parte de un proceso automatizado de compilación.</span><span class="sxs-lookup"><span data-stu-id="570ed-106">This topic describes how to configure permissions to enable your build server to deploy content to web servers and database servers as part of an automated build process.</span></span>


<span data-ttu-id="570ed-107">Este tema forma parte de una serie de tutoriales que se basa en los requisitos de implementación de empresa de una compañía ficticia denominada Fabrikam, Inc. Esta serie de tutoriales que utiliza una solución de ejemplo & #x 2014; la [póngase en contacto con el administrador solución](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)& #x 2014; para representar una aplicación web con un nivel de complejidad, incluso una aplicación de ASP.NET MVC 3, Windows realista Servicio de Communication Foundation (WCF) y un proyecto de base de datos.</span><span class="sxs-lookup"><span data-stu-id="570ed-107">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="570ed-108">El método de implementación en el centro de estos tutoriales se basa en el enfoque de archivo de proyecto de división descrito en [comprender el archivo de proyecto](../web-deployment-in-the-enterprise/understanding-the-project-file.md), en que el proceso de compilación se controla mediante dos proyectos, archivos de & #x 2014; uno que contiene instrucciones que se aplican a cada entorno de destino y que contiene la configuración de compilación e implementación específica del entorno de compilación.</span><span class="sxs-lookup"><span data-stu-id="570ed-108">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="570ed-109">En tiempo de compilación, se combina el archivo de proyecto específicas del entorno en el archivo de proyecto independiente del entorno para formar un conjunto completo de las instrucciones de compilación.</span><span class="sxs-lookup"><span data-stu-id="570ed-109">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="task-overview"></a><span data-ttu-id="570ed-110">Información general sobre tareas</span><span class="sxs-lookup"><span data-stu-id="570ed-110">Task Overview</span></span>

<span data-ttu-id="570ed-111">Cuando se instala el servicio de Team Foundation Server (TFS) 2010 compilación, especifique la identidad con la que desea que el servicio para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="570ed-111">When you install the Team Foundation Server (TFS) 2010 build service, you specify the identity with which you want the service to run.</span></span> <span data-ttu-id="570ed-112">De forma predeterminada, se trata de la cuenta de servicio de red.</span><span class="sxs-lookup"><span data-stu-id="570ed-112">By default, this is the Network Service account.</span></span> <span data-ttu-id="570ed-113">Como alternativa, puede configurar el servicio de compilación para que se ejecute con una cuenta de dominio.</span><span class="sxs-lookup"><span data-stu-id="570ed-113">Alternatively, you can configure the build service to run using a domain account.</span></span>

<span data-ttu-id="570ed-114">Las tareas de implementación que requieren autenticación de Windows y que tiene previsto automatizar mediante Team Build, ejecutarán con la identidad de servicio de compilación.</span><span class="sxs-lookup"><span data-stu-id="570ed-114">Any deployment tasks that require Windows authentication, and that you plan to automate using Team Build, will run using the build service identity.</span></span> <span data-ttu-id="570ed-115">Por lo tanto, debe conceder los permisos necesarios en los servidores web y los servidores de base de datos de la identidad del servicio de compilación.</span><span class="sxs-lookup"><span data-stu-id="570ed-115">As such, you'll need to grant the build service identity any required permissions on your web servers and your database servers.</span></span>

> [!NOTE]
> <span data-ttu-id="570ed-116">La cuenta de servicio de red usa la cuenta de equipo para autenticarse en otros equipos.</span><span class="sxs-lookup"><span data-stu-id="570ed-116">The Network Service account uses the machine account to authenticate to other computers.</span></span> <span data-ttu-id="570ed-117">Cuentas de equipo que adoptan la forma * [nombre de dominio]\[nombre de equipo] ***$**& #x 2014; por ejemplo, **FABRIKAM\TFSBUILD$**.</span><span class="sxs-lookup"><span data-stu-id="570ed-117">Machine accounts take the form *[domain name]\[machine name]***$**&#x2014;for example, **FABRIKAM\TFSBUILD$**.</span></span> <span data-ttu-id="570ed-118">Por lo tanto, si el servicio de compilación se ejecuta con la identidad Network Service, debe conceder los permisos necesarios para la identidad de la cuenta de equipo para el servidor de compilación.</span><span class="sxs-lookup"><span data-stu-id="570ed-118">As such, if your build service runs using the Network Service identity, you should grant any required permissions to the machine account identity for your build server.</span></span>


## <a name="configuring-web-server-permissions"></a><span data-ttu-id="570ed-119">Configurar permisos de servidor Web</span><span class="sxs-lookup"><span data-stu-id="570ed-119">Configuring Web Server Permissions</span></span>

<span data-ttu-id="570ed-120">Como se describe en [la elección del enfoque de derecha a la implementación de Web](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), hay dos enfoques principales que puede usar si desea implementar paquetes de web en un servidor web remoto:</span><span class="sxs-lookup"><span data-stu-id="570ed-120">As described in [Choosing the Right Approach to Web Deployment](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), there are two main approaches you can use if you want to deploy web packages to a remote web server:</span></span>

- <span data-ttu-id="570ed-121">Implementar la aplicación desde una ubicación remota mediante la orientación de la *servicio Web Deployment Agent* (también conocido como el agente remoto) en el servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="570ed-121">Deploy the application from a remote location by targeting the *Web Deployment Agent Service* (also known as the remote agent) on the destination server.</span></span>
- <span data-ttu-id="570ed-122">Implementar la aplicación desde una ubicación remota mediante la orientación de la *Internet Information Services* (*IIS) el controlador de implementación Web* en el servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="570ed-122">Deploy the application from a remote location by targeting the *Internet Information Services* (*IIS) Web Deploy Handler* on the destination server.</span></span>

<span data-ttu-id="570ed-123">El agente remoto tiene dos limitaciones más importantes en este caso:</span><span class="sxs-lookup"><span data-stu-id="570ed-123">The remote agent has two key limitations in this case:</span></span>

- <span data-ttu-id="570ed-124">El agente remoto admite únicamente la autenticación NTLM.</span><span class="sxs-lookup"><span data-stu-id="570ed-124">The remote agent supports only NTLM authentication.</span></span> <span data-ttu-id="570ed-125">En otras palabras, la implementación debe utilizar la identidad de servicio de compilación & #x 2014; no se puede suplantar a otra cuenta.</span><span class="sxs-lookup"><span data-stu-id="570ed-125">In other words, the deployment must use the build service identity&#x2014;you can't impersonate another account.</span></span>
- <span data-ttu-id="570ed-126">Para usar al agente remoto, la cuenta que realiza la implementación debe ser un administrador en el servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="570ed-126">To use the remote agent, the account that performs the deployment must be an administrator on the target server.</span></span>

<span data-ttu-id="570ed-127">Juntas, estas dos limitaciones forman el enfoque de agente remoto deseable para una implementación automatizada de Team Build.</span><span class="sxs-lookup"><span data-stu-id="570ed-127">Together, these two limitations make the remote agent approach undesirable for an automated Team Build deployment.</span></span> <span data-ttu-id="570ed-128">Para utilizar este enfoque, se debe hacer que el servicio de compilación de la cuenta Administrador en los servidores web de destino.</span><span class="sxs-lookup"><span data-stu-id="570ed-128">To use this approach, you'd need to make the build service account an administrator on any target web servers.</span></span>

<span data-ttu-id="570ed-129">En cambio, el método de controlador de implementación Web ofrece diversas ventajas:</span><span class="sxs-lookup"><span data-stu-id="570ed-129">In contrast, the Web Deploy Handler approach offers various advantages:</span></span>

- <span data-ttu-id="570ed-130">El controlador de implementación Web admite la autenticación básica a través de HTTPS, lo que permite pasar las credenciales de una cuenta alternativa a la herramienta de implementación Web de IIS (Web Deploy).</span><span class="sxs-lookup"><span data-stu-id="570ed-130">The Web Deploy Handler supports basic authentication over HTTPS, which allows you to pass the credentials of an alternative account to the IIS Web Deployment Tool (Web Deploy).</span></span>
- <span data-ttu-id="570ed-131">Puede configurar servidores web de destino para permitir que los usuarios sin privilegios de administrador implementar contenido en sitios Web específicos de IIS mediante el controlador de implementación Web.</span><span class="sxs-lookup"><span data-stu-id="570ed-131">You can configure target web servers to allow non-administrator users to deploy content to specific IIS websites using the Web Deploy Handler.</span></span>

<span data-ttu-id="570ed-132">Como resultado, es preferible claramente como destino el controlador de implementación Web para automatizar la implementación de paquetes de web de Team Build.</span><span class="sxs-lookup"><span data-stu-id="570ed-132">As a result, it's clearly preferable to target the Web Deploy Handler when you automate web package deployment from Team Build.</span></span> <span data-ttu-id="570ed-133">Éste es el proceso recomendado:</span><span class="sxs-lookup"><span data-stu-id="570ed-133">This is the recommended process:</span></span>

1. <span data-ttu-id="570ed-134">Cree una cuenta de dominio con pocos privilegios que se usará para la implementación.</span><span class="sxs-lookup"><span data-stu-id="570ed-134">Create a low-privileged domain account to use for the deployment.</span></span>
2. <span data-ttu-id="570ed-135">Configurar el controlador de implementación Web y conceda a la cuenta los permisos necesarios para implementar contenido en un sitio Web IIS específico, como se describe en [configurar un servidor Web de publicación de implementar en Web (Web implementar controlador)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span><span class="sxs-lookup"><span data-stu-id="570ed-135">Configure the Web Deploy Handler and grant the account the required permissions to deploy content to a specific IIS website, as described in [Configuring a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span>
3. <span data-ttu-id="570ed-136">Invocación de Web Deploy y el controlador de implementación Web de destino, mediante la autenticación básica y proporcionar las credenciales de la cuenta de dominio ha creado, para llevar a cabo la implementación.</span><span class="sxs-lookup"><span data-stu-id="570ed-136">Invoke Web Deploy and target the Web Deploy Handler, using basic authentication and supplying the credentials of the domain account you created, to perform the deployment.</span></span>

<span data-ttu-id="570ed-137">En el [póngase en contacto con el Administrador de](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) ejemplo solución, especifique el tipo de autenticación (básica o NTLM), las credenciales de implementación Web y la dirección del extremo (agente remoto o el controlador de implementación Web) en el archivo de proyecto específicos del entorno.</span><span class="sxs-lookup"><span data-stu-id="570ed-137">In the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) sample solution, you specify the authentication type (basic or NTLM), the Web Deploy credentials, and the endpoint address (remote agent or Web Deploy Handler) in the environment-specific project file.</span></span> <span data-ttu-id="570ed-138">Estos valores se utilizan para formular y ejecutar un comando de Web Deploy cuando se ejecuta el archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="570ed-138">These values are used to formulate and run a Web Deploy command when the project file is executed.</span></span> <span data-ttu-id="570ed-139">Para obtener más información, consulte [implementar paquetes de Web](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="570ed-139">For more information, see [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span></span>

<span data-ttu-id="570ed-140">Para obtener más información acerca de cómo configurar el controlador de implementación Web, incluido cómo configurar permisos, consulte [configurar un servidor Web de publicación de implementar en Web (Web implementar controlador)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span><span class="sxs-lookup"><span data-stu-id="570ed-140">For more information on configuring the Web Deploy Handler, including how to configure permissions, see [Configuring a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span> <span data-ttu-id="570ed-141">Para obtener más información acerca de cómo configurar el agente remoto, consulte [configurar un servidor Web de publicación de implementar en Web (agente remoto)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span><span class="sxs-lookup"><span data-stu-id="570ed-141">For more information on configuring the remote agent, see [Configuring a Web Server for Web Deploy Publishing (Remote Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span></span>

## <a name="configuring-database-server-permissions"></a><span data-ttu-id="570ed-142">Configurar permisos de servidor de base de datos</span><span class="sxs-lookup"><span data-stu-id="570ed-142">Configuring Database Server Permissions</span></span>

<span data-ttu-id="570ed-143">Para implementar una base de datos en SQL Server, debe:</span><span class="sxs-lookup"><span data-stu-id="570ed-143">To deploy a database to SQL Server, you must:</span></span>

- <span data-ttu-id="570ed-144">Cree un inicio de sesión para la cuenta de implementación en la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="570ed-144">Create a login for the deploying account on the SQL Server instance.</span></span>
- <span data-ttu-id="570ed-145">Conceder el inicio de sesión **DBCreator** permisos en la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="570ed-145">Grant the login **DBCreator** permissions on the SQL Server instance.</span></span>
- <span data-ttu-id="570ed-146">Después de la implementación inicial, agregue el inicio de sesión para la **db\_propietario** rol en la base de datos de destino.</span><span class="sxs-lookup"><span data-stu-id="570ed-146">After the initial deployment, add the login to the **db\_owner** role on the target database.</span></span> <span data-ttu-id="570ed-147">Esto es necesario porque en las implementaciones posteriores, se está modificando una base de datos existente en lugar de crear una nueva base de datos.</span><span class="sxs-lookup"><span data-stu-id="570ed-147">This is required because on subsequent deployments, you're modifying an existing database rather than creating a new database.</span></span>

<span data-ttu-id="570ed-148">Puede autenticar a una instancia de SQL Server mediante la autenticación NTLM o autenticación de SQL Server:</span><span class="sxs-lookup"><span data-stu-id="570ed-148">You can authenticate to a SQL Server instance using either NTLM authentication or SQL Server authentication:</span></span>

- <span data-ttu-id="570ed-149">Si utiliza la autenticación NTLM, deberá conceder los permisos que se ha descrito anteriormente para la cuenta de servicio de compilación.</span><span class="sxs-lookup"><span data-stu-id="570ed-149">If you use NTLM authentication, you need to grant the permissions described above to the build service account.</span></span>
- <span data-ttu-id="570ed-150">Si utiliza la autenticación de SQL Server, deberá conceder los permisos que se ha descrito anteriormente para la cuenta de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="570ed-150">If you use SQL Server authentication, you need to grant the permissions described above to the SQL Server account.</span></span> <span data-ttu-id="570ed-151">También debe incluir el nombre de usuario de SQL Server y la contraseña en la cadena de conexión que se usa para implementar la base de datos.</span><span class="sxs-lookup"><span data-stu-id="570ed-151">You also need to include the SQL Server user name and password in the connection string you use to deploy the database.</span></span>

<span data-ttu-id="570ed-152">Para obtener información detallada paso a paso sobre cómo configurar permisos para la implementación de la base de datos, vea [configurar un servidor de base de datos de publicación en Web implementar](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).</span><span class="sxs-lookup"><span data-stu-id="570ed-152">For step-by-step details on how to configure permissions for database deployment, see [Configuring a Database Server for Web Deploy Publishing](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="570ed-153">Conclusión</span><span class="sxs-lookup"><span data-stu-id="570ed-153">Conclusion</span></span>

<span data-ttu-id="570ed-154">En este punto, debe entender los permisos necesarios, junto con las opciones de autenticación abiertas, para automatizar las implementaciones de aplicación y base de datos de web de Team Build.</span><span class="sxs-lookup"><span data-stu-id="570ed-154">At this point, you should understand the permissions required, together with the authentication options open to you, when you automate web application and database deployments from Team Build.</span></span> <span data-ttu-id="570ed-155">También debe ser capaz de implementar los permisos necesarios en los servidores web de IIS y los servidores de base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="570ed-155">You should also be able to implement the necessary permissions on IIS web servers and SQL Server database servers.</span></span>

## <a name="further-reading"></a><span data-ttu-id="570ed-156">Información adicional</span><span class="sxs-lookup"><span data-stu-id="570ed-156">Further Reading</span></span>

<span data-ttu-id="570ed-157">Para obtener más información acerca de cómo configurar entornos de servidor de Windows para permitir la implementación remota, vea [configurar entornos de servidor para la implementación Web](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="570ed-157">For more information on configuring Windows server environments to support remote deployment, see [Configuring Server Environments for Web Deployment](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span></span>

>[!div class="step-by-step"]
[<span data-ttu-id="570ed-158">Anterior</span><span class="sxs-lookup"><span data-stu-id="570ed-158">Previous</span></span>](deploying-a-specific-build.md)
