---
title: Vistas parciales en ASP.NET Core
author: ardalis
description: Obtenga información sobre las vistas parciales, que son vistas que se representan dentro de otra vista, y cuándo deben usarse en aplicaciones ASP.NET Core.
ms.author: riande
ms.date: 03/14/2018
uid: mvc/views/partial
ms.openlocfilehash: f3782961a63c08293a483ec7a75dadff2031b131
ms.sourcegitcommit: a1afd04758e663d7062a5bfa8a0d4dca38f42afc
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/20/2018
ms.locfileid: "36279537"
---
# <a name="partial-views-in-aspnet-core"></a><span data-ttu-id="ddc6b-103">Vistas parciales en ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="ddc6b-103">Partial Views in ASP.NET Core</span></span>

<span data-ttu-id="ddc6b-104">Por [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), [Rick Anderson](https://twitter.com/RickAndMSFT) y [Scott Sauber](https://twitter.com/scottsauber)</span><span class="sxs-lookup"><span data-stu-id="ddc6b-104">By [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), [Rick Anderson](https://twitter.com/RickAndMSFT), and [Scott Sauber](https://twitter.com/scottsauber)</span></span>

<span data-ttu-id="ddc6b-105">ASP.NET Core MVC admite vistas parciales, las cuales resultan útiles cuando tiene partes reutilizables de páginas web que quiere compartir entre distintas vistas.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-105">ASP.NET Core MVC supports partial views, which are useful when you have reusable parts of web pages you want to share between different views.</span></span>

<span data-ttu-id="ddc6b-106">[Vea o descargue el código de ejemplo](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([cómo descargarlo](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="ddc6b-106">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="what-are-partial-views"></a><span data-ttu-id="ddc6b-107">¿Qué son las vistas parciales?</span><span class="sxs-lookup"><span data-stu-id="ddc6b-107">What are Partial Views?</span></span>

<span data-ttu-id="ddc6b-108">Una vista parcial es una vista que se representa dentro de otra vista.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-108">A partial view is a view that's rendered within another view.</span></span> <span data-ttu-id="ddc6b-109">El HTML generado al ejecutar la vista parcial se representa en la vista que realiza la llamada (o principal).</span><span class="sxs-lookup"><span data-stu-id="ddc6b-109">The HTML output generated by executing the partial view is rendered into the calling (or parent) view.</span></span> <span data-ttu-id="ddc6b-110">Al igual que las vistas, las vistas parciales usan la extensión de archivo *.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-110">Like views, partial views use the *.cshtml* file extension.</span></span>

## <a name="when-should-i-use-partial-views"></a><span data-ttu-id="ddc6b-111">¿Cuándo debo usar vistas parciales?</span><span class="sxs-lookup"><span data-stu-id="ddc6b-111">When Should I Use Partial Views?</span></span>

<span data-ttu-id="ddc6b-112">Las vistas parciales son una forma eficaz de dividir vistas de gran tamaño en componentes más pequeños.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-112">Partial views are an effective way of breaking up large views into smaller components.</span></span> <span data-ttu-id="ddc6b-113">Pueden reducir la duplicación del contenido de la vista y permitir reutilizar los elementos de la vista.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-113">They can reduce duplication of view content and allow view elements to be reused.</span></span> <span data-ttu-id="ddc6b-114">Se deben especificar elementos de diseño comunes en [_Layout.cshtml](layout.md).</span><span class="sxs-lookup"><span data-stu-id="ddc6b-114">Common layout elements should be specified in [_Layout.cshtml](layout.md).</span></span> <span data-ttu-id="ddc6b-115">El contenido reutilizable que no es de diseño se puede encapsular en las vistas parciales.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-115">Non-layout reusable content can be encapsulated into partial views.</span></span>

<span data-ttu-id="ddc6b-116">Si tiene una página compleja formada por varias partes lógicas, puede ser útil trabajar con cada parte como su propia vista parcial.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-116">If you have a complex page made up of several logical pieces, it can be helpful to work with each piece as its own partial view.</span></span> <span data-ttu-id="ddc6b-117">Cada parte de la página puede visualizarse de forma aislada del resto de la página y la vista para la propia página se vuelve mucho más sencilla, ya que solo contiene la estructura general de la página y las llamadas para representar las vistas parciales.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-117">Each piece of the page can be viewed in isolation from the rest of the page, and the view for the page itself becomes much simpler since it only contains the overall page structure and calls to render the partial views.</span></span>

<span data-ttu-id="ddc6b-118">Sugerencia: siga el principio [Una vez y solo una (DRY)](http://deviq.com/don-t-repeat-yourself/) en las vistas.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-118">Tip: Follow the [Don't Repeat Yourself Principle](http://deviq.com/don-t-repeat-yourself/) in your views.</span></span>

## <a name="declaring-partial-views"></a><span data-ttu-id="ddc6b-119">Declarar vistas parciales</span><span class="sxs-lookup"><span data-stu-id="ddc6b-119">Declaring Partial Views</span></span>

<span data-ttu-id="ddc6b-120">Las vistas parciales se crean como cualquier otra vista: se crea un archivo *.cshtml* dentro de la carpeta *Views*.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-120">Partial views are created like any other view: you create a *.cshtml* file within the *Views* folder.</span></span> <span data-ttu-id="ddc6b-121">No hay ninguna diferencia semántica entre una vista parcial y una vista normal: simplemente se representan de forma diferente.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-121">There's no semantic difference between a partial view and a regular view - they're just rendered differently.</span></span> <span data-ttu-id="ddc6b-122">Puede hacer que una vista se devuelva directamente desde el `ViewResult` de un controlador y puede usar la misma vista como una vista parcial.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-122">You can have a view that's returned directly from a controller's `ViewResult`, and the same view can be used as a partial view.</span></span> <span data-ttu-id="ddc6b-123">La diferencia principal entre el modo en que se representa una vista y una vista parcial es que las vistas parciales no ejecutan *_ViewStart.cshtml*, mientras que las vistas normales sí (más información sobre *_ViewStart.cshtml* en [Diseño](layout.md)).</span><span class="sxs-lookup"><span data-stu-id="ddc6b-123">The main difference between how a view and a partial view are rendered is that partial views don't run *_ViewStart.cshtml* (while views do - learn more about *_ViewStart.cshtml* in [Layout](layout.md)).</span></span>

## <a name="referencing-a-partial-view"></a><span data-ttu-id="ddc6b-124">Referencia a una vista parcial</span><span class="sxs-lookup"><span data-stu-id="ddc6b-124">Referencing a Partial View</span></span>

<span data-ttu-id="ddc6b-125">Desde una página de vista, hay varias maneras de representar una vista parcial.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-125">From within a view page, there are several ways in which you can render a partial view.</span></span> <span data-ttu-id="ddc6b-126">El procedimiento recomendado consiste en usar `Html.PartialAsync`, que devuelve un `IHtmlString` y se puede hacer referencia a ella agregando un prefijo a la llamada con `@`:</span><span class="sxs-lookup"><span data-stu-id="ddc6b-126">The best practice is to use `Html.PartialAsync`, which returns an `IHtmlString` and can be referenced by prefixing the call with `@`:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=8)]

<span data-ttu-id="ddc6b-127">Puede representar una vista parcial con `RenderPartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-127">You can render a partial view with `RenderPartialAsync`.</span></span> <span data-ttu-id="ddc6b-128">Este método no devuelve ningún resultado; transmite por secuencias la salida representada directamente a la respuesta.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-128">This method doesn't return a result; it streams the rendered output directly to the response.</span></span> <span data-ttu-id="ddc6b-129">Como no devuelve ningún resultado, debe llamarse desde un bloque de código de Razor:</span><span class="sxs-lookup"><span data-stu-id="ddc6b-129">Because it doesn't return a result, it must be called within a Razor code block:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=11-13)]

<span data-ttu-id="ddc6b-130">Dado que transmite por secuencias el resultado directamente, `RenderPartialAsync` puede funcionar mejor en algunos escenarios,</span><span class="sxs-lookup"><span data-stu-id="ddc6b-130">Because it streams the result directly, `RenderPartialAsync` may perform better in some scenarios.</span></span> <span data-ttu-id="ddc6b-131">pero se recomienda usar `PartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-131">However, it's recommended you use `PartialAsync`.</span></span>

<span data-ttu-id="ddc6b-132">Aunque hay equivalentes sincrónicos de `Html.PartialAsync` (`Html.Partial`) y de `Html.RenderPartialAsync` (`Html.RenderPartial`), su uso no es aconsejable, ya que hay escenarios donde producen interbloqueos.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-132">While there are synchronous equivalents of `Html.PartialAsync` (`Html.Partial`) and `Html.RenderPartialAsync` (`Html.RenderPartial`), use of the synchronous equivalents isn't recommended because there are scenarios where they deadlock.</span></span> <span data-ttu-id="ddc6b-133">Los métodos sincrónicos dejarán de estar disponibles en futuras versiones.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-133">The synchronous methods will be unavailable in future versions.</span></span>

> [!NOTE]
> <span data-ttu-id="ddc6b-134">Si las vistas necesitan ejecutar código, el patrón recomendado es usar un [componente de vista](view-components.md) en lugar de una vista parcial.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-134">If your views need to execute code, the recommended pattern is to use a [view component](view-components.md) instead of a partial view.</span></span>

### <a name="partial-view-discovery"></a><span data-ttu-id="ddc6b-135">Detección de vistas parciales</span><span class="sxs-lookup"><span data-stu-id="ddc6b-135">Partial View Discovery</span></span>

<span data-ttu-id="ddc6b-136">Cuando se hace referencia a una vista parcial, se puede hacer referencia a su ubicación de varias maneras:</span><span class="sxs-lookup"><span data-stu-id="ddc6b-136">When referencing a partial view, you can refer to its location in several ways:</span></span>

```cshtml
// Uses a view in current folder with this name
// If none is found, searches the Shared folder
@await Html.PartialAsync("ViewName")

// A view with this name must be in the same folder
@await Html.PartialAsync("ViewName.cshtml")

// Locate the view based on the application root
// Paths that start with "/" or "~/" refer to the application root
@await Html.PartialAsync("~/Views/Folder/ViewName.cshtml")
@await Html.PartialAsync("/Views/Folder/ViewName.cshtml")

// Locate the view using relative paths
@await Html.PartialAsync("../Account/LoginPartial.cshtml")
```

<span data-ttu-id="ddc6b-137">Puede tener diferentes vistas parciales con el mismo nombre en distintas carpetas de vistas.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-137">You can have different partial views with the same name in different view folders.</span></span> <span data-ttu-id="ddc6b-138">Cuando se hace referencia a las vistas por su nombre (sin extensión de archivo), las vistas de cada carpeta usarán la vista parcial en la misma carpeta que ellas.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-138">When referencing the views by name (without file extension), views in each folder will use the partial view in the same folder with them.</span></span> <span data-ttu-id="ddc6b-139">También puede especificar una vista parcial predeterminada que vaya a usar, colocándola en la carpeta *Shared*.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-139">You can also specify a default partial view to use, placing it in the *Shared* folder.</span></span> <span data-ttu-id="ddc6b-140">Cualquier vista que no tenga su propia versión de la vista parcial usará la vista parcial compartida.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-140">The shared partial view will be used by any views that don't have their own version of the partial view.</span></span> <span data-ttu-id="ddc6b-141">Puede tener una vista parcial predeterminada (en *Shared*), que se haya reemplazado por una vista parcial con el mismo nombre y en la misma carpeta que la vista principal.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-141">You can have a default partial view (in *Shared*), which is overridden by a partial view with the same name in the same folder as the parent view.</span></span>

<span data-ttu-id="ddc6b-142">Las vistas parciales se pueden *encadenar*.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-142">Partial views can be *chained*.</span></span> <span data-ttu-id="ddc6b-143">Es decir, una vista parcial puede llamar a otra vista parcial (siempre que no creen un bucle).</span><span class="sxs-lookup"><span data-stu-id="ddc6b-143">That is, a partial view can call another partial view (as long as you don't create a loop).</span></span> <span data-ttu-id="ddc6b-144">Dentro de cada vista o vista parcial, las rutas de acceso relativas son siempre relativas con respecto a esa vista, no con respecto a la vista principal o de raíz.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-144">Within each view or partial view, relative paths are always relative to that view, not the root or parent view.</span></span>

> [!NOTE]
> <span data-ttu-id="ddc6b-145">Si declara un `section` de [Razor](razor.md) en una vista parcial, no estará visible para sus vistas principales, sino que se limitará a la vista parcial.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-145">If you declare a [Razor](razor.md) `section` in a partial view, it will not be visible to its parent(s); it will be limited to the partial view.</span></span>

## <a name="accessing-data-from-partial-views"></a><span data-ttu-id="ddc6b-146">Acceso a datos desde vistas parciales</span><span class="sxs-lookup"><span data-stu-id="ddc6b-146">Accessing Data From Partial Views</span></span>

<span data-ttu-id="ddc6b-147">Cuando se crea una instancia de una vista parcial, obtiene una copia del diccionario de `ViewData` de la vista principal.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-147">When a partial view is instantiated, it gets a copy of the parent view's `ViewData` dictionary.</span></span> <span data-ttu-id="ddc6b-148">Las actualizaciones realizadas en los datos dentro de la vista parcial no se conservan en la vista principal.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-148">Updates made to the data within the partial view are not persisted to the parent view.</span></span> <span data-ttu-id="ddc6b-149">`ViewData` cambiado en una parcial vista se pierde cuando se devuelve la vista parcial.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-149">`ViewData` changed in a partial view is lost when the partial view returns.</span></span>

<span data-ttu-id="ddc6b-150">Puede pasar una instancia de `ViewDataDictionary` a la vista parcial:</span><span class="sxs-lookup"><span data-stu-id="ddc6b-150">You can pass an instance of `ViewDataDictionary` to the partial view:</span></span>

```cshtml
@await Html.PartialAsync("PartialName", customViewData)
```

<span data-ttu-id="ddc6b-151">También puede pasar un modelo a una vista parcial.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-151">You can also pass a model into a partial view.</span></span> <span data-ttu-id="ddc6b-152">Puede tratarse del modelo de vista de la página o un objeto personalizado.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-152">This can be the page's view model or a custom object.</span></span> <span data-ttu-id="ddc6b-153">Puede pasar un modelo a `PartialAsync` o a `RenderPartialAsync`:</span><span class="sxs-lookup"><span data-stu-id="ddc6b-153">You can pass a model to `PartialAsync` or `RenderPartialAsync`:</span></span>

```cshtml
@await Html.PartialAsync("PartialName", viewModel)
```

<span data-ttu-id="ddc6b-154">Puede pasar una instancia de `ViewDataDictionary` y un modelo de vista a una vista parcial:</span><span class="sxs-lookup"><span data-stu-id="ddc6b-154">You can pass an instance of `ViewDataDictionary` and a view model to a partial view:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml?range=15-16)]

<span data-ttu-id="ddc6b-155">El marcado siguiente muestra la vista *Views/Articles/Read.cshtml* que contiene dos vistas parciales.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-155">The markup below shows the *Views/Articles/Read.cshtml* view which contains two partial views.</span></span> <span data-ttu-id="ddc6b-156">La segunda vista parcial se pasa a un modelo y `ViewData` a la vista parcial.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-156">The second partial view passes in a model and `ViewData` to the partial view.</span></span> <span data-ttu-id="ddc6b-157">Puede pasar un nuevo diccionario de `ViewData` a la vez que conserva el `ViewData` existente si usa la sobrecarga del constructor de `ViewDataDictionary` resaltado aquí abajo:</span><span class="sxs-lookup"><span data-stu-id="ddc6b-157">You can pass new `ViewData` dictionary while retaining the existing `ViewData` if you use the constructor overload of the `ViewDataDictionary` highlighted below:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml)]

<span data-ttu-id="ddc6b-158">*Views/Shared/AuthorPartial*:</span><span class="sxs-lookup"><span data-stu-id="ddc6b-158">*Views/Shared/AuthorPartial*:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Shared/AuthorPartial.cshtml)]

<span data-ttu-id="ddc6b-159">La vista parcial *ArticleSection*:</span><span class="sxs-lookup"><span data-stu-id="ddc6b-159">The *ArticleSection* partial:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/ArticleSection.cshtml)]

<span data-ttu-id="ddc6b-160">En tiempo de ejecución, las vistas parciales se representan en la vista principal, que a su vez se representa dentro de *_Layout.cshtml* compartido.</span><span class="sxs-lookup"><span data-stu-id="ddc6b-160">At runtime, the partials are rendered into the parent view, which itself is rendered within the shared *_Layout.cshtml*</span></span>

![resultados de vista parcial](partial/_static/output.png)
