---
uid: web-pages/overview/ui-layouts-and-themes/4-working-with-forms
title: Trabajar con formularios HTML en los sitios de ASP.NET Web Pages (Razor) | Documentos de Microsoft
author: tfitzmac
description: "Un formulario es una sección de un documento HTML en la que colocar los controles de entrada del usuario, como cuadros de texto, casillas de verificación, botones de opción y listas desplegables. Utilizar formularios qu..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/10/2014
ms.topic: article
ms.assetid: f3f4b8c8-e8f6-4474-ad94-69228a6c01ee
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/4-working-with-forms
msc.type: authoredcontent
ms.openlocfilehash: fcdded3a7e80ee797eae445f347735f0f7b3d7ad
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/10/2017
---
<a name="working-with-html-forms-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="831ed-104">Trabajar con formularios HTML en sitios de ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="831ed-104">Working with HTML Forms in ASP.NET Web Pages (Razor) Sites</span></span>
====================
<span data-ttu-id="831ed-105">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="831ed-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="831ed-106">Este artículo describe cómo procesar un formulario HTML (con los botones y cuadros de texto) cuando se trabaja en un sitio Web de ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="831ed-106">This article describes how to process an HTML form (with text boxes and buttons) when you are working in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="831ed-107">**Lo que aprenderá:**</span><span class="sxs-lookup"><span data-stu-id="831ed-107">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="831ed-108">Cómo crear un formulario HTML.</span><span class="sxs-lookup"><span data-stu-id="831ed-108">How to create an HTML form.</span></span>
> - <span data-ttu-id="831ed-109">Cómo leer la entrada de usuario del formulario.</span><span class="sxs-lookup"><span data-stu-id="831ed-109">How to read user input from the form.</span></span>
> - <span data-ttu-id="831ed-110">Cómo validar proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="831ed-110">How to validate user input.</span></span>
> - <span data-ttu-id="831ed-111">Cómo restaurar los valores de formulario una vez enviada la página.</span><span class="sxs-lookup"><span data-stu-id="831ed-111">How to restore form values after the page is submitted.</span></span>
> 
> <span data-ttu-id="831ed-112">Estos son los conceptos presentados en el artículo de programación de ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="831ed-112">These are the ASP.NET programming concepts introduced in the article:</span></span>
> 
> - <span data-ttu-id="831ed-113">Objeto `Request`.</span><span class="sxs-lookup"><span data-stu-id="831ed-113">The `Request` object.</span></span>
> - <span data-ttu-id="831ed-114">Validación de entrada.</span><span class="sxs-lookup"><span data-stu-id="831ed-114">Input validation.</span></span>
> - <span data-ttu-id="831ed-115">Codificación HTML.</span><span class="sxs-lookup"><span data-stu-id="831ed-115">HTML encoding.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="831ed-116">Versiones de software que se usa en el tutorial</span><span class="sxs-lookup"><span data-stu-id="831ed-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="831ed-117">ASP.NET Web Pages (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="831ed-117">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="831ed-118">Este tutorial también funciona con ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="831ed-118">This tutorial also works with ASP.NET Web Pages 2.</span></span>


## <a name="creating-a-simple-html-form"></a><span data-ttu-id="831ed-119">Crear un formulario HTML sencillo</span><span class="sxs-lookup"><span data-stu-id="831ed-119">Creating a Simple HTML Form</span></span>

1. <span data-ttu-id="831ed-120">Crear un nuevo sitio Web.</span><span class="sxs-lookup"><span data-stu-id="831ed-120">Create a new website.</span></span>
2. <span data-ttu-id="831ed-121">En la carpeta raíz, cree una página web denominada *Form.cshtml* y escriba el siguiente marcado:</span><span class="sxs-lookup"><span data-stu-id="831ed-121">In the root folder, create a web page named *Form.cshtml* and enter the following markup:</span></span>

    [!code-html[Main](4-working-with-forms/samples/sample1.html)]
3. <span data-ttu-id="831ed-122">Inicie la página en el explorador.</span><span class="sxs-lookup"><span data-stu-id="831ed-122">Launch the page in your browser.</span></span> <span data-ttu-id="831ed-123">(En WebMatrix, en la **archivos** área de trabajo, haga clic en el archivo y, a continuación, seleccione **iniciar en un explorador**.) Un formulario simple con tres campos de entrada y un **enviar** se muestra el botón.</span><span class="sxs-lookup"><span data-stu-id="831ed-123">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.) A simple form with three input fields and a **Submit** button is displayed.</span></span>

    ![Captura de pantalla de un formulario con tres cuadros de texto.](4-working-with-forms/_static/image1.jpg)

    <span data-ttu-id="831ed-125">En este punto, si hace clic en el **enviar** botón, no ocurre nada.</span><span class="sxs-lookup"><span data-stu-id="831ed-125">At this point, if you click the **Submit** button, nothing happens.</span></span> <span data-ttu-id="831ed-126">Para que el formulario sea útil, tienes que agregar código que se ejecutará en el servidor.</span><span class="sxs-lookup"><span data-stu-id="831ed-126">To make the form useful, you have to add some code that will run on the server.</span></span>

## <a name="reading-user-input-from-the-form"></a><span data-ttu-id="831ed-127">Leer la entrada de usuario del formulario</span><span class="sxs-lookup"><span data-stu-id="831ed-127">Reading User Input from the Form</span></span>

<span data-ttu-id="831ed-128">Para procesar el formulario, agregue código que lee los valores de campo enviado y realiza una acción con ellos.</span><span class="sxs-lookup"><span data-stu-id="831ed-128">To process the form, you add code that reads the submitted field values and does something with them.</span></span> <span data-ttu-id="831ed-129">Este procedimiento muestra cómo leer los campos y mostrar la entrada de usuario en la página.</span><span class="sxs-lookup"><span data-stu-id="831ed-129">This procedure shows you how to read the fields and display the user input on the page.</span></span> <span data-ttu-id="831ed-130">(En una aplicación de producción, se suele hacer cosas más interesantes con proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="831ed-130">(In a production application, you generally do more interesting things with user input.</span></span> <span data-ttu-id="831ed-131">Llevará a cabo en el artículo sobre cómo trabajar con bases de datos.)</span><span class="sxs-lookup"><span data-stu-id="831ed-131">You'll do that in the article about working with databases.)</span></span>

1. <span data-ttu-id="831ed-132">En la parte superior de la *Form.cshtml* de archivos, escriba el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="831ed-132">At the top of the *Form.cshtml* file, enter the following code:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample2.cshtml)]

    <span data-ttu-id="831ed-133">Cuando el usuario solicita la página por primera vez, se muestra sólo el formulario vacío.</span><span class="sxs-lookup"><span data-stu-id="831ed-133">When the user first requests the page, only the empty form is displayed.</span></span> <span data-ttu-id="831ed-134">El usuario (que será también) rellene el formulario y, a continuación, haga clic en **enviar**.</span><span class="sxs-lookup"><span data-stu-id="831ed-134">The user (which will be you) fills in the form and then clicks **Submit**.</span></span> <span data-ttu-id="831ed-135">Esto envía (o publica) la entrada del usuario en el servidor.</span><span class="sxs-lookup"><span data-stu-id="831ed-135">This submits (posts) the user input to the server.</span></span> <span data-ttu-id="831ed-136">De forma predeterminada, la solicitud se pasa a la misma página (es decir, *Form.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="831ed-136">By default, the request goes to the same page (namely, *Form.cshtml*).</span></span>

    <span data-ttu-id="831ed-137">Cuando se envía a la página en este momento, se muestran los valores que especificó justo encima de la forma:</span><span class="sxs-lookup"><span data-stu-id="831ed-137">When you submit the page this time, the values you entered are displayed just above the form:</span></span>

    ![Captura de pantalla que muestra los valores que ha escrito aparece en la página.](4-working-with-forms/_static/image2.jpg)

    <span data-ttu-id="831ed-139">Examine el código de la página.</span><span class="sxs-lookup"><span data-stu-id="831ed-139">Look at the code for the page.</span></span> <span data-ttu-id="831ed-140">Realice primero la `IsPost` método para determinar si se está publicando la página &#8212; es decir, si un usuario hace clic en el **enviar** botón.</span><span class="sxs-lookup"><span data-stu-id="831ed-140">You first use the `IsPost` method to determine whether the page is being posted &#8212; that is, whether a user clicked the **Submit** button.</span></span> <span data-ttu-id="831ed-141">Si se trata de una publicación, `IsPost` devuelve true.</span><span class="sxs-lookup"><span data-stu-id="831ed-141">If this is a post, `IsPost` returns true.</span></span> <span data-ttu-id="831ed-142">Esta es la manera estándar en ASP.NET Web Pages para determinar si está trabajando con una solicitud inicial (una solicitud GET) o una devolución de datos (una solicitud POST).</span><span class="sxs-lookup"><span data-stu-id="831ed-142">This is the standard way in ASP.NET Web Pages to determine whether you're working with an initial request (a GET request) or a postback (a POST request).</span></span> <span data-ttu-id="831ed-143">(Para obtener más información acerca de GET y POST, consulte la barra lateral "HTTP GET y POST y la IsPost propiedad" en [Introducción a ASP.NET Web Pages de programación mediante la sintaxis Razor](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span><span class="sxs-lookup"><span data-stu-id="831ed-143">(For more information about GET and POST, see the sidebar "HTTP GET and POST and the IsPost Property" in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span></span>

    <span data-ttu-id="831ed-144">A continuación, se obtienen los valores que el usuario rellena a partir de la `Request.Form` objeto y se coloca en variables para más tarde.</span><span class="sxs-lookup"><span data-stu-id="831ed-144">Next, you get the values that the user filled in from the `Request.Form` object, and you put them in variables for later.</span></span> <span data-ttu-id="831ed-145">La `Request.Form` objeto contiene todos los valores que se enviaron con la página, cada uno de ellos se identifican mediante una clave.</span><span class="sxs-lookup"><span data-stu-id="831ed-145">The `Request.Form` object contains all the values that were submitted with the page, each identified by a key.</span></span> <span data-ttu-id="831ed-146">La clave es el equivalente a la `name` atributo del campo de formulario que desea leer.</span><span class="sxs-lookup"><span data-stu-id="831ed-146">The key is the equivalent to the `name` attribute of the form field that you want to read.</span></span> <span data-ttu-id="831ed-147">Por ejemplo, para leer el `companyname` campo (cuadro de texto), se utiliza `Request.Form["companyname"]`.</span><span class="sxs-lookup"><span data-stu-id="831ed-147">For example, to read the `companyname` field (text box), you use `Request.Form["companyname"]`.</span></span>

    <span data-ttu-id="831ed-148">Valores de formulario se almacenan en la `Request.Form` objeto como cadenas.</span><span class="sxs-lookup"><span data-stu-id="831ed-148">Form values are stored in the `Request.Form` object as strings.</span></span> <span data-ttu-id="831ed-149">Por lo tanto, cuando tiene que trabajar con un valor como un número o una fecha o algún otro tipo, tendrá que convertir una cadena a ese tipo.</span><span class="sxs-lookup"><span data-stu-id="831ed-149">Therefore, when you have to work with a value as a number or a date or some other type, you have to convert it from a string to that type.</span></span> <span data-ttu-id="831ed-150">En el ejemplo, el `AsInt` método de la `Request.Form` se usa para convertir el valor del campo de los empleados (que contiene un recuento de empleados) en un entero.</span><span class="sxs-lookup"><span data-stu-id="831ed-150">In the example, the `AsInt` method of the `Request.Form` is used to convert the value of the employees field (which contains an employee count) to an integer.</span></span>
2. <span data-ttu-id="831ed-151">Inicie la página en el explorador, rellene los campos de formulario y haga clic en **enviar**.</span><span class="sxs-lookup"><span data-stu-id="831ed-151">Launch the page in your browser, fill in the form fields, and click **Submit**.</span></span> <span data-ttu-id="831ed-152">La página muestra los valores especificados.</span><span class="sxs-lookup"><span data-stu-id="831ed-152">The page displays the values you entered.</span></span>

> [!TIP] 
> 
> <a id="SB_HTMLEncoding"></a>
> ### <a name="html-encoding-for-appearance-and-security"></a><span data-ttu-id="831ed-153">Codificación de seguridad y la apariencia de HTML</span><span class="sxs-lookup"><span data-stu-id="831ed-153">HTML Encoding for Appearance and Security</span></span>
> 
> <span data-ttu-id="831ed-154">HTML tiene usos especiales para los caracteres como `<`, `>`, y `&`.</span><span class="sxs-lookup"><span data-stu-id="831ed-154">HTML has special uses for characters like `<`, `>`, and `&`.</span></span> <span data-ttu-id="831ed-155">Si aparecen estos caracteres especiales en el que no están previsto, que pueden que se dañen la apariencia y funcionalidad de la página web.</span><span class="sxs-lookup"><span data-stu-id="831ed-155">If these special characters appear where they're not expected, they can ruin the appearance and functionality of your web page.</span></span> <span data-ttu-id="831ed-156">Por ejemplo, el explorador interpreta la `<` de caracteres (a menos que vaya seguido de un espacio) como el principio de un elemento HTML, como `<b>` o `<input ...>`.</span><span class="sxs-lookup"><span data-stu-id="831ed-156">For example, the browser interprets the `<` character (unless it's followed by a space) as the beginning of an HTML element, like `<b>` or `<input ...>`.</span></span> <span data-ttu-id="831ed-157">Si el explorador no reconoce el elemento, simplemente se descarta la cadena que comienza con `<` hasta que llega a algo que volverá a reconocer.</span><span class="sxs-lookup"><span data-stu-id="831ed-157">If the browser doesn't recognize the element, it simply discards the string that begins with `<` until it reaches something that it again recognizes.</span></span> <span data-ttu-id="831ed-158">Obviamente, esto puede producir alguna representación raro en la página.</span><span class="sxs-lookup"><span data-stu-id="831ed-158">Obviously, this can result in some weird rendering in the page.</span></span>
> 
> <span data-ttu-id="831ed-159">Codificación HTML, estos caracteres reservados reemplaza con un código que exploradores interpretan como el símbolo correcto.</span><span class="sxs-lookup"><span data-stu-id="831ed-159">HTML encoding replaces these reserved characters with a code that browsers interpret as the correct symbol.</span></span> <span data-ttu-id="831ed-160">Por ejemplo, el `<` carácter se sustituye por `&lt;` y `>` carácter se sustituye por `&gt;`.</span><span class="sxs-lookup"><span data-stu-id="831ed-160">For example, the `<` character is replaced with `&lt;` and the `>` character is replaced with `&gt;`.</span></span> <span data-ttu-id="831ed-161">El explorador presenta estas cadenas de reemplazo como los caracteres que desea ver.</span><span class="sxs-lookup"><span data-stu-id="831ed-161">The browser renders these replacement strings as the characters that you want to see.</span></span>
> 
> <span data-ttu-id="831ed-162">Es una buena idea usar siempre que se muestran las cadenas de codificación HTML (entrada) que se obtuvo de un usuario.</span><span class="sxs-lookup"><span data-stu-id="831ed-162">It's a good idea to use HTML encoding any time you display strings (input) that you got from a user.</span></span> <span data-ttu-id="831ed-163">Si no lo hace, un usuario puede intentar obtener la página web para ejecutar un script malintencionado o hacer algo más que pone en peligro la seguridad del sitio o que simplemente no es lo que deseado.</span><span class="sxs-lookup"><span data-stu-id="831ed-163">If you don't, a user can try to get your web page to run a malicious script or do something else that compromises your site security or that's just not what you intend.</span></span> <span data-ttu-id="831ed-164">(Esto es especialmente importante si toma proporcionados por el usuario, almacenar un lugar y, a continuación, mostrar más tarde &#8212; por ejemplo, como un comentario de blog, usuario consulte, o un resultado similar que).</span><span class="sxs-lookup"><span data-stu-id="831ed-164">(This is particularly important if you take user input, store it someplace, and then display it later &#8212; for example, as a blog comment, user review, or something like that.)</span></span>
> 
> <span data-ttu-id="831ed-165">Para ayudar a evitar estos problemas, ASP.NET Web Pages automáticamente codifica en HTML cualquier texto de contenido que usted desde el código de salida.</span><span class="sxs-lookup"><span data-stu-id="831ed-165">To help prevent these problems, ASP.NET Web Pages automatically HTML-encodes any text content that you output from your code.</span></span> <span data-ttu-id="831ed-166">Por ejemplo, al mostrar el contenido de una variable o una expresión mediante código como `@MyVar`, ASP.NET Web Pages codifica automáticamente la salida.</span><span class="sxs-lookup"><span data-stu-id="831ed-166">For example, when you display the content of a variable or an expression using code such as `@MyVar`, ASP.NET Web Pages automatically encodes the output.</span></span>


## <a name="validating-user-input"></a><span data-ttu-id="831ed-167">Validar la entrada del usuario</span><span class="sxs-lookup"><span data-stu-id="831ed-167">Validating User Input</span></span>

<span data-ttu-id="831ed-168">Los usuarios cometen errores.</span><span class="sxs-lookup"><span data-stu-id="831ed-168">Users make mistakes.</span></span> <span data-ttu-id="831ed-169">Pídales que completen en un campo y se olvidan de hacerlo, o pídale que especifique el número de empleados y escriban un nombre en su lugar.</span><span class="sxs-lookup"><span data-stu-id="831ed-169">You ask them to fill in a field, and they forget to, or you ask them to enter the number of employees and they type a name instead.</span></span> <span data-ttu-id="831ed-170">Para asegurarse de que un formulario se ha rellenado correctamente antes de que lo procesa, validar la entrada del usuario.</span><span class="sxs-lookup"><span data-stu-id="831ed-170">To make sure that a form has been filled in correctly before you process it, you validate the user's input.</span></span>

<span data-ttu-id="831ed-171">Este procedimiento muestra cómo validar todos los campos de formulario tres para asegurarse de que el usuario no dejarlo en blanco.</span><span class="sxs-lookup"><span data-stu-id="831ed-171">This procedure shows how to validate all three form fields to make sure the user didn't leave them blank.</span></span> <span data-ttu-id="831ed-172">También comprobar que el valor de recuento de empleados es un número.</span><span class="sxs-lookup"><span data-stu-id="831ed-172">You also check that the employee count value is a number.</span></span> <span data-ttu-id="831ed-173">Si hay errores, se mostrará un error de mensaje que indica al usuario qué valores no pasa la validación.</span><span class="sxs-lookup"><span data-stu-id="831ed-173">If there are errors, you'll display an error message that tells the user what values didn't pass validation.</span></span>

1. <span data-ttu-id="831ed-174">En el *Form.cshtml* de archivos, sustituya el primer bloque de código con el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="831ed-174">In the *Form.cshtml* file, replace the first block of code with the following code:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample3.cshtml)]

    <span data-ttu-id="831ed-175">Para validar entrada de usuario, puede utilizar el `Validation` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="831ed-175">To validate user input, you use the `Validation` helper.</span></span> <span data-ttu-id="831ed-176">Registrar campos obligatorios mediante una llamada a `Validation.RequireField`.</span><span class="sxs-lookup"><span data-stu-id="831ed-176">You register required fields by calling `Validation.RequireField`.</span></span> <span data-ttu-id="831ed-177">Registrar otros tipos de validación mediante una llamada a `Validation.Add` y especificar el campo que se valida y el tipo de validación que se realiza.</span><span class="sxs-lookup"><span data-stu-id="831ed-177">You register other types of validation by calling `Validation.Add` and specifying the field to validate and the type of validation to perform.</span></span>

    <span data-ttu-id="831ed-178">Cuando se ejecuta la página, ASP.NET realiza todas la validación por usted.</span><span class="sxs-lookup"><span data-stu-id="831ed-178">When the page runs, ASP.NET does all the validation for you.</span></span> <span data-ttu-id="831ed-179">Puede comprobar los resultados mediante una llamada a `Validation.IsValid`, que devuelve true si todo lo que pasa y false si cualquier campo de un error de validación.</span><span class="sxs-lookup"><span data-stu-id="831ed-179">You can check the results by calling `Validation.IsValid`, which returns true if everything passed and false if any field failed validation.</span></span> <span data-ttu-id="831ed-180">Normalmente, se llama a `Validation.IsValid` antes de realizar cualquier procesamiento en la entrada del usuario.</span><span class="sxs-lookup"><span data-stu-id="831ed-180">Typically, you call `Validation.IsValid` before you perform any processing on the user input.</span></span>
2. <span data-ttu-id="831ed-181">Actualización del `<body>` elemento mediante la adición de tres llamadas a la `Html.ValidationMessage` método, similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="831ed-181">Update the `<body>` element by adding three calls to the `Html.ValidationMessage` method, like this:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample4.cshtml?highlight=8,13,18)]

    <span data-ttu-id="831ed-182">Para mostrar mensajes de error de validación, puede llamar a Html.`ValidationMessage`</span><span class="sxs-lookup"><span data-stu-id="831ed-182">To display validation error messages, you can call Html.`ValidationMessage`</span></span> <span data-ttu-id="831ed-183">y pásele el nombre del campo que desea que el mensaje.</span><span class="sxs-lookup"><span data-stu-id="831ed-183">and pass it the name of the field that you want the message for.</span></span>
3. <span data-ttu-id="831ed-184">Ejecute la página.</span><span class="sxs-lookup"><span data-stu-id="831ed-184">Run the page.</span></span> <span data-ttu-id="831ed-185">Deje los campos en blanco y haga clic en **enviar**.</span><span class="sxs-lookup"><span data-stu-id="831ed-185">Leave the fields blank and click **Submit**.</span></span> <span data-ttu-id="831ed-186">Vea mensajes de error.</span><span class="sxs-lookup"><span data-stu-id="831ed-186">You see error messages.</span></span>

    ![Captura de pantalla que muestra los mensajes de error aparece si proporcionados por el usuario no pasan la validación.](4-working-with-forms/_static/image3.jpg)
4. <span data-ttu-id="831ed-188">Agregar una cadena (por ejemplo, "ABC") a la **Employee Count** campo y haga clic en **enviar** nuevo.</span><span class="sxs-lookup"><span data-stu-id="831ed-188">Add a string (for example, "ABC") to the **Employee Count** field and click **Submit** again.</span></span> <span data-ttu-id="831ed-189">Esta vez que vea un error que indica que la cadena no está en el formato correcto, es decir, un número entero.</span><span class="sxs-lookup"><span data-stu-id="831ed-189">This time you see an error that indicates that the string isn't in the right format, namely, an integer.</span></span>

    ![Captura de pantalla que muestra los mensajes de error aparece si los usuarios escribir una cadena para el campo de los empleados.](4-working-with-forms/_static/image4.jpg)

<span data-ttu-id="831ed-191">ASP.NET Web Pages proporciona más opciones para validar la entrada del usuario, incluida la capacidad para realizar automáticamente la validación mediante script de cliente, por lo que los usuarios obtengan información inmediata en el explorador.</span><span class="sxs-lookup"><span data-stu-id="831ed-191">ASP.NET Web Pages provides more options for validating user input, including the ability to automatically perform validation using client script, so that users get immediate feedback in the browser.</span></span> <span data-ttu-id="831ed-192">Consulte la [recursos adicionales](#Additional_Resources) sección más adelante para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="831ed-192">See the [Additional Resources](#Additional_Resources) section later for more information.</span></span>

## <a name="restoring-form-values-after-postbacks"></a><span data-ttu-id="831ed-193">Restablecer los valores de formulario después de las devoluciones de datos</span><span class="sxs-lookup"><span data-stu-id="831ed-193">Restoring Form Values After Postbacks</span></span>

<span data-ttu-id="831ed-194">Al probar la página en la sección anterior, puede que haya observado si tuviera un error de validación, todo lo que escribió (no solo los datos no válidos) se ha desaparecido y tenía que volver a escribir valores para todos los campos.</span><span class="sxs-lookup"><span data-stu-id="831ed-194">When you tested the page in the previous section, you might have noticed that if you had a validation error, everything you entered (not just the invalid data) was gone, and you had to re-enter values for all the fields.</span></span> <span data-ttu-id="831ed-195">Esto ilustra un aspecto importante: al enviar una página, procesarlo y, a continuación, vuelva a procesar la página, la página se vuelve a crear desde cero.</span><span class="sxs-lookup"><span data-stu-id="831ed-195">This illustrates an important point: when you submit a page, process it, and then render the page again, the page is re-created from scratch.</span></span> <span data-ttu-id="831ed-196">Como ha podido comprobar, esto significa que se pierden los valores que estaban en la página cuando se envió.</span><span class="sxs-lookup"><span data-stu-id="831ed-196">As you saw, this means that any values that were in the page when it was submitted are lost.</span></span>

<span data-ttu-id="831ed-197">Puede corregir esto fácilmente, sin embargo.</span><span class="sxs-lookup"><span data-stu-id="831ed-197">You can fix this easily, however.</span></span> <span data-ttu-id="831ed-198">Tener acceso a los valores que se enviaron (en la `Request.Form` del objeto, por lo que puede rellenar los valores en los campos del formulario cuando se procesa la página.</span><span class="sxs-lookup"><span data-stu-id="831ed-198">You have access to the values that were submitted (in the `Request.Form` object, so you can fill those values back into the form fields when the page is rendered.</span></span>

1. <span data-ttu-id="831ed-199">En el *Form.cshtml* archivo, reemplace la `value` atributos de la `<input>` elementos mediante el `value` atributo.:</span><span class="sxs-lookup"><span data-stu-id="831ed-199">In the *Form.cshtml* file, replace the `value` attributes of the `<input>` elements using the `value` attribute.:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample5.cshtml?highlight=13,19,25)]

    <span data-ttu-id="831ed-200">El `value` atributo de la `<input>` elementos se ha establecido en dinámicamente leer el valor del campo de la `Request.Form` objeto.</span><span class="sxs-lookup"><span data-stu-id="831ed-200">The `value` attribute of the `<input>` elements has been set to dynamically read the field value out of the `Request.Form` object.</span></span> <span data-ttu-id="831ed-201">La primera vez que se solicita la página, los valores de la `Request.Form` objeto están vacías.</span><span class="sxs-lookup"><span data-stu-id="831ed-201">The first time that the page is requested, the values in the `Request.Form` object are all empty.</span></span> <span data-ttu-id="831ed-202">Esto es correcto, ya que de este modo el formulario está en blanco.</span><span class="sxs-lookup"><span data-stu-id="831ed-202">This is fine, because that way the form is blank.</span></span>
2. <span data-ttu-id="831ed-203">Iniciar la página en el explorador, rellene los campos de formulario o dejarlo en blanco y haga clic en **enviar**.</span><span class="sxs-lookup"><span data-stu-id="831ed-203">Launch the page in your browser, fill in the form fields or leave them blank, and click **Submit**.</span></span> <span data-ttu-id="831ed-204">Se muestra una página que se muestra los valores enviados.</span><span class="sxs-lookup"><span data-stu-id="831ed-204">A page that shows the submitted values is displayed.</span></span>

    ![5 de formularios](4-working-with-forms/_static/image5.jpg)

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="831ed-206">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="831ed-206">Additional Resources</span></span>

- [<span data-ttu-id="831ed-207">1.001 maneras para obtener la entrada de usuarios Web</span><span class="sxs-lookup"><span data-stu-id="831ed-207">1,001 Ways to Get Input from Web Users</span></span>](https://msdn.microsoft.com/en-us/library/ms971057.aspx)
- <span data-ttu-id="831ed-208">[Uso de formularios y el procesamiento proporcionados por el usuario](https://msdn.microsoft.com/en-us/library/ms525182(VS.90).aspx)</span><span class="sxs-lookup"><span data-stu-id="831ed-208">[Using Forms and Processing User Input](https://msdn.microsoft.com/en-us/library/ms525182(VS.90).aspx)</span></span>
- [<span data-ttu-id="831ed-209">Validar la entrada del usuario en los sitios de páginas Web de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="831ed-209">Validating User Input in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=253002)
- <span data-ttu-id="831ed-210">[Usar Autocompletar en formularios HTML](https://msdn.microsoft.com/en-us/library/ms533032(VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="831ed-210">[Using AutoComplete in HTML Forms](https://msdn.microsoft.com/en-us/library/ms533032(VS.85).aspx)</span></span>
